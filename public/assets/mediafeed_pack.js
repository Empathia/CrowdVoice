/*!
 * jQuery JavaScript Library v1.6.4
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Sep 12 18:54:48 2011 -0400
 */
(function(a8,L){var aq=a8.document,br=a8.navigator,bi=a8.location;var b=(function(){var bD=function(bZ,b0){return new bD.fn.init(bZ,b0,bB)},bT=a8.jQuery,bF=a8.$,bB,bX=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bL=/\S/,bH=/^\s+/,bC=/\s+$/,bG=/\d/,by=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bM=/^[\],:{}\s]*$/,bV=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,bO=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bI=/(?:^|:|,)(?:\s*\[)+/g,bw=/(webkit)[ \/]([\w.]+)/,bQ=/(opera)(?:.*version)?[ \/]([\w.]+)/,bP=/(msie) ([\w.]+)/,bR=/(mozilla)(?:.*? rv:([\w.]+))?/,bz=/-([a-z]|[0-9])/ig,bY=/^-ms-/,bS=function(bZ,b0){return(b0+"").toUpperCase()},bW=br.userAgent,bU,bA,bs,bK=Object.prototype.toString,bE=Object.prototype.hasOwnProperty,bx=Array.prototype.push,bJ=Array.prototype.slice,bN=String.prototype.trim,bt=Array.prototype.indexOf,bv={};bD.fn=bD.prototype={constructor:bD,init:function(bZ,b3,b2){var b1,b4,b0,b5;if(!bZ){return this}if(bZ.nodeType){this.context=this[0]=bZ;this.length=1;return this}if(bZ==="body"&&!b3&&aq.body){this.context=aq;this[0]=aq.body;this.selector=bZ;this.length=1;return this}if(typeof bZ==="string"){if(bZ.charAt(0)==="<"&&bZ.charAt(bZ.length-1)===">"&&bZ.length>=3){b1=[null,bZ,null]}else{b1=bX.exec(bZ)}if(b1&&(b1[1]||!b3)){if(b1[1]){b3=b3 instanceof bD?b3[0]:b3;b5=(b3?b3.ownerDocument||b3:aq);b0=by.exec(bZ);if(b0){if(bD.isPlainObject(b3)){bZ=[aq.createElement(b0[1])];bD.fn.attr.call(bZ,b3,true)}else{bZ=[b5.createElement(b0[1])]}}else{b0=bD.buildFragment([b1[1]],[b5]);bZ=(b0.cacheable?bD.clone(b0.fragment):b0.fragment).childNodes}return bD.merge(this,bZ)}else{b4=aq.getElementById(b1[2]);if(b4&&b4.parentNode){if(b4.id!==b1[2]){return b2.find(bZ)}this.length=1;this[0]=b4}this.context=aq;this.selector=bZ;return this}}else{if(!b3||b3.jquery){return(b3||b2).find(bZ)}else{return this.constructor(b3).find(bZ)}}}else{if(bD.isFunction(bZ)){return b2.ready(bZ)}}if(bZ.selector!==L){this.selector=bZ.selector;this.context=bZ.context}return bD.makeArray(bZ,this)},selector:"",jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return bJ.call(this,0)},get:function(bZ){return bZ==null?this.toArray():(bZ<0?this[this.length+bZ]:this[bZ])},pushStack:function(b0,b2,bZ){var b1=this.constructor();if(bD.isArray(b0)){bx.apply(b1,b0)}else{bD.merge(b1,b0)}b1.prevObject=this;b1.context=this.context;if(b2==="find"){b1.selector=this.selector+(this.selector?" ":"")+bZ}else{if(b2){b1.selector=this.selector+"."+b2+"("+bZ+")"}}return b1},each:function(b0,bZ){return bD.each(this,b0,bZ)},ready:function(bZ){bD.bindReady();bA.done(bZ);return this},eq:function(bZ){return bZ===-1?this.slice(bZ):this.slice(bZ,+bZ+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bJ.apply(this,arguments),"slice",bJ.call(arguments).join(","))},map:function(bZ){return this.pushStack(bD.map(this,function(b1,b0){return bZ.call(b1,b0,b1)}))},end:function(){return this.prevObject||this.constructor(null)},push:bx,sort:[].sort,splice:[].splice};bD.fn.init.prototype=bD.fn;bD.extend=bD.fn.extend=function(){var b8,b1,bZ,b0,b5,b6,b4=arguments[0]||{},b3=1,b2=arguments.length,b7=false;if(typeof b4==="boolean"){b7=b4;b4=arguments[1]||{};b3=2}if(typeof b4!=="object"&&!bD.isFunction(b4)){b4={}}if(b2===b3){b4=this;--b3}for(;b3<b2;b3++){if((b8=arguments[b3])!=null){for(b1 in b8){bZ=b4[b1];b0=b8[b1];if(b4===b0){continue}if(b7&&b0&&(bD.isPlainObject(b0)||(b5=bD.isArray(b0)))){if(b5){b5=false;b6=bZ&&bD.isArray(bZ)?bZ:[]}else{b6=bZ&&bD.isPlainObject(bZ)?bZ:{}}b4[b1]=bD.extend(b7,b6,b0)}else{if(b0!==L){b4[b1]=b0}}}}}return b4};bD.extend({noConflict:function(bZ){if(a8.$===bD){a8.$=bF}if(bZ&&a8.jQuery===bD){a8.jQuery=bT}return bD},isReady:false,readyWait:1,holdReady:function(bZ){if(bZ){bD.readyWait++}else{bD.ready(true)}},ready:function(bZ){if((bZ===true&&!--bD.readyWait)||(bZ!==true&&!bD.isReady)){if(!aq.body){return setTimeout(bD.ready,1)}bD.isReady=true;if(bZ!==true&&--bD.readyWait>0){return}bA.resolveWith(aq,[bD]);if(bD.fn.trigger){bD(aq).trigger("ready").unbind("ready")}}},bindReady:function(){if(bA){return}bA=bD._Deferred();if(aq.readyState==="complete"){return setTimeout(bD.ready,1)}if(aq.addEventListener){aq.addEventListener("DOMContentLoaded",bs,false);a8.addEventListener("load",bD.ready,false)}else{if(aq.attachEvent){aq.attachEvent("onreadystatechange",bs);a8.attachEvent("onload",bD.ready);var bZ=false;try{bZ=a8.frameElement==null}catch(b0){}if(aq.documentElement.doScroll&&bZ){bu()}}}},isFunction:function(bZ){return bD.type(bZ)==="function"},isArray:Array.isArray||function(bZ){return bD.type(bZ)==="array"},isWindow:function(bZ){return bZ&&typeof bZ==="object"&&"setInterval" in bZ},isNaN:function(bZ){return bZ==null||!bG.test(bZ)||isNaN(bZ)},type:function(bZ){return bZ==null?String(bZ):bv[bK.call(bZ)]||"object"},isPlainObject:function(b1){if(!b1||bD.type(b1)!=="object"||b1.nodeType||bD.isWindow(b1)){return false}try{if(b1.constructor&&!bE.call(b1,"constructor")&&!bE.call(b1.constructor.prototype,"isPrototypeOf")){return false}}catch(b0){return false}var bZ;for(bZ in b1){}return bZ===L||bE.call(b1,bZ)},isEmptyObject:function(b0){for(var bZ in b0){return false}return true},error:function(bZ){throw bZ},parseJSON:function(bZ){if(typeof bZ!=="string"||!bZ){return null}bZ=bD.trim(bZ);if(a8.JSON&&a8.JSON.parse){return a8.JSON.parse(bZ)}if(bM.test(bZ.replace(bV,"@").replace(bO,"]").replace(bI,""))){return(new Function("return "+bZ))()}bD.error("Invalid JSON: "+bZ)},parseXML:function(b1){var bZ,b0;try{if(a8.DOMParser){b0=new DOMParser();bZ=b0.parseFromString(b1,"text/xml")}else{bZ=new ActiveXObject("Microsoft.XMLDOM");bZ.async="false";bZ.loadXML(b1)}}catch(b2){bZ=L}if(!bZ||!bZ.documentElement||bZ.getElementsByTagName("parsererror").length){bD.error("Invalid XML: "+b1)}return bZ},noop:function(){},globalEval:function(bZ){if(bZ&&bL.test(bZ)){(a8.execScript||function(b0){a8["eval"].call(a8,b0)})(bZ)}},camelCase:function(bZ){return bZ.replace(bY,"ms-").replace(bz,bS)},nodeName:function(b0,bZ){return b0.nodeName&&b0.nodeName.toUpperCase()===bZ.toUpperCase()},each:function(b2,b5,b1){var b0,b3=0,b4=b2.length,bZ=b4===L||bD.isFunction(b2);if(b1){if(bZ){for(b0 in b2){if(b5.apply(b2[b0],b1)===false){break}}}else{for(;b3<b4;){if(b5.apply(b2[b3++],b1)===false){break}}}}else{if(bZ){for(b0 in b2){if(b5.call(b2[b0],b0,b2[b0])===false){break}}}else{for(;b3<b4;){if(b5.call(b2[b3],b3,b2[b3++])===false){break}}}}return b2},trim:bN?function(bZ){return bZ==null?"":bN.call(bZ)}:function(bZ){return bZ==null?"":bZ.toString().replace(bH,"").replace(bC,"")},makeArray:function(b2,b0){var bZ=b0||[];if(b2!=null){var b1=bD.type(b2);if(b2.length==null||b1==="string"||b1==="function"||b1==="regexp"||bD.isWindow(b2)){bx.call(bZ,b2)}else{bD.merge(bZ,b2)}}return bZ},inArray:function(b1,b2){if(!b2){return -1}if(bt){return bt.call(b2,b1)}for(var bZ=0,b0=b2.length;bZ<b0;bZ++){if(b2[bZ]===b1){return bZ}}return -1},merge:function(b3,b1){var b2=b3.length,b0=0;if(typeof b1.length==="number"){for(var bZ=b1.length;b0<bZ;b0++){b3[b2++]=b1[b0]}}else{while(b1[b0]!==L){b3[b2++]=b1[b0++]}}b3.length=b2;return b3},grep:function(b0,b5,bZ){var b1=[],b4;bZ=!!bZ;for(var b2=0,b3=b0.length;b2<b3;b2++){b4=!!b5(b0[b2],b2);if(bZ!==b4){b1.push(b0[b2])}}return b1},map:function(bZ,b6,b7){var b4,b5,b3=[],b1=0,b0=bZ.length,b2=bZ instanceof bD||b0!==L&&typeof b0==="number"&&((b0>0&&bZ[0]&&bZ[b0-1])||b0===0||bD.isArray(bZ));if(b2){for(;b1<b0;b1++){b4=b6(bZ[b1],b1,b7);if(b4!=null){b3[b3.length]=b4}}}else{for(b5 in bZ){b4=b6(bZ[b5],b5,b7);if(b4!=null){b3[b3.length]=b4}}}return b3.concat.apply([],b3)},guid:1,proxy:function(b3,b2){if(typeof b2==="string"){var b1=b3[b2];b2=b3;b3=b1}if(!bD.isFunction(b3)){return L}var bZ=bJ.call(arguments,2),b0=function(){return b3.apply(b2,bZ.concat(bJ.call(arguments)))};b0.guid=b3.guid=b3.guid||b0.guid||bD.guid++;return b0},access:function(bZ,b7,b5,b1,b4,b6){var b0=bZ.length;if(typeof b7==="object"){for(var b2 in b7){bD.access(bZ,b2,b7[b2],b1,b4,b5)}return bZ}if(b5!==L){b1=!b6&&b1&&bD.isFunction(b5);for(var b3=0;b3<b0;b3++){b4(bZ[b3],b7,b1?b5.call(bZ[b3],b3,b4(bZ[b3],b7)):b5,b6)}return bZ}return b0?b4(bZ[0],b7):L},now:function(){return(new Date()).getTime()},uaMatch:function(b0){b0=b0.toLowerCase();var bZ=bw.exec(b0)||bQ.exec(b0)||bP.exec(b0)||b0.indexOf("compatible")<0&&bR.exec(b0)||[];return{browser:bZ[1]||"",version:bZ[2]||"0"}},sub:function(){function bZ(b2,b3){return new bZ.fn.init(b2,b3)}bD.extend(true,bZ,this);bZ.superclass=this;bZ.fn=bZ.prototype=this();bZ.fn.constructor=bZ;bZ.sub=this.sub;bZ.fn.init=function b1(b2,b3){if(b3&&b3 instanceof bD&&!(b3 instanceof bZ)){b3=bZ(b3)}return bD.fn.init.call(this,b2,b3,b0)};bZ.fn.init.prototype=bZ.fn;var b0=bZ(aq);return bZ},browser:{}});bD.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b0,bZ){bv["[object "+bZ+"]"]=bZ.toLowerCase()});bU=bD.uaMatch(bW);if(bU.browser){bD.browser[bU.browser]=true;bD.browser.version=bU.version}if(bD.browser.webkit){bD.browser.safari=true}if(bL.test("\xA0")){bH=/^[\s\xA0]+/;bC=/[\s\xA0]+$/}bB=bD(aq);if(aq.addEventListener){bs=function(){aq.removeEventListener("DOMContentLoaded",bs,false);bD.ready()}}else{if(aq.attachEvent){bs=function(){if(aq.readyState==="complete"){aq.detachEvent("onreadystatechange",bs);bD.ready()}}}}function bu(){if(bD.isReady){return}try{aq.documentElement.doScroll("left")}catch(bZ){setTimeout(bu,1);return}bD.ready()}return bD})();var a="done fail isResolved isRejected promise then always pipe".split(" "),aF=[].slice;b.extend({_Deferred:function(){var bv=[],bw,bt,bu,bs={done:function(){if(!bu){var by=arguments,bz,bC,bB,bA,bx;if(bw){bx=bw;bw=0}for(bz=0,bC=by.length;bz<bC;bz++){bB=by[bz];bA=b.type(bB);if(bA==="array"){bs.done.apply(bs,bB)}else{if(bA==="function"){bv.push(bB)}}}if(bx){bs.resolveWith(bx[0],bx[1])}}return this},resolveWith:function(by,bx){if(!bu&&!bw&&!bt){bx=bx||[];bt=1;try{while(bv[0]){bv.shift().apply(by,bx)}}finally{bw=[by,bx];bt=0}}return this},resolve:function(){bs.resolveWith(this,arguments);return this},isResolved:function(){return !!(bt||bw)},cancel:function(){bu=1;bv=[];return this}};return bs},Deferred:function(bt){var bs=b._Deferred(),bv=b._Deferred(),bu;b.extend(bs,{then:function(bx,bw){bs.done(bx).fail(bw);return this},always:function(){return bs.done.apply(bs,arguments).fail.apply(this,arguments)},fail:bv.done,rejectWith:bv.resolveWith,reject:bv.resolve,isRejected:bv.isResolved,pipe:function(bx,bw){return b.Deferred(function(by){b.each({done:[bx,"resolve"],fail:[bw,"reject"]},function(bA,bD){var bz=bD[0],bC=bD[1],bB;if(b.isFunction(bz)){bs[bA](function(){bB=bz.apply(this,arguments);if(bB&&b.isFunction(bB.promise)){bB.promise().then(by.resolve,by.reject)}else{by[bC+"With"](this===bs?by:this,[bB])}})}else{bs[bA](by[bC])}})}).promise()},promise:function(bx){if(bx==null){if(bu){return bu}bu=bx={}}var bw=a.length;while(bw--){bx[a[bw]]=bs[a[bw]]}return bx}});bs.done(bv.cancel).fail(bs.cancel);delete bs.cancel;if(bt){bt.call(bs,bs)}return bs},when:function(by){var bt=arguments,bu=0,bx=bt.length,bw=bx,bs=bx<=1&&by&&b.isFunction(by.promise)?by:b.Deferred();function bv(bz){return function(bA){bt[bz]=arguments.length>1?aF.call(arguments,0):bA;if(!(--bw)){bs.resolveWith(bs,aF.call(bt,0))}}}if(bx>1){for(;bu<bx;bu++){if(bt[bu]&&b.isFunction(bt[bu].promise)){bt[bu].promise().then(bv(bu),bs.reject)}else{--bw}}if(!bw){bs.resolveWith(bs,bt)}}else{if(bs!==by){bs.resolveWith(bs,bx?[by]:[])}}return bs.promise()}});b.support=(function(){var bC=aq.createElement("div"),bJ=aq.documentElement,bv,bK,bD,bt,bB,bw,bz,bs,bA,bE,by,bI,bG,bu,bx,bF,bL;bC.setAttribute("className","t");bC.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";bv=bC.getElementsByTagName("*");bK=bC.getElementsByTagName("a")[0];if(!bv||!bv.length||!bK){return{}}bD=aq.createElement("select");bt=bD.appendChild(aq.createElement("option"));bB=bC.getElementsByTagName("input")[0];bz={leadingWhitespace:(bC.firstChild.nodeType===3),tbody:!bC.getElementsByTagName("tbody").length,htmlSerialize:!!bC.getElementsByTagName("link").length,style:/top/.test(bK.getAttribute("style")),hrefNormalized:(bK.getAttribute("href")==="/a"),opacity:/^0.55$/.test(bK.style.opacity),cssFloat:!!bK.style.cssFloat,checkOn:(bB.value==="on"),optSelected:bt.selected,getSetAttribute:bC.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};bB.checked=true;bz.noCloneChecked=bB.cloneNode(true).checked;bD.disabled=true;bz.optDisabled=!bt.disabled;try{delete bC.test}catch(bH){bz.deleteExpando=false}if(!bC.addEventListener&&bC.attachEvent&&bC.fireEvent){bC.attachEvent("onclick",function(){bz.noCloneEvent=false});bC.cloneNode(true).fireEvent("onclick")}bB=aq.createElement("input");bB.value="t";bB.setAttribute("type","radio");bz.radioValue=bB.value==="t";bB.setAttribute("checked","checked");bC.appendChild(bB);bs=aq.createDocumentFragment();bs.appendChild(bC.firstChild);bz.checkClone=bs.cloneNode(true).cloneNode(true).lastChild.checked;bC.innerHTML="";bC.style.width=bC.style.paddingLeft="1px";bA=aq.getElementsByTagName("body")[0];by=aq.createElement(bA?"div":"body");bI={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(bA){b.extend(bI,{position:"absolute",left:"-1000px",top:"-1000px"})}for(bF in bI){by.style[bF]=bI[bF]}by.appendChild(bC);bE=bA||bJ;bE.insertBefore(by,bE.firstChild);bz.appendChecked=bB.checked;bz.boxModel=bC.offsetWidth===2;if("zoom" in bC.style){bC.style.display="inline";bC.style.zoom=1;bz.inlineBlockNeedsLayout=(bC.offsetWidth===2);bC.style.display="";bC.innerHTML="<div style='width:4px;'></div>";bz.shrinkWrapBlocks=(bC.offsetWidth!==2)}bC.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";bG=bC.getElementsByTagName("td");bL=(bG[0].offsetHeight===0);bG[0].style.display="";bG[1].style.display="none";bz.reliableHiddenOffsets=bL&&(bG[0].offsetHeight===0);bC.innerHTML="";if(aq.defaultView&&aq.defaultView.getComputedStyle){bw=aq.createElement("div");bw.style.width="0";bw.style.marginRight="0";bC.appendChild(bw);bz.reliableMarginRight=(parseInt((aq.defaultView.getComputedStyle(bw,null)||{marginRight:0}).marginRight,10)||0)===0}by.innerHTML="";bE.removeChild(by);if(bC.attachEvent){for(bF in {submit:1,change:1,focusin:1}){bx="on"+bF;bL=(bx in bC);if(!bL){bC.setAttribute(bx,"return;");bL=(typeof bC[bx]==="function")}bz[bF+"Bubbles"]=bL}}by=bs=bD=bt=bA=bw=bC=bB=null;return bz})();b.boxModel=b.support.boxModel;var aM=/^(?:\{.*\}|\[.*\])$/,aw=/([A-Z])/g;b.extend({cache:{},uuid:0,expando:"jQuery"+(b.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(bs){bs=bs.nodeType?b.cache[bs[b.expando]]:bs[b.expando];return !!bs&&!T(bs)},data:function(bv,bt,bx,bw){if(!b.acceptData(bv)){return}var by,bA,bB=b.expando,bz=typeof bt==="string",bC=bv.nodeType,bs=bC?b.cache:bv,bu=bC?bv[b.expando]:bv[b.expando]&&b.expando;if((!bu||(bw&&bu&&(bs[bu]&&!bs[bu][bB])))&&bz&&bx===L){return}if(!bu){if(bC){bv[b.expando]=bu=++b.uuid}else{bu=b.expando}}if(!bs[bu]){bs[bu]={};if(!bC){bs[bu].toJSON=b.noop}}if(typeof bt==="object"||typeof bt==="function"){if(bw){bs[bu][bB]=b.extend(bs[bu][bB],bt)}else{bs[bu]=b.extend(bs[bu],bt)}}by=bs[bu];if(bw){if(!by[bB]){by[bB]={}}by=by[bB]}if(bx!==L){by[b.camelCase(bt)]=bx}if(bt==="events"&&!by[bt]){return by[bB]&&by[bB].events}if(bz){bA=by[bt];if(bA==null){bA=by[b.camelCase(bt)]}}else{bA=by}return bA},removeData:function(bw,bu,bx){if(!b.acceptData(bw)){return}var by,bz=b.expando,bA=bw.nodeType,bt=bA?b.cache:bw,bv=bA?bw[b.expando]:b.expando;if(!bt[bv]){return}if(bu){by=bx?bt[bv][bz]:bt[bv];if(by){if(!by[bu]){bu=b.camelCase(bu)}delete by[bu];if(!T(by)){return}}}if(bx){delete bt[bv][bz];if(!T(bt[bv])){return}}var bs=bt[bv][bz];if(b.support.deleteExpando||!bt.setInterval){delete bt[bv]}else{bt[bv]=null}if(bs){bt[bv]={};if(!bA){bt[bv].toJSON=b.noop}bt[bv][bz]=bs}else{if(bA){if(b.support.deleteExpando){delete bw[b.expando]}else{if(bw.removeAttribute){bw.removeAttribute(b.expando)}else{bw[b.expando]=null}}}}},_data:function(bt,bs,bu){return b.data(bt,bs,bu,true)},acceptData:function(bt){if(bt.nodeName){var bs=b.noData[bt.nodeName.toLowerCase()];if(bs){return !(bs===true||bt.getAttribute("classid")!==bs)}}return true}});b.fn.extend({data:function(bw,by){var bx=null;if(typeof bw==="undefined"){if(this.length){bx=b.data(this[0]);if(this[0].nodeType===1){var bs=this[0].attributes,bu;for(var bv=0,bt=bs.length;bv<bt;bv++){bu=bs[bv].name;if(bu.indexOf("data-")===0){bu=b.camelCase(bu.substring(5));a2(this[0],bu,bx[bu])}}}}return bx}else{if(typeof bw==="object"){return this.each(function(){b.data(this,bw)})}}var bz=bw.split(".");bz[1]=bz[1]?"."+bz[1]:"";if(by===L){bx=this.triggerHandler("getData"+bz[1]+"!",[bz[0]]);if(bx===L&&this.length){bx=b.data(this[0],bw);bx=a2(this[0],bw,bx)}return bx===L&&bz[1]?this.data(bz[0]):bx}else{return this.each(function(){var bB=b(this),bA=[bz[0],by];bB.triggerHandler("setData"+bz[1]+"!",bA);b.data(this,bw,by);bB.triggerHandler("changeData"+bz[1]+"!",bA)})}},removeData:function(bs){return this.each(function(){b.removeData(this,bs)})}});function a2(bu,bt,bv){if(bv===L&&bu.nodeType===1){var bs="data-"+bt.replace(aw,"-$1").toLowerCase();bv=bu.getAttribute(bs);if(typeof bv==="string"){try{bv=bv==="true"?true:bv==="false"?false:bv==="null"?null:!b.isNaN(bv)?parseFloat(bv):aM.test(bv)?b.parseJSON(bv):bv}catch(bw){}b.data(bu,bt,bv)}else{bv=L}}return bv}function T(bt){for(var bs in bt){if(bs!=="toJSON"){return false}}return true}function be(bw,bv,by){var bu=bv+"defer",bt=bv+"queue",bs=bv+"mark",bx=b.data(bw,bu,L,true);if(bx&&(by==="queue"||!b.data(bw,bt,L,true))&&(by==="mark"||!b.data(bw,bs,L,true))){setTimeout(function(){if(!b.data(bw,bt,L,true)&&!b.data(bw,bs,L,true)){b.removeData(bw,bu,true);bx.resolve()}},0)}}b.extend({_mark:function(bt,bs){if(bt){bs=(bs||"fx")+"mark";b.data(bt,bs,(b.data(bt,bs,L,true)||0)+1,true)}},_unmark:function(bw,bv,bt){if(bw!==true){bt=bv;bv=bw;bw=false}if(bv){bt=bt||"fx";var bs=bt+"mark",bu=bw?0:((b.data(bv,bs,L,true)||1)-1);if(bu){b.data(bv,bs,bu,true)}else{b.removeData(bv,bs,true);be(bv,bt,"mark")}}},queue:function(bt,bs,bv){if(bt){bs=(bs||"fx")+"queue";var bu=b.data(bt,bs,L,true);if(bv){if(!bu||b.isArray(bv)){bu=b.data(bt,bs,b.makeArray(bv),true)}else{bu.push(bv)}}return bu||[]}},dequeue:function(bv,bu){bu=bu||"fx";var bs=b.queue(bv,bu),bt=bs.shift(),bw;if(bt==="inprogress"){bt=bs.shift()}if(bt){if(bu==="fx"){bs.unshift("inprogress")}bt.call(bv,function(){b.dequeue(bv,bu)})}if(!bs.length){b.removeData(bv,bu+"queue",true);be(bv,bu,"queue")}}});b.fn.extend({queue:function(bs,bt){if(typeof bs!=="string"){bt=bs;bs="fx"}if(bt===L){return b.queue(this[0],bs)}return this.each(function(){var bu=b.queue(this,bs,bt);if(bs==="fx"&&bu[0]!=="inprogress"){b.dequeue(this,bs)}})},dequeue:function(bs){return this.each(function(){b.dequeue(this,bs)})},delay:function(bt,bs){bt=b.fx?b.fx.speeds[bt]||bt:bt;bs=bs||"fx";return this.queue(bs,function(){var bu=this;setTimeout(function(){b.dequeue(bu,bs)},bt)})},clearQueue:function(bs){return this.queue(bs||"fx",[])},promise:function(bB,bu){if(typeof bB!=="string"){bu=bB;bB=L}bB=bB||"fx";var bs=b.Deferred(),bt=this,bw=bt.length,bz=1,bx=bB+"defer",by=bB+"queue",bA=bB+"mark",bv;function bC(){if(!(--bz)){bs.resolveWith(bt,[bt])}}while(bw--){if((bv=b.data(bt[bw],bx,L,true)||(b.data(bt[bw],by,L,true)||b.data(bt[bw],bA,L,true))&&b.data(bt[bw],bx,b._Deferred(),true))){bz++;bv.done(bC)}}bC();return bs.promise()}});var aK=/[\n\t\r]/g,ac=/\s+/,aO=/\r/g,g=/^(?:button|input)$/i,E=/^(?:button|input|object|select|textarea)$/i,l=/^a(?:rea)?$/i,ak=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bb,aV;b.fn.extend({attr:function(bs,bt){return b.access(this,bs,bt,true,b.attr)},removeAttr:function(bs){return this.each(function(){b.removeAttr(this,bs)})},prop:function(bs,bt){return b.access(this,bs,bt,true,b.prop)},removeProp:function(bs){bs=b.propFix[bs]||bs;return this.each(function(){try{this[bs]=L;delete this[bs]}catch(bt){}})},addClass:function(bw){var by,bu,bt,bv,bx,bz,bs;if(b.isFunction(bw)){return this.each(function(bA){b(this).addClass(bw.call(this,bA,this.className))})}if(bw&&typeof bw==="string"){by=bw.split(ac);for(bu=0,bt=this.length;bu<bt;bu++){bv=this[bu];if(bv.nodeType===1){if(!bv.className&&by.length===1){bv.className=bw}else{bx=" "+bv.className+" ";for(bz=0,bs=by.length;bz<bs;bz++){if(!~bx.indexOf(" "+by[bz]+" ")){bx+=by[bz]+" "}}bv.className=b.trim(bx)}}}}return this},removeClass:function(bx){var by,bu,bt,bw,bv,bz,bs;if(b.isFunction(bx)){return this.each(function(bA){b(this).removeClass(bx.call(this,bA,this.className))})}if((bx&&typeof bx==="string")||bx===L){by=(bx||"").split(ac);for(bu=0,bt=this.length;bu<bt;bu++){bw=this[bu];if(bw.nodeType===1&&bw.className){if(bx){bv=(" "+bw.className+" ").replace(aK," ");for(bz=0,bs=by.length;bz<bs;bz++){bv=bv.replace(" "+by[bz]+" "," ")}bw.className=b.trim(bv)}else{bw.className=""}}}}return this},toggleClass:function(bv,bt){var bu=typeof bv,bs=typeof bt==="boolean";if(b.isFunction(bv)){return this.each(function(bw){b(this).toggleClass(bv.call(this,bw,this.className,bt),bt)})}return this.each(function(){if(bu==="string"){var by,bx=0,bw=b(this),bz=bt,bA=bv.split(ac);while((by=bA[bx++])){bz=bs?bz:!bw.hasClass(by);bw[bz?"addClass":"removeClass"](by)}}else{if(bu==="undefined"||bu==="boolean"){if(this.className){b._data(this,"__className__",this.className)}this.className=this.className||bv===false?"":b._data(this,"__className__")||""}}})},hasClass:function(bs){var bv=" "+bs+" ";for(var bu=0,bt=this.length;bu<bt;bu++){if(this[bu].nodeType===1&&(" "+this[bu].className+" ").replace(aK," ").indexOf(bv)>-1){return true}}return false},val:function(bv){var bs,bt,bu=this[0];if(!arguments.length){if(bu){bs=b.valHooks[bu.nodeName.toLowerCase()]||b.valHooks[bu.type];if(bs&&"get" in bs&&(bt=bs.get(bu,"value"))!==L){return bt}bt=bu.value;return typeof bt==="string"?bt.replace(aO,""):bt==null?"":bt}return L}var bw=b.isFunction(bv);return this.each(function(by){var bx=b(this),bz;if(this.nodeType!==1){return}if(bw){bz=bv.call(this,by,bx.val())}else{bz=bv}if(bz==null){bz=""}else{if(typeof bz==="number"){bz+=""}else{if(b.isArray(bz)){bz=b.map(bz,function(bA){return bA==null?"":bA+""})}}}bs=b.valHooks[this.nodeName.toLowerCase()]||b.valHooks[this.type];if(!bs||!("set" in bs)||bs.set(this,bz,"value")===L){this.value=bz}})}});b.extend({valHooks:{option:{get:function(bs){var bt=bs.attributes.value;return !bt||bt.specified?bs.value:bs.text}},select:{get:function(bs){var by,bw=bs.selectedIndex,bz=[],bA=bs.options,bv=bs.type==="select-one";if(bw<0){return null}for(var bt=bv?bw:0,bx=bv?bw+1:bA.length;bt<bx;bt++){var bu=bA[bt];if(bu.selected&&(b.support.optDisabled?!bu.disabled:bu.getAttribute("disabled")===null)&&(!bu.parentNode.disabled||!b.nodeName(bu.parentNode,"optgroup"))){by=b(bu).val();if(bv){return by}bz.push(by)}}if(bv&&!bz.length&&bA.length){return b(bA[bw]).val()}return bz},set:function(bt,bu){var bs=b.makeArray(bu);b(bt).find("option").each(function(){this.selected=b.inArray(b(this).val(),bs)>=0});if(!bs.length){bt.selectedIndex=-1}return bs}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(by,bv,bz,bx){var bt=by.nodeType;if(!by||bt===3||bt===8||bt===2){return L}if(bx&&bv in b.attrFn){return b(by)[bv](bz)}if(!("getAttribute" in by)){return b.prop(by,bv,bz)}var bu,bs,bw=bt!==1||!b.isXMLDoc(by);if(bw){bv=b.attrFix[bv]||bv;bs=b.attrHooks[bv];if(!bs){if(ak.test(bv)){bs=aV}else{if(bb){bs=bb}}}}if(bz!==L){if(bz===null){b.removeAttr(by,bv);return L}else{if(bs&&"set" in bs&&bw&&(bu=bs.set(by,bz,bv))!==L){return bu}else{by.setAttribute(bv,""+bz);return bz}}}else{if(bs&&"get" in bs&&bw&&(bu=bs.get(by,bv))!==null){return bu}else{bu=by.getAttribute(bv);return bu===null?L:bu}}},removeAttr:function(bt,bs){var bu;if(bt.nodeType===1){bs=b.attrFix[bs]||bs;b.attr(bt,bs,"");bt.removeAttribute(bs);if(ak.test(bs)&&(bu=b.propFix[bs]||bs) in bt){bt[bu]=false}}},attrHooks:{type:{set:function(bs,bt){if(g.test(bs.nodeName)&&bs.parentNode){b.error("type property can't be changed")}else{if(!b.support.radioValue&&bt==="radio"&&b.nodeName(bs,"input")){var bu=bs.value;bs.setAttribute("type",bt);if(bu){bs.value=bu}return bt}}}},value:{get:function(bt,bs){if(bb&&b.nodeName(bt,"button")){return bb.get(bt,bs)}return bs in bt?bt.value:null},set:function(bt,bu,bs){if(bb&&b.nodeName(bt,"button")){return bb.set(bt,bu,bs)}bt.value=bu}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(bx,bv,by){var bt=bx.nodeType;if(!bx||bt===3||bt===8||bt===2){return L}var bu,bs,bw=bt!==1||!b.isXMLDoc(bx);if(bw){bv=b.propFix[bv]||bv;bs=b.propHooks[bv]}if(by!==L){if(bs&&"set" in bs&&(bu=bs.set(bx,by,bv))!==L){return bu}else{return(bx[bv]=by)}}else{if(bs&&"get" in bs&&(bu=bs.get(bx,bv))!==null){return bu}else{return bx[bv]}}},propHooks:{tabIndex:{get:function(bt){var bs=bt.getAttributeNode("tabindex");return bs&&bs.specified?parseInt(bs.value,10):E.test(bt.nodeName)||l.test(bt.nodeName)&&bt.href?0:L}}}});b.attrHooks.tabIndex=b.propHooks.tabIndex;aV={get:function(bt,bs){var bu;return b.prop(bt,bs)===true||(bu=bt.getAttributeNode(bs))&&bu.nodeValue!==false?bs.toLowerCase():L},set:function(bt,bv,bs){var bu;if(bv===false){b.removeAttr(bt,bs)}else{bu=b.propFix[bs]||bs;if(bu in bt){bt[bu]=true}bt.setAttribute(bs,bs.toLowerCase())}return bs}};if(!b.support.getSetAttribute){bb=b.valHooks.button={get:function(bu,bt){var bs;bs=bu.getAttributeNode(bt);return bs&&bs.nodeValue!==""?bs.nodeValue:L},set:function(bu,bv,bt){var bs=bu.getAttributeNode(bt);if(!bs){bs=aq.createAttribute(bt);bu.setAttributeNode(bs)}return(bs.nodeValue=bv+"")}};b.each(["width","height"],function(bt,bs){b.attrHooks[bs]=b.extend(b.attrHooks[bs],{set:function(bu,bv){if(bv===""){bu.setAttribute(bs,"auto");return bv}}})})}if(!b.support.hrefNormalized){b.each(["href","src","width","height"],function(bt,bs){b.attrHooks[bs]=b.extend(b.attrHooks[bs],{get:function(bv){var bu=bv.getAttribute(bs,2);return bu===null?L:bu}})})}if(!b.support.style){b.attrHooks.style={get:function(bs){return bs.style.cssText.toLowerCase()||L},set:function(bs,bt){return(bs.style.cssText=""+bt)}}}if(!b.support.optSelected){b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(bt){var bs=bt.parentNode;if(bs){bs.selectedIndex;if(bs.parentNode){bs.parentNode.selectedIndex}}return null}})}if(!b.support.checkOn){b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(bs){return bs.getAttribute("value")===null?"on":bs.value}}})}b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(bs,bt){if(b.isArray(bt)){return(bs.checked=b.inArray(b(bs).val(),bt)>=0)}}})});var aX=/\.(.*)$/,ba=/^(?:textarea|input|select)$/i,O=/\./g,bf=/ /g,aC=/[^\w\s.|`]/g,H=function(bs){return bs.replace(aC,"\\$&")};b.event={add:function(bv,bz,bE,bx){if(bv.nodeType===3||bv.nodeType===8){return}if(bE===false){bE=bh}else{if(!bE){return}}var bt,bD;if(bE.handler){bt=bE;bE=bt.handler}if(!bE.guid){bE.guid=b.guid++}var bA=b._data(bv);if(!bA){return}var bF=bA.events,by=bA.handle;if(!bF){bA.events=bF={}}if(!by){bA.handle=by=function(bG){return typeof b!=="undefined"&&(!bG||b.event.triggered!==bG.type)?b.event.handle.apply(by.elem,arguments):L}}by.elem=bv;bz=bz.split(" ");var bC,bw=0,bs;while((bC=bz[bw++])){bD=bt?b.extend({},bt):{handler:bE,data:bx};if(bC.indexOf(".")>-1){bs=bC.split(".");bC=bs.shift();bD.namespace=bs.slice(0).sort().join(".")}else{bs=[];bD.namespace=""}bD.type=bC;if(!bD.guid){bD.guid=bE.guid}var bu=bF[bC],bB=b.event.special[bC]||{};if(!bu){bu=bF[bC]=[];if(!bB.setup||bB.setup.call(bv,bx,bs,by)===false){if(bv.addEventListener){bv.addEventListener(bC,by,false)}else{if(bv.attachEvent){bv.attachEvent("on"+bC,by)}}}}if(bB.add){bB.add.call(bv,bD);if(!bD.handler.guid){bD.handler.guid=bE.guid}}bu.push(bD);b.event.global[bC]=true}bv=null},global:{},remove:function(bH,bC,bu,by){if(bH.nodeType===3||bH.nodeType===8){return}if(bu===false){bu=bh}var bK,bx,bz,bE,bF=0,bv,bA,bD,bw,bB,bs,bJ,bG=b.hasData(bH)&&b._data(bH),bt=bG&&bG.events;if(!bG||!bt){return}if(bC&&bC.type){bu=bC.handler;bC=bC.type}if(!bC||typeof bC==="string"&&bC.charAt(0)==="."){bC=bC||"";for(bx in bt){b.event.remove(bH,bx+bC)}return}bC=bC.split(" ");while((bx=bC[bF++])){bJ=bx;bs=null;bv=bx.indexOf(".")<0;bA=[];if(!bv){bA=bx.split(".");bx=bA.shift();bD=new RegExp("(^|\\.)"+b.map(bA.slice(0).sort(),H).join("\\.(?:.*\\.)?")+"(\\.|$)")}bB=bt[bx];if(!bB){continue}if(!bu){for(bE=0;bE<bB.length;bE++){bs=bB[bE];if(bv||bD.test(bs.namespace)){b.event.remove(bH,bJ,bs.handler,bE);bB.splice(bE--,1)}}continue}bw=b.event.special[bx]||{};for(bE=by||0;bE<bB.length;bE++){bs=bB[bE];if(bu.guid===bs.guid){if(bv||bD.test(bs.namespace)){if(by==null){bB.splice(bE--,1)}if(bw.remove){bw.remove.call(bH,bs)}}if(by!=null){break}}}if(bB.length===0||by!=null&&bB.length===1){if(!bw.teardown||bw.teardown.call(bH,bA)===false){b.removeEvent(bH,bx,bG.handle)}bK=null;delete bt[bx]}}if(b.isEmptyObject(bt)){var bI=bG.handle;if(bI){bI.elem=null}delete bG.events;delete bG.handle;if(b.isEmptyObject(bG)){b.removeData(bH,L,true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(bs,bz,bx,bE){var bC=bs.type||bs,bu=[],bt;if(bC.indexOf("!")>=0){bC=bC.slice(0,-1);bt=true}if(bC.indexOf(".")>=0){bu=bC.split(".");bC=bu.shift();bu.sort()}if((!bx||b.event.customEvent[bC])&&!b.event.global[bC]){return}bs=typeof bs==="object"?bs[b.expando]?bs:new b.Event(bC,bs):new b.Event(bC);bs.type=bC;bs.exclusive=bt;bs.namespace=bu.join(".");bs.namespace_re=new RegExp("(^|\\.)"+bu.join("\\.(?:.*\\.)?")+"(\\.|$)");if(bE||!bx){bs.preventDefault();bs.stopPropagation()}if(!bx){b.each(b.cache,function(){var bG=b.expando,bF=this[bG];if(bF&&bF.events&&bF.events[bC]){b.event.trigger(bs,bz,bF.handle.elem)}});return}if(bx.nodeType===3||bx.nodeType===8){return}bs.result=L;bs.target=bx;bz=bz!=null?b.makeArray(bz):[];bz.unshift(bs);var bD=bx,bv=bC.indexOf(":")<0?"on"+bC:"";do{var bA=b._data(bD,"handle");bs.currentTarget=bD;if(bA){bA.apply(bD,bz)}if(bv&&b.acceptData(bD)&&bD[bv]&&bD[bv].apply(bD,bz)===false){bs.result=false;bs.preventDefault()}bD=bD.parentNode||bD.ownerDocument||bD===bs.target.ownerDocument&&a8}while(bD&&!bs.isPropagationStopped());if(!bs.isDefaultPrevented()){var bw,bB=b.event.special[bC]||{};if((!bB._default||bB._default.call(bx.ownerDocument,bs)===false)&&!(bC==="click"&&b.nodeName(bx,"a"))&&b.acceptData(bx)){try{if(bv&&bx[bC]){bw=bx[bv];if(bw){bx[bv]=null}b.event.triggered=bC;bx[bC]()}}catch(by){}if(bw){bx[bv]=bw}b.event.triggered=L}}return bs.result},handle:function(bz){bz=b.event.fix(bz||a8.event);var bt=((b._data(this,"events")||{})[bz.type]||[]).slice(0),by=!bz.exclusive&&!bz.namespace,bw=Array.prototype.slice.call(arguments,0);bw[0]=bz;bz.currentTarget=this;for(var bv=0,bs=bt.length;bv<bs;bv++){var bx=bt[bv];if(by||bz.namespace_re.test(bx.namespace)){bz.handler=bx.handler;bz.data=bx.data;bz.handleObj=bx;var bu=bx.handler.apply(this,bw);if(bu!==L){bz.result=bu;if(bu===false){bz.preventDefault();bz.stopPropagation()}}if(bz.isImmediatePropagationStopped()){break}}}return bz.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(bw){if(bw[b.expando]){return bw}var bt=bw;bw=b.Event(bt);for(var bu=this.props.length,by;bu;){by=this.props[--bu];bw[by]=bt[by]}if(!bw.target){bw.target=bw.srcElement||aq}if(bw.target.nodeType===3){bw.target=bw.target.parentNode}if(!bw.relatedTarget&&bw.fromElement){bw.relatedTarget=bw.fromElement===bw.target?bw.toElement:bw.fromElement}if(bw.pageX==null&&bw.clientX!=null){var bv=bw.target.ownerDocument||aq,bx=bv.documentElement,bs=bv.body;bw.pageX=bw.clientX+(bx&&bx.scrollLeft||bs&&bs.scrollLeft||0)-(bx&&bx.clientLeft||bs&&bs.clientLeft||0);bw.pageY=bw.clientY+(bx&&bx.scrollTop||bs&&bs.scrollTop||0)-(bx&&bx.clientTop||bs&&bs.clientTop||0)}if(bw.which==null&&(bw.charCode!=null||bw.keyCode!=null)){bw.which=bw.charCode!=null?bw.charCode:bw.keyCode}if(!bw.metaKey&&bw.ctrlKey){bw.metaKey=bw.ctrlKey}if(!bw.which&&bw.button!==L){bw.which=(bw.button&1?1:(bw.button&2?3:(bw.button&4?2:0)))}return bw},guid:100000000,proxy:b.proxy,special:{ready:{setup:b.bindReady,teardown:b.noop},live:{add:function(bs){b.event.add(this,p(bs.origType,bs.selector),b.extend({},bs,{handler:ah,guid:bs.handler.guid}))},remove:function(bs){b.event.remove(this,p(bs.origType,bs.selector),bs)}},beforeunload:{setup:function(bu,bt,bs){if(b.isWindow(this)){this.onbeforeunload=bs}},teardown:function(bt,bs){if(this.onbeforeunload===bs){this.onbeforeunload=null}}}}};b.removeEvent=aq.removeEventListener?function(bt,bs,bu){if(bt.removeEventListener){bt.removeEventListener(bs,bu,false)}}:function(bt,bs,bu){if(bt.detachEvent){bt.detachEvent("on"+bs,bu)}};b.Event=function(bt,bs){if(!this.preventDefault){return new b.Event(bt,bs)}if(bt&&bt.type){this.originalEvent=bt;this.type=bt.type;this.isDefaultPrevented=(bt.defaultPrevented||bt.returnValue===false||bt.getPreventDefault&&bt.getPreventDefault())?i:bh}else{this.type=bt}if(bs){b.extend(this,bs)}this.timeStamp=b.now();this[b.expando]=true};function bh(){return false}function i(){return true}b.Event.prototype={preventDefault:function(){this.isDefaultPrevented=i;var bs=this.originalEvent;if(!bs){return}if(bs.preventDefault){bs.preventDefault()}else{bs.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=i;var bs=this.originalEvent;if(!bs){return}if(bs.stopPropagation){bs.stopPropagation()}bs.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i;this.stopPropagation()},isDefaultPrevented:bh,isPropagationStopped:bh,isImmediatePropagationStopped:bh};var ab=function(bu){var bv=bu.relatedTarget,bs=false,bt=bu.type;bu.type=bu.data;if(bv!==this){if(bv){bs=b.contains(this,bv)}if(!bs){b.event.handle.apply(this,arguments);bu.type=bt}}},aS=function(bs){bs.type=bs.data;b.event.handle.apply(this,arguments)};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(bt,bs){b.event.special[bt]={setup:function(bu){b.event.add(this,bs,bu&&bu.selector?aS:ab,bt)},teardown:function(bu){b.event.remove(this,bs,bu&&bu.selector?aS:ab)}}});if(!b.support.submitBubbles){b.event.special.submit={setup:function(bt,bs){if(!b.nodeName(this,"form")){b.event.add(this,"click.specialSubmit",function(bw){var bv=bw.target,bu=b.nodeName(bv,"input")||b.nodeName(bv,"button")?bv.type:"";if((bu==="submit"||bu==="image")&&b(bv).closest("form").length){aU("submit",this,arguments)}});b.event.add(this,"keypress.specialSubmit",function(bw){var bv=bw.target,bu=b.nodeName(bv,"input")||b.nodeName(bv,"button")?bv.type:"";if((bu==="text"||bu==="password")&&b(bv).closest("form").length&&bw.keyCode===13){aU("submit",this,arguments)}})}else{return false}},teardown:function(bs){b.event.remove(this,".specialSubmit")}}}if(!b.support.changeBubbles){var bk,k=function(bt){var bs=b.nodeName(bt,"input")?bt.type:"",bu=bt.value;if(bs==="radio"||bs==="checkbox"){bu=bt.checked}else{if(bs==="select-multiple"){bu=bt.selectedIndex>-1?b.map(bt.options,function(bv){return bv.selected}).join("-"):""}else{if(b.nodeName(bt,"select")){bu=bt.selectedIndex}}}return bu},Z=function Z(bu){var bs=bu.target,bt,bv;if(!ba.test(bs.nodeName)||bs.readOnly){return}bt=b._data(bs,"_change_data");bv=k(bs);if(bu.type!=="focusout"||bs.type!=="radio"){b._data(bs,"_change_data",bv)}if(bt===L||bv===bt){return}if(bt!=null||bv){bu.type="change";bu.liveFired=L;b.event.trigger(bu,arguments[1],bs)}};b.event.special.change={filters:{focusout:Z,beforedeactivate:Z,click:function(bu){var bt=bu.target,bs=b.nodeName(bt,"input")?bt.type:"";if(bs==="radio"||bs==="checkbox"||b.nodeName(bt,"select")){Z.call(this,bu)}},keydown:function(bu){var bt=bu.target,bs=b.nodeName(bt,"input")?bt.type:"";if((bu.keyCode===13&&!b.nodeName(bt,"textarea"))||(bu.keyCode===32&&(bs==="checkbox"||bs==="radio"))||bs==="select-multiple"){Z.call(this,bu)}},beforeactivate:function(bt){var bs=bt.target;b._data(bs,"_change_data",k(bs))}},setup:function(bu,bt){if(this.type==="file"){return false}for(var bs in bk){b.event.add(this,bs+".specialChange",bk[bs])}return ba.test(this.nodeName)},teardown:function(bs){b.event.remove(this,".specialChange");return ba.test(this.nodeName)}};bk=b.event.special.change.filters;bk.focus=bk.beforeactivate}function aU(bt,bv,bs){var bu=b.extend({},bs[0]);bu.type=bt;bu.originalEvent={};bu.liveFired=L;b.event.handle.call(bv,bu);if(bu.isDefaultPrevented()){bs[0].preventDefault()}}if(!b.support.focusinBubbles){b.each({focus:"focusin",blur:"focusout"},function(bv,bs){var bt=0;b.event.special[bs]={setup:function(){if(bt++===0){aq.addEventListener(bv,bu,true)}},teardown:function(){if(--bt===0){aq.removeEventListener(bv,bu,true)}}};function bu(bw){var bx=b.event.fix(bw);bx.type=bs;bx.originalEvent={};b.event.trigger(bx,null,bx.target);if(bx.isDefaultPrevented()){bw.preventDefault()}}})}b.each(["bind","one"],function(bt,bs){b.fn[bs]=function(bz,bA,by){var bx;if(typeof bz==="object"){for(var bw in bz){this[bs](bw,bA,bz[bw],by)}return this}if(arguments.length===2||bA===false){by=bA;bA=L}if(bs==="one"){bx=function(bB){b(this).unbind(bB,bx);return by.apply(this,arguments)};bx.guid=by.guid||b.guid++}else{bx=by}if(bz==="unload"&&bs!=="one"){this.one(bz,bA,by)}else{for(var bv=0,bu=this.length;bv<bu;bv++){b.event.add(this[bv],bz,bx,bA)}}return this}});b.fn.extend({unbind:function(bw,bv){if(typeof bw==="object"&&!bw.preventDefault){for(var bu in bw){this.unbind(bu,bw[bu])}}else{for(var bt=0,bs=this.length;bt<bs;bt++){b.event.remove(this[bt],bw,bv)}}return this},delegate:function(bs,bt,bv,bu){return this.live(bt,bv,bu,bs)},undelegate:function(bs,bt,bu){if(arguments.length===0){return this.unbind("live")}else{return this.die(bt,null,bu,bs)}},trigger:function(bs,bt){return this.each(function(){b.event.trigger(bs,bt,this)})},triggerHandler:function(bs,bt){if(this[0]){return b.event.trigger(bs,bt,this[0],true)}},toggle:function(bv){var bt=arguments,bs=bv.guid||b.guid++,bu=0,bw=function(bx){var by=(b.data(this,"lastToggle"+bv.guid)||0)%bu;b.data(this,"lastToggle"+bv.guid,by+1);bx.preventDefault();return bt[by].apply(this,arguments)||false};bw.guid=bs;while(bu<bt.length){bt[bu++].guid=bs}return this.click(bw)},hover:function(bs,bt){return this.mouseenter(bs).mouseleave(bt||bs)}});var aQ={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};b.each(["live","die"],function(bt,bs){b.fn[bs]=function(bD,bA,bF,bw){var bE,bB=0,bC,bv,bH,by=bw||this.selector,bu=bw?this:b(this.context);if(typeof bD==="object"&&!bD.preventDefault){for(var bG in bD){bu[bs](bG,bA,bD[bG],by)}return this}if(bs==="die"&&!bD&&bw&&bw.charAt(0)==="."){bu.unbind(bw);return this}if(bA===false||b.isFunction(bA)){bF=bA||bh;bA=L}bD=(bD||"").split(" ");while((bE=bD[bB++])!=null){bC=aX.exec(bE);bv="";if(bC){bv=bC[0];bE=bE.replace(aX,"")}if(bE==="hover"){bD.push("mouseenter"+bv,"mouseleave"+bv);continue}bH=bE;if(aQ[bE]){bD.push(aQ[bE]+bv);bE=bE+bv}else{bE=(aQ[bE]||bE)+bv}if(bs==="live"){for(var bz=0,bx=bu.length;bz<bx;bz++){b.event.add(bu[bz],"live."+p(bE,by),{data:bA,selector:by,handler:bF,origType:bE,origHandler:bF,preType:bH})}}else{bu.unbind("live."+p(bE,by),bF)}}return this}});function ah(bD){var bA,bv,bJ,bx,bs,bF,bC,bE,bB,bI,bz,by,bH,bG=[],bw=[],bt=b._data(this,"events");if(bD.liveFired===this||!bt||!bt.live||bD.target.disabled||bD.button&&bD.type==="click"){return}if(bD.namespace){by=new RegExp("(^|\\.)"+bD.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")}bD.liveFired=this;var bu=bt.live.slice(0);for(bC=0;bC<bu.length;bC++){bs=bu[bC];if(bs.origType.replace(aX,"")===bD.type){bw.push(bs.selector)}else{bu.splice(bC--,1)}}bx=b(bD.target).closest(bw,bD.currentTarget);for(bE=0,bB=bx.length;bE<bB;bE++){bz=bx[bE];for(bC=0;bC<bu.length;bC++){bs=bu[bC];if(bz.selector===bs.selector&&(!by||by.test(bs.namespace))&&!bz.elem.disabled){bF=bz.elem;bJ=null;if(bs.preType==="mouseenter"||bs.preType==="mouseleave"){bD.type=bs.preType;bJ=b(bD.relatedTarget).closest(bs.selector)[0];if(bJ&&b.contains(bF,bJ)){bJ=bF}}if(!bJ||bJ!==bF){bG.push({elem:bF,handleObj:bs,level:bz.level})}}}}for(bE=0,bB=bG.length;bE<bB;bE++){bx=bG[bE];if(bv&&bx.level>bv){break}bD.currentTarget=bx.elem;bD.data=bx.handleObj.data;bD.handleObj=bx.handleObj;bH=bx.handleObj.origHandler.apply(bx.elem,arguments);if(bH===false||bD.isPropagationStopped()){bv=bx.level;if(bH===false){bA=false}if(bD.isImmediatePropagationStopped()){break}}}return bA}function p(bt,bs){return(bt&&bt!=="*"?bt+".":"")+bs.replace(O,"`").replace(bf,"&")}b.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(bt,bs){b.fn[bs]=function(bv,bu){if(bu==null){bu=bv;bv=null}return arguments.length>0?this.bind(bs,bv,bu):this.trigger(bs)};if(b.attrFn){b.attrFn[bs]=true}});
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var bC=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bD=0,bG=Object.prototype.toString,bx=false,bw=true,bE=/\\/g,bK=/\W/;[0,0].sort(function(){bw=false;return 0});var bu=function(bQ,bL,bT,bU){bT=bT||[];bL=bL||aq;var bW=bL;if(bL.nodeType!==1&&bL.nodeType!==9){return[]}if(!bQ||typeof bQ!=="string"){return bT}var bN,bY,b1,bM,bX,b0,bZ,bS,bP=true,bO=bu.isXML(bL),bR=[],bV=bQ;do{bC.exec("");bN=bC.exec(bV);if(bN){bV=bN[3];bR.push(bN[1]);if(bN[2]){bM=bN[3];break}}}while(bN);if(bR.length>1&&by.exec(bQ)){if(bR.length===2&&bz.relative[bR[0]]){bY=bH(bR[0]+bR[1],bL)}else{bY=bz.relative[bR[0]]?[bL]:bu(bR.shift(),bL);while(bR.length){bQ=bR.shift();if(bz.relative[bQ]){bQ+=bR.shift()}bY=bH(bQ,bY)}}}else{if(!bU&&bR.length>1&&bL.nodeType===9&&!bO&&bz.match.ID.test(bR[0])&&!bz.match.ID.test(bR[bR.length-1])){bX=bu.find(bR.shift(),bL,bO);bL=bX.expr?bu.filter(bX.expr,bX.set)[0]:bX.set[0]}if(bL){bX=bU?{expr:bR.pop(),set:bA(bU)}:bu.find(bR.pop(),bR.length===1&&(bR[0]==="~"||bR[0]==="+")&&bL.parentNode?bL.parentNode:bL,bO);bY=bX.expr?bu.filter(bX.expr,bX.set):bX.set;if(bR.length>0){b1=bA(bY)}else{bP=false}while(bR.length){b0=bR.pop();bZ=b0;if(!bz.relative[b0]){b0=""}else{bZ=bR.pop()}if(bZ==null){bZ=bL}bz.relative[b0](b1,bZ,bO)}}else{b1=bR=[]}}if(!b1){b1=bY}if(!b1){bu.error(b0||bQ)}if(bG.call(b1)==="[object Array]"){if(!bP){bT.push.apply(bT,b1)}else{if(bL&&bL.nodeType===1){for(bS=0;b1[bS]!=null;bS++){if(b1[bS]&&(b1[bS]===true||b1[bS].nodeType===1&&bu.contains(bL,b1[bS]))){bT.push(bY[bS])}}}else{for(bS=0;b1[bS]!=null;bS++){if(b1[bS]&&b1[bS].nodeType===1){bT.push(bY[bS])}}}}}else{bA(b1,bT)}if(bM){bu(bM,bW,bT,bU);bu.uniqueSort(bT)}return bT};bu.uniqueSort=function(bM){if(bF){bx=bw;bM.sort(bF);if(bx){for(var bL=1;bL<bM.length;bL++){if(bM[bL]===bM[bL-1]){bM.splice(bL--,1)}}}}return bM};bu.matches=function(bL,bM){return bu(bL,null,null,bM)};bu.matchesSelector=function(bL,bM){return bu(bM,null,null,[bL]).length>0};bu.find=function(bS,bL,bT){var bR;if(!bS){return[]}for(var bO=0,bN=bz.order.length;bO<bN;bO++){var bP,bQ=bz.order[bO];if((bP=bz.leftMatch[bQ].exec(bS))){var bM=bP[1];bP.splice(1,1);if(bM.substr(bM.length-1)!=="\\"){bP[1]=(bP[1]||"").replace(bE,"");bR=bz.find[bQ](bP,bL,bT);if(bR!=null){bS=bS.replace(bz.match[bQ],"");break}}}}if(!bR){bR=typeof bL.getElementsByTagName!=="undefined"?bL.getElementsByTagName("*"):[]}return{set:bR,expr:bS}};bu.filter=function(bW,bV,bZ,bP){var bR,bL,bN=bW,b1=[],bT=bV,bS=bV&&bV[0]&&bu.isXML(bV[0]);while(bW&&bV.length){for(var bU in bz.filter){if((bR=bz.leftMatch[bU].exec(bW))!=null&&bR[2]){var b0,bY,bM=bz.filter[bU],bO=bR[1];bL=false;bR.splice(1,1);if(bO.substr(bO.length-1)==="\\"){continue}if(bT===b1){b1=[]}if(bz.preFilter[bU]){bR=bz.preFilter[bU](bR,bT,bZ,b1,bP,bS);if(!bR){bL=b0=true}else{if(bR===true){continue}}}if(bR){for(var bQ=0;(bY=bT[bQ])!=null;bQ++){if(bY){b0=bM(bY,bR,bQ,bT);var bX=bP^!!b0;if(bZ&&b0!=null){if(bX){bL=true}else{bT[bQ]=false}}else{if(bX){b1.push(bY);bL=true}}}}}if(b0!==L){if(!bZ){bT=b1}bW=bW.replace(bz.match[bU],"");if(!bL){return[]}break}}}if(bW===bN){if(bL==null){bu.error(bW)}else{break}}bN=bW}return bT};bu.error=function(bL){throw"Syntax error, unrecognized expression: "+bL};var bz=bu.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(bL){return bL.getAttribute("href")},type:function(bL){return bL.getAttribute("type")}},relative:{"+":function(bR,bM){var bO=typeof bM==="string",bQ=bO&&!bK.test(bM),bS=bO&&!bQ;if(bQ){bM=bM.toLowerCase()}for(var bN=0,bL=bR.length,bP;bN<bL;bN++){if((bP=bR[bN])){while((bP=bP.previousSibling)&&bP.nodeType!==1){}bR[bN]=bS||bP&&bP.nodeName.toLowerCase()===bM?bP||false:bP===bM}}if(bS){bu.filter(bM,bR,true)}},">":function(bR,bM){var bQ,bP=typeof bM==="string",bN=0,bL=bR.length;if(bP&&!bK.test(bM)){bM=bM.toLowerCase();for(;bN<bL;bN++){bQ=bR[bN];if(bQ){var bO=bQ.parentNode;bR[bN]=bO.nodeName.toLowerCase()===bM?bO:false}}}else{for(;bN<bL;bN++){bQ=bR[bN];if(bQ){bR[bN]=bP?bQ.parentNode:bQ.parentNode===bM}}if(bP){bu.filter(bM,bR,true)}}},"":function(bO,bM,bQ){var bP,bN=bD++,bL=bI;if(typeof bM==="string"&&!bK.test(bM)){bM=bM.toLowerCase();bP=bM;bL=bs}bL("parentNode",bM,bN,bO,bP,bQ)},"~":function(bO,bM,bQ){var bP,bN=bD++,bL=bI;if(typeof bM==="string"&&!bK.test(bM)){bM=bM.toLowerCase();bP=bM;bL=bs}bL("previousSibling",bM,bN,bO,bP,bQ)}},find:{ID:function(bM,bN,bO){if(typeof bN.getElementById!=="undefined"&&!bO){var bL=bN.getElementById(bM[1]);return bL&&bL.parentNode?[bL]:[]}},NAME:function(bN,bQ){if(typeof bQ.getElementsByName!=="undefined"){var bM=[],bP=bQ.getElementsByName(bN[1]);for(var bO=0,bL=bP.length;bO<bL;bO++){if(bP[bO].getAttribute("name")===bN[1]){bM.push(bP[bO])}}return bM.length===0?null:bM}},TAG:function(bL,bM){if(typeof bM.getElementsByTagName!=="undefined"){return bM.getElementsByTagName(bL[1])}}},preFilter:{CLASS:function(bO,bM,bN,bL,bR,bS){bO=" "+bO[1].replace(bE,"")+" ";if(bS){return bO}for(var bP=0,bQ;(bQ=bM[bP])!=null;bP++){if(bQ){if(bR^(bQ.className&&(" "+bQ.className+" ").replace(/[\t\n\r]/g," ").indexOf(bO)>=0)){if(!bN){bL.push(bQ)}}else{if(bN){bM[bP]=false}}}}return false},ID:function(bL){return bL[1].replace(bE,"")},TAG:function(bM,bL){return bM[1].replace(bE,"").toLowerCase()},CHILD:function(bL){if(bL[1]==="nth"){if(!bL[2]){bu.error(bL[0])}bL[2]=bL[2].replace(/^\+|\s*/g,"");var bM=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(bL[2]==="even"&&"2n"||bL[2]==="odd"&&"2n+1"||!/\D/.test(bL[2])&&"0n+"+bL[2]||bL[2]);bL[2]=(bM[1]+(bM[2]||1))-0;bL[3]=bM[3]-0}else{if(bL[2]){bu.error(bL[0])}}bL[0]=bD++;return bL},ATTR:function(bP,bM,bN,bL,bQ,bR){var bO=bP[1]=bP[1].replace(bE,"");if(!bR&&bz.attrMap[bO]){bP[1]=bz.attrMap[bO]}bP[4]=(bP[4]||bP[5]||"").replace(bE,"");if(bP[2]==="~="){bP[4]=" "+bP[4]+" "}return bP},PSEUDO:function(bP,bM,bN,bL,bQ){if(bP[1]==="not"){if((bC.exec(bP[3])||"").length>1||/^\w/.test(bP[3])){bP[3]=bu(bP[3],null,null,bM)}else{var bO=bu.filter(bP[3],bM,bN,true^bQ);if(!bN){bL.push.apply(bL,bO)}return false}}else{if(bz.match.POS.test(bP[0])||bz.match.CHILD.test(bP[0])){return true}}return bP},POS:function(bL){bL.unshift(true);return bL}},filters:{enabled:function(bL){return bL.disabled===false&&bL.type!=="hidden"},disabled:function(bL){return bL.disabled===true},checked:function(bL){return bL.checked===true},selected:function(bL){if(bL.parentNode){bL.parentNode.selectedIndex}return bL.selected===true},parent:function(bL){return !!bL.firstChild},empty:function(bL){return !bL.firstChild},has:function(bN,bM,bL){return !!bu(bL[3],bN).length},header:function(bL){return(/h\d/i).test(bL.nodeName)},text:function(bN){var bL=bN.getAttribute("type"),bM=bN.type;return bN.nodeName.toLowerCase()==="input"&&"text"===bM&&(bL===bM||bL===null)},radio:function(bL){return bL.nodeName.toLowerCase()==="input"&&"radio"===bL.type},checkbox:function(bL){return bL.nodeName.toLowerCase()==="input"&&"checkbox"===bL.type},file:function(bL){return bL.nodeName.toLowerCase()==="input"&&"file"===bL.type},password:function(bL){return bL.nodeName.toLowerCase()==="input"&&"password"===bL.type},submit:function(bM){var bL=bM.nodeName.toLowerCase();return(bL==="input"||bL==="button")&&"submit"===bM.type},image:function(bL){return bL.nodeName.toLowerCase()==="input"&&"image"===bL.type},reset:function(bM){var bL=bM.nodeName.toLowerCase();return(bL==="input"||bL==="button")&&"reset"===bM.type},button:function(bM){var bL=bM.nodeName.toLowerCase();return bL==="input"&&"button"===bM.type||bL==="button"},input:function(bL){return(/input|select|textarea|button/i).test(bL.nodeName)},focus:function(bL){return bL===bL.ownerDocument.activeElement}},setFilters:{first:function(bM,bL){return bL===0},last:function(bN,bM,bL,bO){return bM===bO.length-1},even:function(bM,bL){return bL%2===0},odd:function(bM,bL){return bL%2===1},lt:function(bN,bM,bL){return bM<bL[3]-0},gt:function(bN,bM,bL){return bM>bL[3]-0},nth:function(bN,bM,bL){return bL[3]-0===bM},eq:function(bN,bM,bL){return bL[3]-0===bM}},filter:{PSEUDO:function(bN,bS,bR,bT){var bL=bS[1],bM=bz.filters[bL];if(bM){return bM(bN,bR,bS,bT)}else{if(bL==="contains"){return(bN.textContent||bN.innerText||bu.getText([bN])||"").indexOf(bS[3])>=0}else{if(bL==="not"){var bO=bS[3];for(var bQ=0,bP=bO.length;bQ<bP;bQ++){if(bO[bQ]===bN){return false}}return true}else{bu.error(bL)}}}},CHILD:function(bL,bO){var bR=bO[1],bM=bL;switch(bR){case"only":case"first":while((bM=bM.previousSibling)){if(bM.nodeType===1){return false}}if(bR==="first"){return true}bM=bL;case"last":while((bM=bM.nextSibling)){if(bM.nodeType===1){return false}}return true;case"nth":var bN=bO[2],bU=bO[3];if(bN===1&&bU===0){return true}var bQ=bO[0],bT=bL.parentNode;if(bT&&(bT.sizcache!==bQ||!bL.nodeIndex)){var bP=0;for(bM=bT.firstChild;bM;bM=bM.nextSibling){if(bM.nodeType===1){bM.nodeIndex=++bP}}bT.sizcache=bQ}var bS=bL.nodeIndex-bU;if(bN===0){return bS===0}else{return(bS%bN===0&&bS/bN>=0)}}},ID:function(bM,bL){return bM.nodeType===1&&bM.getAttribute("id")===bL},TAG:function(bM,bL){return(bL==="*"&&bM.nodeType===1)||bM.nodeName.toLowerCase()===bL},CLASS:function(bM,bL){return(" "+(bM.className||bM.getAttribute("class"))+" ").indexOf(bL)>-1},ATTR:function(bQ,bO){var bN=bO[1],bL=bz.attrHandle[bN]?bz.attrHandle[bN](bQ):bQ[bN]!=null?bQ[bN]:bQ.getAttribute(bN),bR=bL+"",bP=bO[2],bM=bO[4];return bL==null?bP==="!=":bP==="="?bR===bM:bP==="*="?bR.indexOf(bM)>=0:bP==="~="?(" "+bR+" ").indexOf(bM)>=0:!bM?bR&&bL!==false:bP==="!="?bR!==bM:bP==="^="?bR.indexOf(bM)===0:bP==="$="?bR.substr(bR.length-bM.length)===bM:bP==="|="?bR===bM||bR.substr(0,bM.length+1)===bM+"-":false},POS:function(bP,bM,bN,bQ){var bL=bM[2],bO=bz.setFilters[bL];if(bO){return bO(bP,bN,bM,bQ)}}}};var by=bz.match.POS,bt=function(bM,bL){return"\\"+(bL-0+1)};for(var bv in bz.match){bz.match[bv]=new RegExp(bz.match[bv].source+(/(?![^\[]*\])(?![^\(]*\))/.source));bz.leftMatch[bv]=new RegExp(/(^(?:.|\r|\n)*?)/.source+bz.match[bv].source.replace(/\\(\d+)/g,bt))}var bA=function(bM,bL){bM=Array.prototype.slice.call(bM,0);if(bL){bL.push.apply(bL,bM);return bL}return bM};try{Array.prototype.slice.call(aq.documentElement.childNodes,0)[0].nodeType}catch(bJ){bA=function(bP,bO){var bN=0,bM=bO||[];if(bG.call(bP)==="[object Array]"){Array.prototype.push.apply(bM,bP)}else{if(typeof bP.length==="number"){for(var bL=bP.length;bN<bL;bN++){bM.push(bP[bN])}}else{for(;bP[bN];bN++){bM.push(bP[bN])}}}return bM}}var bF,bB;if(aq.documentElement.compareDocumentPosition){bF=function(bM,bL){if(bM===bL){bx=true;return 0}if(!bM.compareDocumentPosition||!bL.compareDocumentPosition){return bM.compareDocumentPosition?-1:1}return bM.compareDocumentPosition(bL)&4?-1:1}}else{bF=function(bT,bS){if(bT===bS){bx=true;return 0}else{if(bT.sourceIndex&&bS.sourceIndex){return bT.sourceIndex-bS.sourceIndex}}var bQ,bM,bN=[],bL=[],bP=bT.parentNode,bR=bS.parentNode,bU=bP;if(bP===bR){return bB(bT,bS)}else{if(!bP){return -1}else{if(!bR){return 1}}}while(bU){bN.unshift(bU);bU=bU.parentNode}bU=bR;while(bU){bL.unshift(bU);bU=bU.parentNode}bQ=bN.length;bM=bL.length;for(var bO=0;bO<bQ&&bO<bM;bO++){if(bN[bO]!==bL[bO]){return bB(bN[bO],bL[bO])}}return bO===bQ?bB(bT,bL[bO],-1):bB(bN[bO],bS,1)};bB=function(bM,bL,bN){if(bM===bL){return bN}var bO=bM.nextSibling;while(bO){if(bO===bL){return -1}bO=bO.nextSibling}return 1}}bu.getText=function(bL){var bM="",bO;for(var bN=0;bL[bN];bN++){bO=bL[bN];if(bO.nodeType===3||bO.nodeType===4){bM+=bO.nodeValue}else{if(bO.nodeType!==8){bM+=bu.getText(bO.childNodes)}}}return bM};(function(){var bM=aq.createElement("div"),bN="script"+(new Date()).getTime(),bL=aq.documentElement;bM.innerHTML="<a name='"+bN+"'/>";bL.insertBefore(bM,bL.firstChild);if(aq.getElementById(bN)){bz.find.ID=function(bP,bQ,bR){if(typeof bQ.getElementById!=="undefined"&&!bR){var bO=bQ.getElementById(bP[1]);return bO?bO.id===bP[1]||typeof bO.getAttributeNode!=="undefined"&&bO.getAttributeNode("id").nodeValue===bP[1]?[bO]:L:[]}};bz.filter.ID=function(bQ,bO){var bP=typeof bQ.getAttributeNode!=="undefined"&&bQ.getAttributeNode("id");return bQ.nodeType===1&&bP&&bP.nodeValue===bO}}bL.removeChild(bM);bL=bM=null})();(function(){var bL=aq.createElement("div");bL.appendChild(aq.createComment(""));if(bL.getElementsByTagName("*").length>0){bz.find.TAG=function(bM,bQ){var bP=bQ.getElementsByTagName(bM[1]);if(bM[1]==="*"){var bO=[];for(var bN=0;bP[bN];bN++){if(bP[bN].nodeType===1){bO.push(bP[bN])}}bP=bO}return bP}}bL.innerHTML="<a href='#'></a>";if(bL.firstChild&&typeof bL.firstChild.getAttribute!=="undefined"&&bL.firstChild.getAttribute("href")!=="#"){bz.attrHandle.href=function(bM){return bM.getAttribute("href",2)}}bL=null})();if(aq.querySelectorAll){(function(){var bL=bu,bO=aq.createElement("div"),bN="__sizzle__";bO.innerHTML="<p class='TEST'></p>";if(bO.querySelectorAll&&bO.querySelectorAll(".TEST").length===0){return}bu=function(bZ,bQ,bU,bY){bQ=bQ||aq;if(!bY&&!bu.isXML(bQ)){var bX=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(bZ);if(bX&&(bQ.nodeType===1||bQ.nodeType===9)){if(bX[1]){return bA(bQ.getElementsByTagName(bZ),bU)}else{if(bX[2]&&bz.find.CLASS&&bQ.getElementsByClassName){return bA(bQ.getElementsByClassName(bX[2]),bU)}}}if(bQ.nodeType===9){if(bZ==="body"&&bQ.body){return bA([bQ.body],bU)}else{if(bX&&bX[3]){var bT=bQ.getElementById(bX[3]);if(bT&&bT.parentNode){if(bT.id===bX[3]){return bA([bT],bU)}}else{return bA([],bU)}}}try{return bA(bQ.querySelectorAll(bZ),bU)}catch(bV){}}else{if(bQ.nodeType===1&&bQ.nodeName.toLowerCase()!=="object"){var bR=bQ,bS=bQ.getAttribute("id"),bP=bS||bN,b1=bQ.parentNode,b0=/^\s*[+~]/.test(bZ);if(!bS){bQ.setAttribute("id",bP)}else{bP=bP.replace(/'/g,"\\$&")}if(b0&&b1){bQ=bQ.parentNode}try{if(!b0||b1){return bA(bQ.querySelectorAll("[id='"+bP+"'] "+bZ),bU)}}catch(bW){}finally{if(!bS){bR.removeAttribute("id")}}}}}return bL(bZ,bQ,bU,bY)};for(var bM in bL){bu[bM]=bL[bM]}bO=null})()}(function(){var bL=aq.documentElement,bN=bL.matchesSelector||bL.mozMatchesSelector||bL.webkitMatchesSelector||bL.msMatchesSelector;if(bN){var bP=!bN.call(aq.createElement("div"),"div"),bM=false;try{bN.call(aq.documentElement,"[test!='']:sizzle")}catch(bO){bM=true}bu.matchesSelector=function(bR,bT){bT=bT.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!bu.isXML(bR)){try{if(bM||!bz.match.PSEUDO.test(bT)&&!/!=/.test(bT)){var bQ=bN.call(bR,bT);if(bQ||!bP||bR.document&&bR.document.nodeType!==11){return bQ}}}catch(bS){}}return bu(bT,null,null,[bR]).length>0}}})();(function(){var bL=aq.createElement("div");bL.innerHTML="<div class='test e'></div><div class='test'></div>";if(!bL.getElementsByClassName||bL.getElementsByClassName("e").length===0){return}bL.lastChild.className="e";if(bL.getElementsByClassName("e").length===1){return}bz.order.splice(1,0,"CLASS");bz.find.CLASS=function(bM,bN,bO){if(typeof bN.getElementsByClassName!=="undefined"&&!bO){return bN.getElementsByClassName(bM[1])}};bL=null})();function bs(bM,bR,bQ,bU,bS,bT){for(var bO=0,bN=bU.length;bO<bN;bO++){var bL=bU[bO];if(bL){var bP=false;bL=bL[bM];while(bL){if(bL.sizcache===bQ){bP=bU[bL.sizset];break}if(bL.nodeType===1&&!bT){bL.sizcache=bQ;bL.sizset=bO}if(bL.nodeName.toLowerCase()===bR){bP=bL;break}bL=bL[bM]}bU[bO]=bP}}}function bI(bM,bR,bQ,bU,bS,bT){for(var bO=0,bN=bU.length;bO<bN;bO++){var bL=bU[bO];if(bL){var bP=false;bL=bL[bM];while(bL){if(bL.sizcache===bQ){bP=bU[bL.sizset];break}if(bL.nodeType===1){if(!bT){bL.sizcache=bQ;bL.sizset=bO}if(typeof bR!=="string"){if(bL===bR){bP=true;break}}else{if(bu.filter(bR,[bL]).length>0){bP=bL;break}}}bL=bL[bM]}bU[bO]=bP}}}if(aq.documentElement.contains){bu.contains=function(bM,bL){return bM!==bL&&(bM.contains?bM.contains(bL):true)}}else{if(aq.documentElement.compareDocumentPosition){bu.contains=function(bM,bL){return !!(bM.compareDocumentPosition(bL)&16)}}else{bu.contains=function(){return false}}}bu.isXML=function(bL){var bM=(bL?bL.ownerDocument||bL:0).documentElement;return bM?bM.nodeName!=="HTML":false};var bH=function(bL,bS){var bQ,bO=[],bP="",bN=bS.nodeType?[bS]:bS;while((bQ=bz.match.PSEUDO.exec(bL))){bP+=bQ[0];bL=bL.replace(bz.match.PSEUDO,"")}bL=bz.relative[bL]?bL+"*":bL;for(var bR=0,bM=bN.length;bR<bM;bR++){bu(bL,bN[bR],bO)}return bu.filter(bP,bO)};b.find=bu;b.expr=bu.selectors;b.expr[":"]=b.expr.filters;b.unique=bu.uniqueSort;b.text=bu.getText;b.isXMLDoc=bu.isXML;b.contains=bu.contains})();var Y=/Until$/,am=/^(?:parents|prevUntil|prevAll)/,a6=/,/,bn=/^.[^:#\[\.,]*$/,Q=Array.prototype.slice,I=b.expr.match.POS,au={children:true,contents:true,next:true,prev:true};b.fn.extend({find:function(bs){var bu=this,bw,bt;if(typeof bs!=="string"){return b(bs).filter(function(){for(bw=0,bt=bu.length;bw<bt;bw++){if(b.contains(bu[bw],this)){return true}}})}var bv=this.pushStack("","find",bs),by,bz,bx;for(bw=0,bt=this.length;bw<bt;bw++){by=bv.length;b.find(bs,this[bw],bv);if(bw>0){for(bz=by;bz<bv.length;bz++){for(bx=0;bx<by;bx++){if(bv[bx]===bv[bz]){bv.splice(bz--,1);break}}}}}return bv},has:function(bt){var bs=b(bt);return this.filter(function(){for(var bv=0,bu=bs.length;bv<bu;bv++){if(b.contains(this,bs[bv])){return true}}})},not:function(bs){return this.pushStack(aB(this,bs,false),"not",bs)},filter:function(bs){return this.pushStack(aB(this,bs,true),"filter",bs)},is:function(bs){return !!bs&&(typeof bs==="string"?b.filter(bs,this).length>0:this.filter(bs).length>0)},closest:function(bC,bt){var bz=[],bw,bu,bB=this[0];if(b.isArray(bC)){var by,bv,bx={},bs=1;if(bB&&bC.length){for(bw=0,bu=bC.length;bw<bu;bw++){bv=bC[bw];if(!bx[bv]){bx[bv]=I.test(bv)?b(bv,bt||this.context):bv}}while(bB&&bB.ownerDocument&&bB!==bt){for(bv in bx){by=bx[bv];if(by.jquery?by.index(bB)>-1:b(bB).is(by)){bz.push({selector:bv,elem:bB,level:bs})}}bB=bB.parentNode;bs++}}return bz}var bA=I.test(bC)||typeof bC!=="string"?b(bC,bt||this.context):0;for(bw=0,bu=this.length;bw<bu;bw++){bB=this[bw];while(bB){if(bA?bA.index(bB)>-1:b.find.matchesSelector(bB,bC)){bz.push(bB);break}else{bB=bB.parentNode;if(!bB||!bB.ownerDocument||bB===bt||bB.nodeType===11){break}}}}bz=bz.length>1?b.unique(bz):bz;return this.pushStack(bz,"closest",bC)},index:function(bs){if(!bs){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof bs==="string"){return b.inArray(this[0],b(bs))}return b.inArray(bs.jquery?bs[0]:bs,this)},add:function(bs,bt){var bv=typeof bs==="string"?b(bs,bt):b.makeArray(bs&&bs.nodeType?[bs]:bs),bu=b.merge(this.get(),bv);return this.pushStack(D(bv[0])||D(bu[0])?bu:b.unique(bu))},andSelf:function(){return this.add(this.prevObject)}});function D(bs){return !bs||!bs.parentNode||bs.parentNode.nodeType===11}b.each({parent:function(bt){var bs=bt.parentNode;return bs&&bs.nodeType!==11?bs:null},parents:function(bs){return b.dir(bs,"parentNode")},parentsUntil:function(bt,bs,bu){return b.dir(bt,"parentNode",bu)},next:function(bs){return b.nth(bs,2,"nextSibling")},prev:function(bs){return b.nth(bs,2,"previousSibling")},nextAll:function(bs){return b.dir(bs,"nextSibling")},prevAll:function(bs){return b.dir(bs,"previousSibling")},nextUntil:function(bt,bs,bu){return b.dir(bt,"nextSibling",bu)},prevUntil:function(bt,bs,bu){return b.dir(bt,"previousSibling",bu)},siblings:function(bs){return b.sibling(bs.parentNode.firstChild,bs)},children:function(bs){return b.sibling(bs.firstChild)},contents:function(bs){return b.nodeName(bs,"iframe")?bs.contentDocument||bs.contentWindow.document:b.makeArray(bs.childNodes)}},function(bs,bt){b.fn[bs]=function(bx,bu){var bw=b.map(this,bt,bx),bv=Q.call(arguments);if(!Y.test(bs)){bu=bx}if(bu&&typeof bu==="string"){bw=b.filter(bu,bw)}bw=this.length>1&&!au[bs]?b.unique(bw):bw;if((this.length>1||a6.test(bu))&&am.test(bs)){bw=bw.reverse()}return this.pushStack(bw,bs,bv.join(","))}});b.extend({filter:function(bu,bs,bt){if(bt){bu=":not("+bu+")"}return bs.length===1?b.find.matchesSelector(bs[0],bu)?[bs[0]]:[]:b.find.matches(bu,bs)},dir:function(bu,bt,bw){var bs=[],bv=bu[bt];while(bv&&bv.nodeType!==9&&(bw===L||bv.nodeType!==1||!b(bv).is(bw))){if(bv.nodeType===1){bs.push(bv)}bv=bv[bt]}return bs},nth:function(bw,bs,bu,bv){bs=bs||1;var bt=0;for(;bw;bw=bw[bu]){if(bw.nodeType===1&&++bt===bs){break}}return bw},sibling:function(bu,bt){var bs=[];for(;bu;bu=bu.nextSibling){if(bu.nodeType===1&&bu!==bt){bs.push(bu)}}return bs}});function aB(bv,bu,bs){bu=bu||0;if(b.isFunction(bu)){return b.grep(bv,function(bx,bw){var by=!!bu.call(bx,bw,bx);return by===bs})}else{if(bu.nodeType){return b.grep(bv,function(bx,bw){return(bx===bu)===bs})}else{if(typeof bu==="string"){var bt=b.grep(bv,function(bw){return bw.nodeType===1});if(bn.test(bu)){return b.filter(bu,bt,!bs)}else{bu=b.filter(bu,bt)}}}}return b.grep(bv,function(bx,bw){return(b.inArray(bx,bu)>=0)===bs})}var ad=/ jQuery\d+="(?:\d+|null)"/g,an=/^\s+/,S=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,d=/<([\w:]+)/,x=/<tbody/i,V=/<|&#?\w+;/,P=/<(?:script|object|embed|option|style)/i,n=/checked\s*(?:[^=]|=\s*.checked.)/i,bj=/\/(java|ecma)script/i,aJ=/^\s*<!(?:\[CDATA\[|\-\-)/,at={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};at.optgroup=at.option;at.tbody=at.tfoot=at.colgroup=at.caption=at.thead;at.th=at.td;if(!b.support.htmlSerialize){at._default=[1,"div<div>","</div>"]}b.fn.extend({text:function(bs){if(b.isFunction(bs)){return this.each(function(bu){var bt=b(this);bt.text(bs.call(this,bu,bt.text()))})}if(typeof bs!=="object"&&bs!==L){return this.empty().append((this[0]&&this[0].ownerDocument||aq).createTextNode(bs))}return b.text(this)},wrapAll:function(bs){if(b.isFunction(bs)){return this.each(function(bu){b(this).wrapAll(bs.call(this,bu))})}if(this[0]){var bt=b(bs,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){bt.insertBefore(this[0])}bt.map(function(){var bu=this;while(bu.firstChild&&bu.firstChild.nodeType===1){bu=bu.firstChild}return bu}).append(this)}return this},wrapInner:function(bs){if(b.isFunction(bs)){return this.each(function(bt){b(this).wrapInner(bs.call(this,bt))})}return this.each(function(){var bt=b(this),bu=bt.contents();if(bu.length){bu.wrapAll(bs)}else{bt.append(bs)}})},wrap:function(bs){return this.each(function(){b(this).wrapAll(bs)})},unwrap:function(){return this.parent().each(function(){if(!b.nodeName(this,"body")){b(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(bs){if(this.nodeType===1){this.appendChild(bs)}})},prepend:function(){return this.domManip(arguments,true,function(bs){if(this.nodeType===1){this.insertBefore(bs,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bt){this.parentNode.insertBefore(bt,this)})}else{if(arguments.length){var bs=b(arguments[0]);bs.push.apply(bs,this.toArray());return this.pushStack(bs,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bt){this.parentNode.insertBefore(bt,this.nextSibling)})}else{if(arguments.length){var bs=this.pushStack(this,"after",arguments);bs.push.apply(bs,b(arguments[0]).toArray());return bs}}},remove:function(bs,bv){for(var bt=0,bu;(bu=this[bt])!=null;bt++){if(!bs||b.filter(bs,[bu]).length){if(!bv&&bu.nodeType===1){b.cleanData(bu.getElementsByTagName("*"));b.cleanData([bu])}if(bu.parentNode){bu.parentNode.removeChild(bu)}}}return this},empty:function(){for(var bs=0,bt;(bt=this[bs])!=null;bs++){if(bt.nodeType===1){b.cleanData(bt.getElementsByTagName("*"))}while(bt.firstChild){bt.removeChild(bt.firstChild)}}return this},clone:function(bt,bs){bt=bt==null?false:bt;bs=bs==null?bt:bs;return this.map(function(){return b.clone(this,bt,bs)})},html:function(bu){if(bu===L){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ad,""):null}else{if(typeof bu==="string"&&!P.test(bu)&&(b.support.leadingWhitespace||!an.test(bu))&&!at[(d.exec(bu)||["",""])[1].toLowerCase()]){bu=bu.replace(S,"<$1></$2>");try{for(var bt=0,bs=this.length;bt<bs;bt++){if(this[bt].nodeType===1){b.cleanData(this[bt].getElementsByTagName("*"));this[bt].innerHTML=bu}}}catch(bv){this.empty().append(bu)}}else{if(b.isFunction(bu)){this.each(function(bx){var bw=b(this);bw.html(bu.call(this,bx,bw.html()))})}else{this.empty().append(bu)}}}return this},replaceWith:function(bs){if(this[0]&&this[0].parentNode){if(b.isFunction(bs)){return this.each(function(bv){var bu=b(this),bt=bu.html();bu.replaceWith(bs.call(this,bv,bt))})}if(typeof bs!=="string"){bs=b(bs).detach()}return this.each(function(){var bu=this.nextSibling,bt=this.parentNode;b(this).remove();if(bu){b(bu).before(bs)}else{b(bt).append(bs)}})}else{return this.length?this.pushStack(b(b.isFunction(bs)?bs():bs),"replaceWith",bs):this}},detach:function(bs){return this.remove(bs,true)},domManip:function(bz,bD,bC){var bv,bw,by,bB,bA=bz[0],bt=[];if(!b.support.checkClone&&arguments.length===3&&typeof bA==="string"&&n.test(bA)){return this.each(function(){b(this).domManip(bz,bD,bC,true)})}if(b.isFunction(bA)){return this.each(function(bF){var bE=b(this);bz[0]=bA.call(this,bF,bD?bE.html():L);bE.domManip(bz,bD,bC)})}if(this[0]){bB=bA&&bA.parentNode;if(b.support.parentNode&&bB&&bB.nodeType===11&&bB.childNodes.length===this.length){bv={fragment:bB}}else{bv=b.buildFragment(bz,this,bt)}by=bv.fragment;if(by.childNodes.length===1){bw=by=by.firstChild}else{bw=by.firstChild}if(bw){bD=bD&&b.nodeName(bw,"tr");for(var bu=0,bs=this.length,bx=bs-1;bu<bs;bu++){bC.call(bD?a7(this[bu],bw):this[bu],bv.cacheable||(bs>1&&bu<bx)?b.clone(by,true,true):by)}}if(bt.length){b.each(bt,bm)}}return this}});function a7(bs,bt){return b.nodeName(bs,"table")?(bs.getElementsByTagName("tbody")[0]||bs.appendChild(bs.ownerDocument.createElement("tbody"))):bs}function u(bs,bz){if(bz.nodeType!==1||!b.hasData(bs)){return}var by=b.expando,bv=b.data(bs),bw=b.data(bz,bv);if((bv=bv[by])){var bA=bv.events;bw=bw[by]=b.extend({},bv);if(bA){delete bw.handle;bw.events={};for(var bx in bA){for(var bu=0,bt=bA[bx].length;bu<bt;bu++){b.event.add(bz,bx+(bA[bx][bu].namespace?".":"")+bA[bx][bu].namespace,bA[bx][bu],bA[bx][bu].data)}}}}}function ae(bt,bs){var bu;if(bs.nodeType!==1){return}if(bs.clearAttributes){bs.clearAttributes()}if(bs.mergeAttributes){bs.mergeAttributes(bt)}bu=bs.nodeName.toLowerCase();if(bu==="object"){bs.outerHTML=bt.outerHTML}else{if(bu==="input"&&(bt.type==="checkbox"||bt.type==="radio")){if(bt.checked){bs.defaultChecked=bs.checked=bt.checked}if(bs.value!==bt.value){bs.value=bt.value}}else{if(bu==="option"){bs.selected=bt.defaultSelected}else{if(bu==="input"||bu==="textarea"){bs.defaultValue=bt.defaultValue}}}}bs.removeAttribute(b.expando)}b.buildFragment=function(bx,bv,bt){var bw,bs,bu,by;if(bv&&bv[0]){by=bv[0].ownerDocument||bv[0]}if(!by.createDocumentFragment){by=aq}if(bx.length===1&&typeof bx[0]==="string"&&bx[0].length<512&&by===aq&&bx[0].charAt(0)==="<"&&!P.test(bx[0])&&(b.support.checkClone||!n.test(bx[0]))){bs=true;bu=b.fragments[bx[0]];if(bu&&bu!==1){bw=bu}}if(!bw){bw=by.createDocumentFragment();b.clean(bx,by,bw,bt)}if(bs){b.fragments[bx[0]]=bu?bw:1}return{fragment:bw,cacheable:bs}};b.fragments={};b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(bs,bt){b.fn[bs]=function(bu){var bx=[],bA=b(bu),bz=this.length===1&&this[0].parentNode;if(bz&&bz.nodeType===11&&bz.childNodes.length===1&&bA.length===1){bA[bt](this[0]);return this}else{for(var by=0,bv=bA.length;by<bv;by++){var bw=(by>0?this.clone(true):this).get();b(bA[by])[bt](bw);bx=bx.concat(bw)}return this.pushStack(bx,bs,bA.selector)}}});function bc(bs){if("getElementsByTagName" in bs){return bs.getElementsByTagName("*")}else{if("querySelectorAll" in bs){return bs.querySelectorAll("*")}else{return[]}}}function av(bs){if(bs.type==="checkbox"||bs.type==="radio"){bs.defaultChecked=bs.checked}}function F(bs){if(b.nodeName(bs,"input")){av(bs)}else{if("getElementsByTagName" in bs){b.grep(bs.getElementsByTagName("input"),av)}}}b.extend({clone:function(bw,by,bu){var bx=bw.cloneNode(true),bs,bt,bv;if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(bw.nodeType===1||bw.nodeType===11)&&!b.isXMLDoc(bw)){ae(bw,bx);bs=bc(bw);bt=bc(bx);for(bv=0;bs[bv];++bv){if(bt[bv]){ae(bs[bv],bt[bv])}}}if(by){u(bw,bx);if(bu){bs=bc(bw);bt=bc(bx);for(bv=0;bs[bv];++bv){u(bs[bv],bt[bv])}}}bs=bt=null;return bx},clean:function(bu,bw,bF,by){var bD;bw=bw||aq;if(typeof bw.createElement==="undefined"){bw=bw.ownerDocument||bw[0]&&bw[0].ownerDocument||aq}var bG=[],bz;for(var bC=0,bx;(bx=bu[bC])!=null;bC++){if(typeof bx==="number"){bx+=""}if(!bx){continue}if(typeof bx==="string"){if(!V.test(bx)){bx=bw.createTextNode(bx)}else{bx=bx.replace(S,"<$1></$2>");var bI=(d.exec(bx)||["",""])[1].toLowerCase(),bv=at[bI]||at._default,bB=bv[0],bt=bw.createElement("div");bt.innerHTML=bv[1]+bx+bv[2];while(bB--){bt=bt.lastChild}if(!b.support.tbody){var bs=x.test(bx),bA=bI==="table"&&!bs?bt.firstChild&&bt.firstChild.childNodes:bv[1]==="<table>"&&!bs?bt.childNodes:[];for(bz=bA.length-1;bz>=0;--bz){if(b.nodeName(bA[bz],"tbody")&&!bA[bz].childNodes.length){bA[bz].parentNode.removeChild(bA[bz])}}}if(!b.support.leadingWhitespace&&an.test(bx)){bt.insertBefore(bw.createTextNode(an.exec(bx)[0]),bt.firstChild)}bx=bt.childNodes}}var bE;if(!b.support.appendChecked){if(bx[0]&&typeof(bE=bx.length)==="number"){for(bz=0;bz<bE;bz++){F(bx[bz])}}else{F(bx)}}if(bx.nodeType){bG.push(bx)}else{bG=b.merge(bG,bx)}}if(bF){bD=function(bJ){return !bJ.type||bj.test(bJ.type)};for(bC=0;bG[bC];bC++){if(by&&b.nodeName(bG[bC],"script")&&(!bG[bC].type||bG[bC].type.toLowerCase()==="text/javascript")){by.push(bG[bC].parentNode?bG[bC].parentNode.removeChild(bG[bC]):bG[bC])}else{if(bG[bC].nodeType===1){var bH=b.grep(bG[bC].getElementsByTagName("script"),bD);bG.splice.apply(bG,[bC+1,0].concat(bH))}bF.appendChild(bG[bC])}}}return bG},cleanData:function(bt){var bw,bu,bs=b.cache,bB=b.expando,bz=b.event.special,by=b.support.deleteExpando;for(var bx=0,bv;(bv=bt[bx])!=null;bx++){if(bv.nodeName&&b.noData[bv.nodeName.toLowerCase()]){continue}bu=bv[b.expando];if(bu){bw=bs[bu]&&bs[bu][bB];if(bw&&bw.events){for(var bA in bw.events){if(bz[bA]){b.event.remove(bv,bA)}else{b.removeEvent(bv,bA,bw.handle)}}if(bw.handle){bw.handle.elem=null}}if(by){delete bv[b.expando]}else{if(bv.removeAttribute){bv.removeAttribute(b.expando)}}delete bs[bu]}}}});function bm(bs,bt){if(bt.src){b.ajax({url:bt.src,async:false,dataType:"script"})}else{b.globalEval((bt.text||bt.textContent||bt.innerHTML||"").replace(aJ,"/*$0*/"))}if(bt.parentNode){bt.parentNode.removeChild(bt)}}var ag=/alpha\([^)]*\)/i,ap=/opacity=([^)]*)/,A=/([A-Z]|^ms)/g,a9=/^-?\d+(?:px)?$/i,bl=/^-?\d/,J=/^([\-+])=([\-+.\de]+)/,a4={position:"absolute",visibility:"hidden",display:"block"},aj=["Left","Right"],aZ=["Top","Bottom"],W,aE,aT;b.fn.css=function(bs,bt){if(arguments.length===2&&bt===L){return this}return b.access(this,bs,bt,true,function(bv,bu,bw){return bw!==L?b.style(bv,bu,bw):b.css(bv,bu)})};b.extend({cssHooks:{opacity:{get:function(bu,bt){if(bt){var bs=W(bu,"opacity","opacity");return bs===""?"1":bs}else{return bu.style.opacity}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(bu,bt,bA,bv){if(!bu||bu.nodeType===3||bu.nodeType===8||!bu.style){return}var by,bz,bw=b.camelCase(bt),bs=bu.style,bB=b.cssHooks[bw];bt=b.cssProps[bw]||bw;if(bA!==L){bz=typeof bA;if(bz==="string"&&(by=J.exec(bA))){bA=(+(by[1]+1)*+by[2])+parseFloat(b.css(bu,bt));bz="number"}if(bA==null||bz==="number"&&isNaN(bA)){return}if(bz==="number"&&!b.cssNumber[bw]){bA+="px"}if(!bB||!("set" in bB)||(bA=bB.set(bu,bA))!==L){try{bs[bt]=bA}catch(bx){}}}else{if(bB&&"get" in bB&&(by=bB.get(bu,false,bv))!==L){return by}return bs[bt]}},css:function(bw,bv,bt){var bu,bs;bv=b.camelCase(bv);bs=b.cssHooks[bv];bv=b.cssProps[bv]||bv;if(bv==="cssFloat"){bv="float"}if(bs&&"get" in bs&&(bu=bs.get(bw,true,bt))!==L){return bu}else{if(W){return W(bw,bv)}}},swap:function(bv,bu,bw){var bs={};for(var bt in bu){bs[bt]=bv.style[bt];bv.style[bt]=bu[bt]}bw.call(bv);for(bt in bu){bv.style[bt]=bs[bt]}}});b.curCSS=b.css;b.each(["height","width"],function(bt,bs){b.cssHooks[bs]={get:function(bw,bv,bu){var bx;if(bv){if(bw.offsetWidth!==0){return o(bw,bs,bu)}else{b.swap(bw,a4,function(){bx=o(bw,bs,bu)})}return bx}},set:function(bu,bv){if(a9.test(bv)){bv=parseFloat(bv);if(bv>=0){return bv+"px"}}else{return bv}}}});if(!b.support.opacity){b.cssHooks.opacity={get:function(bt,bs){return ap.test((bs&&bt.currentStyle?bt.currentStyle.filter:bt.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":bs?"1":""},set:function(bw,bx){var bv=bw.style,bt=bw.currentStyle,bs=b.isNaN(bx)?"":"alpha(opacity="+bx*100+")",bu=bt&&bt.filter||bv.filter||"";bv.zoom=1;if(bx>=1&&b.trim(bu.replace(ag,""))===""){bv.removeAttribute("filter");if(bt&&!bt.filter){return}}bv.filter=ag.test(bu)?bu.replace(ag,bs):bu+" "+bs}}}b(function(){if(!b.support.reliableMarginRight){b.cssHooks.marginRight={get:function(bu,bt){var bs;b.swap(bu,{display:"inline-block"},function(){if(bt){bs=W(bu,"margin-right","marginRight")}else{bs=bu.style.marginRight}});return bs}}}});if(aq.defaultView&&aq.defaultView.getComputedStyle){aE=function(bw,bu){var bt,bv,bs;bu=bu.replace(A,"-$1").toLowerCase();if(!(bv=bw.ownerDocument.defaultView)){return L}if((bs=bv.getComputedStyle(bw,null))){bt=bs.getPropertyValue(bu);if(bt===""&&!b.contains(bw.ownerDocument.documentElement,bw)){bt=b.style(bw,bu)}}return bt}}if(aq.documentElement.currentStyle){aT=function(bw,bu){var bx,bt=bw.currentStyle&&bw.currentStyle[bu],bs=bw.runtimeStyle&&bw.runtimeStyle[bu],bv=bw.style;if(!a9.test(bt)&&bl.test(bt)){bx=bv.left;if(bs){bw.runtimeStyle.left=bw.currentStyle.left}bv.left=bu==="fontSize"?"1em":(bt||0);bt=bv.pixelLeft+"px";bv.left=bx;if(bs){bw.runtimeStyle.left=bs}}return bt===""?"auto":bt}}W=aE||aT;function o(bu,bt,bs){var bw=bt==="width"?bu.offsetWidth:bu.offsetHeight,bv=bt==="width"?aj:aZ;if(bw>0){if(bs!=="border"){b.each(bv,function(){if(!bs){bw-=parseFloat(b.css(bu,"padding"+this))||0}if(bs==="margin"){bw+=parseFloat(b.css(bu,bs+this))||0}else{bw-=parseFloat(b.css(bu,"border"+this+"Width"))||0}})}return bw+"px"}bw=W(bu,bt,bt);if(bw<0||bw==null){bw=bu.style[bt]||0}bw=parseFloat(bw)||0;if(bs){b.each(bv,function(){bw+=parseFloat(b.css(bu,"padding"+this))||0;if(bs!=="padding"){bw+=parseFloat(b.css(bu,"border"+this+"Width"))||0}if(bs==="margin"){bw+=parseFloat(b.css(bu,bs+this))||0}})}return bw+"px"}if(b.expr&&b.expr.filters){b.expr.filters.hidden=function(bu){var bt=bu.offsetWidth,bs=bu.offsetHeight;return(bt===0&&bs===0)||(!b.support.reliableHiddenOffsets&&(bu.style.display||b.css(bu,"display"))==="none")};b.expr.filters.visible=function(bs){return !b.expr.filters.hidden(bs)}}var j=/%20/g,al=/\[\]$/,bq=/\r?\n/g,bo=/#.*$/,az=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,aW=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aI=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,aL=/^(?:GET|HEAD)$/,c=/^\/\//,M=/\?/,a3=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,q=/^(?:select|textarea)/i,h=/\s+/,bp=/([?&])_=[^&]*/,K=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,B=b.fn.load,X={},r={},aA,s,aP=["*/"]+["*"];try{aA=bi.href}catch(ar){aA=aq.createElement("a");aA.href="";aA=aA.href}s=K.exec(aA.toLowerCase())||[];function f(bs){return function(bw,by){if(typeof bw!=="string"){by=bw;bw="*"}if(b.isFunction(by)){var bv=bw.toLowerCase().split(h),bu=0,bx=bv.length,bt,bz,bA;for(;bu<bx;bu++){bt=bv[bu];bA=/^\+/.test(bt);if(bA){bt=bt.substr(1)||"*"}bz=bs[bt]=bs[bt]||[];bz[bA?"unshift":"push"](by)}}}}function aR(bt,bC,bx,bB,bz,bv){bz=bz||bC.dataTypes[0];bv=bv||{};bv[bz]=true;var by=bt[bz],bu=0,bs=by?by.length:0,bw=(bt===X),bA;for(;bu<bs&&(bw||!bA);bu++){bA=by[bu](bC,bx,bB);if(typeof bA==="string"){if(!bw||bv[bA]){bA=L}else{bC.dataTypes.unshift(bA);bA=aR(bt,bC,bx,bB,bA,bv)}}}if((bw||!bA)&&!bv["*"]){bA=aR(bt,bC,bx,bB,"*",bv)}return bA}function ai(bu,bv){var bt,bs,bw=b.ajaxSettings.flatOptions||{};for(bt in bv){if(bv[bt]!==L){(bw[bt]?bu:(bs||(bs={})))[bt]=bv[bt]}}if(bs){b.extend(true,bu,bs)}}b.fn.extend({load:function(bu,bx,by){if(typeof bu!=="string"&&B){return B.apply(this,arguments)}else{if(!this.length){return this}}var bw=bu.indexOf(" ");if(bw>=0){var bs=bu.slice(bw,bu.length);bu=bu.slice(0,bw)}var bv="GET";if(bx){if(b.isFunction(bx)){by=bx;bx=L}else{if(typeof bx==="object"){bx=b.param(bx,b.ajaxSettings.traditional);bv="POST"}}}var bt=this;b.ajax({url:bu,type:bv,dataType:"html",data:bx,complete:function(bA,bz,bB){bB=bA.responseText;if(bA.isResolved()){bA.done(function(bC){bB=bC});bt.html(bs?b("<div>").append(bB.replace(a3,"")).find(bs):bB)}if(by){bt.each(by,[bB,bz,bA])}}});return this},serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?b.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||q.test(this.nodeName)||aW.test(this.type))}).map(function(bs,bt){var bu=b(this).val();return bu==null?null:b.isArray(bu)?b.map(bu,function(bw,bv){return{name:bt.name,value:bw.replace(bq,"\r\n")}}):{name:bt.name,value:bu.replace(bq,"\r\n")}}).get()}});b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(bs,bt){b.fn[bt]=function(bu){return this.bind(bt,bu)}});b.each(["get","post"],function(bs,bt){b[bt]=function(bu,bw,bx,bv){if(b.isFunction(bw)){bv=bv||bx;bx=bw;bw=L}return b.ajax({type:bt,url:bu,data:bw,success:bx,dataType:bv})}});b.extend({getScript:function(bs,bt){return b.get(bs,L,bt,"script")},getJSON:function(bs,bt,bu){return b.get(bs,bt,bu,"json")},ajaxSetup:function(bt,bs){if(bs){ai(bt,b.ajaxSettings)}else{bs=bt;bt=b.ajaxSettings}ai(bt,bs);return bt},ajaxSettings:{url:aA,isLocal:aI.test(s[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":aP},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a8.String,"text html":true,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:f(X),ajaxTransport:f(r),ajax:function(bw,bu){if(typeof bw==="object"){bu=bw;bw=L}bu=bu||{};var bA=b.ajaxSetup({},bu),bP=bA.context||bA,bD=bP!==bA&&(bP.nodeType||bP instanceof b)?b(bP):b.event,bO=b.Deferred(),bK=b._Deferred(),by=bA.statusCode||{},bz,bE={},bL={},bN,bv,bI,bB,bF,bx=0,bt,bH,bG={readyState:0,setRequestHeader:function(bR,bS){if(!bx){var bQ=bR.toLowerCase();bR=bL[bQ]=bL[bQ]||bR;bE[bR]=bS}return this},getAllResponseHeaders:function(){return bx===2?bN:null},getResponseHeader:function(bR){var bQ;if(bx===2){if(!bv){bv={};while((bQ=az.exec(bN))){bv[bQ[1].toLowerCase()]=bQ[2]}}bQ=bv[bR.toLowerCase()]}return bQ===L?null:bQ},overrideMimeType:function(bQ){if(!bx){bA.mimeType=bQ}return this},abort:function(bQ){bQ=bQ||"abort";if(bI){bI.abort(bQ)}bC(0,bQ);return this}};function bC(bW,bR,bX,bT){if(bx===2){return}bx=2;if(bB){clearTimeout(bB)}bI=L;bN=bT||"";bG.readyState=bW>0?4:0;var bQ,b1,b0,bU=bR,bV=bX?bg(bA,bG,bX):L,bS,bZ;if(bW>=200&&bW<300||bW===304){if(bA.ifModified){if((bS=bG.getResponseHeader("Last-Modified"))){b.lastModified[bz]=bS}if((bZ=bG.getResponseHeader("Etag"))){b.etag[bz]=bZ}}if(bW===304){bU="notmodified";bQ=true}else{try{b1=G(bA,bV);bU="success";bQ=true}catch(bY){bU="parsererror";b0=bY}}}else{b0=bU;if(!bU||bW){bU="error";if(bW<0){bW=0}}}bG.status=bW;bG.statusText=""+(bR||bU);if(bQ){bO.resolveWith(bP,[b1,bU,bG])}else{bO.rejectWith(bP,[bG,bU,b0])}bG.statusCode(by);by=L;if(bt){bD.trigger("ajax"+(bQ?"Success":"Error"),[bG,bA,bQ?b1:b0])}bK.resolveWith(bP,[bG,bU]);if(bt){bD.trigger("ajaxComplete",[bG,bA]);if(!(--b.active)){b.event.trigger("ajaxStop")}}}bO.promise(bG);bG.success=bG.done;bG.error=bG.fail;bG.complete=bK.done;bG.statusCode=function(bR){if(bR){var bQ;if(bx<2){for(bQ in bR){by[bQ]=[by[bQ],bR[bQ]]}}else{bQ=bR[bG.status];bG.then(bQ,bQ)}}return this};bA.url=((bw||bA.url)+"").replace(bo,"").replace(c,s[1]+"//");bA.dataTypes=b.trim(bA.dataType||"*").toLowerCase().split(h);if(bA.crossDomain==null){bF=K.exec(bA.url.toLowerCase());bA.crossDomain=!!(bF&&(bF[1]!=s[1]||bF[2]!=s[2]||(bF[3]||(bF[1]==="http:"?80:443))!=(s[3]||(s[1]==="http:"?80:443))))}if(bA.data&&bA.processData&&typeof bA.data!=="string"){bA.data=b.param(bA.data,bA.traditional)}aR(X,bA,bu,bG);if(bx===2){return false}bt=bA.global;bA.type=bA.type.toUpperCase();bA.hasContent=!aL.test(bA.type);if(bt&&b.active++===0){b.event.trigger("ajaxStart")}if(!bA.hasContent){if(bA.data){bA.url+=(M.test(bA.url)?"&":"?")+bA.data;delete bA.data}bz=bA.url;if(bA.cache===false){var bs=b.now(),bM=bA.url.replace(bp,"$1_="+bs);bA.url=bM+((bM===bA.url)?(M.test(bA.url)?"&":"?")+"_="+bs:"")}}if(bA.data&&bA.hasContent&&bA.contentType!==false||bu.contentType){bG.setRequestHeader("Content-Type",bA.contentType)}if(bA.ifModified){bz=bz||bA.url;if(b.lastModified[bz]){bG.setRequestHeader("If-Modified-Since",b.lastModified[bz])}if(b.etag[bz]){bG.setRequestHeader("If-None-Match",b.etag[bz])}}bG.setRequestHeader("Accept",bA.dataTypes[0]&&bA.accepts[bA.dataTypes[0]]?bA.accepts[bA.dataTypes[0]]+(bA.dataTypes[0]!=="*"?", "+aP+"; q=0.01":""):bA.accepts["*"]);for(bH in bA.headers){bG.setRequestHeader(bH,bA.headers[bH])}if(bA.beforeSend&&(bA.beforeSend.call(bP,bG,bA)===false||bx===2)){bG.abort();return false}for(bH in {success:1,error:1,complete:1}){bG[bH](bA[bH])}bI=aR(r,bA,bu,bG);if(!bI){bC(-1,"No Transport")}else{bG.readyState=1;if(bt){bD.trigger("ajaxSend",[bG,bA])}if(bA.async&&bA.timeout>0){bB=setTimeout(function(){bG.abort("timeout")},bA.timeout)}try{bx=1;bI.send(bE,bC)}catch(bJ){if(bx<2){bC(-1,bJ)}else{b.error(bJ)}}}return bG},param:function(bs,bu){var bt=[],bw=function(bx,by){by=b.isFunction(by)?by():by;bt[bt.length]=encodeURIComponent(bx)+"="+encodeURIComponent(by)};if(bu===L){bu=b.ajaxSettings.traditional}if(b.isArray(bs)||(bs.jquery&&!b.isPlainObject(bs))){b.each(bs,function(){bw(this.name,this.value)})}else{for(var bv in bs){w(bv,bs[bv],bu,bw)}}return bt.join("&").replace(j,"+")}});function w(bu,bw,bt,bv){if(b.isArray(bw)){b.each(bw,function(by,bx){if(bt||al.test(bu)){bv(bu,bx)}else{w(bu+"["+(typeof bx==="object"||b.isArray(bx)?by:"")+"]",bx,bt,bv)}})}else{if(!bt&&bw!=null&&typeof bw==="object"){for(var bs in bw){w(bu+"["+bs+"]",bw[bs],bt,bv)}}else{bv(bu,bw)}}}b.extend({active:0,lastModified:{},etag:{}});function bg(bB,bA,bx){var bt=bB.contents,bz=bB.dataTypes,bu=bB.responseFields,bw,by,bv,bs;for(by in bu){if(by in bx){bA[bu[by]]=bx[by]}}while(bz[0]==="*"){bz.shift();if(bw===L){bw=bB.mimeType||bA.getResponseHeader("content-type")}}if(bw){for(by in bt){if(bt[by]&&bt[by].test(bw)){bz.unshift(by);break}}}if(bz[0] in bx){bv=bz[0]}else{for(by in bx){if(!bz[0]||bB.converters[by+" "+bz[0]]){bv=by;break}if(!bs){bs=by}}bv=bv||bs}if(bv){if(bv!==bz[0]){bz.unshift(bv)}return bx[bv]}}function G(bF,bx){if(bF.dataFilter){bx=bF.dataFilter(bx,bF.dataType)}var bB=bF.dataTypes,bE={},by,bC,bu=bB.length,bz,bA=bB[0],bv,bw,bD,bt,bs;for(by=1;by<bu;by++){if(by===1){for(bC in bF.converters){if(typeof bC==="string"){bE[bC.toLowerCase()]=bF.converters[bC]}}}bv=bA;bA=bB[by];if(bA==="*"){bA=bv}else{if(bv!=="*"&&bv!==bA){bw=bv+" "+bA;bD=bE[bw]||bE["* "+bA];if(!bD){bs=L;for(bt in bE){bz=bt.split(" ");if(bz[0]===bv||bz[0]==="*"){bs=bE[bz[1]+" "+bA];if(bs){bt=bE[bt];if(bt===true){bD=bs}else{if(bs===true){bD=bt}}break}}}}if(!(bD||bs)){b.error("No conversion from "+bw.replace(" "," to "))}if(bD!==true){bx=bD?bD(bx):bs(bt(bx))}}}}return bx}var ay=b.now(),v=/(\=)\?(&|$)|\?\?/i;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return b.expando+"_"+(ay++)}});b.ajaxPrefilter("json jsonp",function(bB,by,bA){var bv=bB.contentType==="application/x-www-form-urlencoded"&&(typeof bB.data==="string");if(bB.dataTypes[0]==="jsonp"||bB.jsonp!==false&&(v.test(bB.url)||bv&&v.test(bB.data))){var bz,bu=bB.jsonpCallback=b.isFunction(bB.jsonpCallback)?bB.jsonpCallback():bB.jsonpCallback,bx=a8[bu],bs=bB.url,bw=bB.data,bt="$1"+bu+"$2";if(bB.jsonp!==false){bs=bs.replace(v,bt);if(bB.url===bs){if(bv){bw=bw.replace(v,bt)}if(bB.data===bw){bs+=(/\?/.test(bs)?"&":"?")+bB.jsonp+"="+bu}}}bB.url=bs;bB.data=bw;a8[bu]=function(bC){bz=[bC]};bA.always(function(){a8[bu]=bx;if(bz&&b.isFunction(bx)){a8[bu](bz[0])}});bB.converters["script json"]=function(){if(!bz){b.error(bu+" was not called")}return bz[0]};bB.dataTypes[0]="json";return"script"}});b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(bs){b.globalEval(bs);return bs}}});b.ajaxPrefilter("script",function(bs){if(bs.cache===L){bs.cache=false}if(bs.crossDomain){bs.type="GET";bs.global=false}});b.ajaxTransport("script",function(bu){if(bu.crossDomain){var bs,bt=aq.head||aq.getElementsByTagName("head")[0]||aq.documentElement;return{send:function(bv,bw){bs=aq.createElement("script");bs.async="async";if(bu.scriptCharset){bs.charset=bu.scriptCharset}bs.src=bu.url;bs.onload=bs.onreadystatechange=function(by,bx){if(bx||!bs.readyState||/loaded|complete/.test(bs.readyState)){bs.onload=bs.onreadystatechange=null;if(bt&&bs.parentNode){bt.removeChild(bs)}bs=L;if(!bx){bw(200,"success")}}};bt.insertBefore(bs,bt.firstChild)},abort:function(){if(bs){bs.onload(0,1)}}}}});var C=a8.ActiveXObject?function(){for(var bs in N){N[bs](0,1)}}:false,z=0,N;function aH(){try{return new a8.XMLHttpRequest()}catch(bs){}}function af(){try{return new a8.ActiveXObject("Microsoft.XMLHTTP")}catch(bs){}}b.ajaxSettings.xhr=a8.ActiveXObject?function(){return !this.isLocal&&aH()||af()}:aH;(function(bs){b.extend(b.support,{ajax:!!bs,cors:!!bs&&("withCredentials" in bs)})})(b.ajaxSettings.xhr());if(b.support.ajax){b.ajaxTransport(function(bs){if(!bs.crossDomain||b.support.cors){var bt;return{send:function(bz,bu){var by=bs.xhr(),bx,bw;if(bs.username){by.open(bs.type,bs.url,bs.async,bs.username,bs.password)}else{by.open(bs.type,bs.url,bs.async)}if(bs.xhrFields){for(bw in bs.xhrFields){by[bw]=bs.xhrFields[bw]}}if(bs.mimeType&&by.overrideMimeType){by.overrideMimeType(bs.mimeType)}if(!bs.crossDomain&&!bz["X-Requested-With"]){bz["X-Requested-With"]="XMLHttpRequest"}try{for(bw in bz){by.setRequestHeader(bw,bz[bw])}}catch(bv){}by.send((bs.hasContent&&bs.data)||null);bt=function(bI,bC){var bD,bB,bA,bG,bF;try{if(bt&&(bC||by.readyState===4)){bt=L;if(bx){by.onreadystatechange=b.noop;if(C){delete N[bx]}}if(bC){if(by.readyState!==4){by.abort()}}else{bD=by.status;bA=by.getAllResponseHeaders();bG={};bF=by.responseXML;if(bF&&bF.documentElement){bG.xml=bF}bG.text=by.responseText;try{bB=by.statusText}catch(bH){bB=""}if(!bD&&bs.isLocal&&!bs.crossDomain){bD=bG.text?200:404}else{if(bD===1223){bD=204}}}}}catch(bE){if(!bC){bu(-1,bE)}}if(bG){bu(bD,bB,bG,bA)}};if(!bs.async||by.readyState===4){bt()}else{bx=++z;if(C){if(!N){N={};b(a8).unload(C)}N[bx]=bt}by.onreadystatechange=bt}},abort:function(){if(bt){bt(0,1)}}}}})}var R={},a5,m,ax=/^(?:toggle|show|hide)$/,aN=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,a0,aD=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],a1;b.fn.extend({show:function(bv,by,bx){var bu,bw;if(bv||bv===0){return this.animate(aY("show",3),bv,by,bx)}else{for(var bt=0,bs=this.length;bt<bs;bt++){bu=this[bt];if(bu.style){bw=bu.style.display;if(!b._data(bu,"olddisplay")&&bw==="none"){bw=bu.style.display=""}if(bw===""&&b.css(bu,"display")==="none"){b._data(bu,"olddisplay",y(bu.nodeName))}}}for(bt=0;bt<bs;bt++){bu=this[bt];if(bu.style){bw=bu.style.display;if(bw===""||bw==="none"){bu.style.display=b._data(bu,"olddisplay")||""}}}return this}},hide:function(bu,bx,bw){if(bu||bu===0){return this.animate(aY("hide",3),bu,bx,bw)}else{for(var bt=0,bs=this.length;bt<bs;bt++){if(this[bt].style){var bv=b.css(this[bt],"display");if(bv!=="none"&&!b._data(this[bt],"olddisplay")){b._data(this[bt],"olddisplay",bv)}}}for(bt=0;bt<bs;bt++){if(this[bt].style){this[bt].style.display="none"}}return this}},_toggle:b.fn.toggle,toggle:function(bu,bt,bv){var bs=typeof bu==="boolean";if(b.isFunction(bu)&&b.isFunction(bt)){this._toggle.apply(this,arguments)}else{if(bu==null||bs){this.each(function(){var bw=bs?bu:b(this).is(":hidden");b(this)[bw?"show":"hide"]()})}else{this.animate(aY("toggle",3),bu,bt,bv)}}return this},fadeTo:function(bs,bv,bu,bt){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:bv},bs,bu,bt)},animate:function(bw,bt,bv,bu){var bs=b.speed(bt,bv,bu);if(b.isEmptyObject(bw)){return this.each(bs.complete,[false])}bw=b.extend({},bw);return this[bs.queue===false?"each":"queue"](function(){if(bs.queue===false){b._mark(this)}var bA=b.extend({},bs),bH=this.nodeType===1,bE=bH&&b(this).is(":hidden"),bx,bB,bz,bG,bF,bD,by,bC,bI;bA.animatedProperties={};for(bz in bw){bx=b.camelCase(bz);if(bz!==bx){bw[bx]=bw[bz];delete bw[bz]}bB=bw[bx];if(b.isArray(bB)){bA.animatedProperties[bx]=bB[1];bB=bw[bx]=bB[0]}else{bA.animatedProperties[bx]=bA.specialEasing&&bA.specialEasing[bx]||bA.easing||"swing"}if(bB==="hide"&&bE||bB==="show"&&!bE){return bA.complete.call(this)}if(bH&&(bx==="height"||bx==="width")){bA.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(b.css(this,"display")==="inline"&&b.css(this,"float")==="none"){if(!b.support.inlineBlockNeedsLayout){this.style.display="inline-block"}else{bG=y(this.nodeName);if(bG==="inline"){this.style.display="inline-block"}else{this.style.display="inline";this.style.zoom=1}}}}}if(bA.overflow!=null){this.style.overflow="hidden"}for(bz in bw){bF=new b.fx(this,bA,bz);bB=bw[bz];if(ax.test(bB)){bF[bB==="toggle"?bE?"show":"hide":bB]()}else{bD=aN.exec(bB);by=bF.cur();if(bD){bC=parseFloat(bD[2]);bI=bD[3]||(b.cssNumber[bz]?"":"px");if(bI!=="px"){b.style(this,bz,(bC||1)+bI);by=((bC||1)/bF.cur())*by;b.style(this,bz,by+bI)}if(bD[1]){bC=((bD[1]==="-="?-1:1)*bC)+by}bF.custom(by,bC,bI)}else{bF.custom(by,bB,"")}}}return true})},stop:function(bt,bs){if(bt){this.queue([])}this.each(function(){var bv=b.timers,bu=bv.length;if(!bs){b._unmark(true,this)}while(bu--){if(bv[bu].elem===this){if(bs){bv[bu](true)}bv.splice(bu,1)}}});if(!bs){this.dequeue()}return this}});function bd(){setTimeout(ao,0);return(a1=b.now())}function ao(){a1=L}function aY(bt,bs){var bu={};b.each(aD.concat.apply([],aD.slice(0,bs)),function(){bu[this]=bt});return bu}b.each({slideDown:aY("show",1),slideUp:aY("hide",1),slideToggle:aY("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(bs,bt){b.fn[bs]=function(bu,bw,bv){return this.animate(bt,bu,bw,bv)}});b.extend({speed:function(bu,bv,bt){var bs=bu&&typeof bu==="object"?b.extend({},bu):{complete:bt||!bt&&bv||b.isFunction(bu)&&bu,duration:bu,easing:bt&&bv||bv&&!b.isFunction(bv)&&bv};bs.duration=b.fx.off?0:typeof bs.duration==="number"?bs.duration:bs.duration in b.fx.speeds?b.fx.speeds[bs.duration]:b.fx.speeds._default;bs.old=bs.complete;bs.complete=function(bw){if(b.isFunction(bs.old)){bs.old.call(this)}if(bs.queue!==false){b.dequeue(this)}else{if(bw!==false){b._unmark(this)}}};return bs},easing:{linear:function(bu,bv,bs,bt){return bs+bt*bu},swing:function(bu,bv,bs,bt){return((-Math.cos(bu*Math.PI)/2)+0.5)*bt+bs}},timers:[],fx:function(bt,bs,bu){this.options=bs;this.elem=bt;this.prop=bu;bs.orig=bs.orig||{}}});b.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(b.fx.step[this.prop]||b.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var bs,bt=b.css(this.elem,this.prop);return isNaN(bs=parseFloat(bt))?!bt||bt==="auto"?0:bt:bs},custom:function(bx,bw,bv){var bs=this,bu=b.fx;this.startTime=a1||bd();this.start=bx;this.end=bw;this.unit=bv||this.unit||(b.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;function bt(by){return bs.step(by)}bt.elem=this.elem;if(bt()&&b.timers.push(bt)&&!a0){a0=setInterval(bu.tick,bu.interval)}},show:function(){this.options.orig[this.prop]=b.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());b(this.elem).show()},hide:function(){this.options.orig[this.prop]=b.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(bw){var bv=a1||bd(),bs=true,bx=this.elem,bt=this.options,bu,bz;if(bw||bv>=bt.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();bt.animatedProperties[this.prop]=true;for(bu in bt.animatedProperties){if(bt.animatedProperties[bu]!==true){bs=false}}if(bs){if(bt.overflow!=null&&!b.support.shrinkWrapBlocks){b.each(["","X","Y"],function(bA,bB){bx.style["overflow"+bB]=bt.overflow[bA]})}if(bt.hide){b(bx).hide()}if(bt.hide||bt.show){for(var by in bt.animatedProperties){b.style(bx,by,bt.orig[by])}}bt.complete.call(bx)}return false}else{if(bt.duration==Infinity){this.now=bv}else{bz=bv-this.startTime;this.state=bz/bt.duration;this.pos=b.easing[bt.animatedProperties[this.prop]](this.state,bz,0,1,bt.duration);this.now=this.start+((this.end-this.start)*this.pos)}this.update()}return true}};b.extend(b.fx,{tick:function(){for(var bt=b.timers,bs=0;bs<bt.length;++bs){if(!bt[bs]()){bt.splice(bs--,1)}}if(!bt.length){b.fx.stop()}},interval:13,stop:function(){clearInterval(a0);a0=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(bs){b.style(bs.elem,"opacity",bs.now)},_default:function(bs){if(bs.elem.style&&bs.elem.style[bs.prop]!=null){bs.elem.style[bs.prop]=(bs.prop==="width"||bs.prop==="height"?Math.max(0,bs.now):bs.now)+bs.unit}else{bs.elem[bs.prop]=bs.now}}}});if(b.expr&&b.expr.filters){b.expr.filters.animated=function(bs){return b.grep(b.timers,function(bt){return bs===bt.elem}).length}}function y(bv){if(!R[bv]){var bs=aq.body,bt=b("<"+bv+">").appendTo(bs),bu=bt.css("display");bt.remove();if(bu==="none"||bu===""){if(!a5){a5=aq.createElement("iframe");a5.frameBorder=a5.width=a5.height=0}bs.appendChild(a5);if(!m||!a5.createElement){m=(a5.contentWindow||a5.contentDocument).document;m.write((aq.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");m.close()}bt=m.createElement(bv);m.body.appendChild(bt);bu=b.css(bt,"display");bs.removeChild(a5)}R[bv]=bu}return R[bv]}var U=/^t(?:able|d|h)$/i,aa=/^(?:body|html)$/i;if("getBoundingClientRect" in aq.documentElement){b.fn.offset=function(bF){var bv=this[0],by;if(bF){return this.each(function(bG){b.offset.setOffset(this,bF,bG)})}if(!bv||!bv.ownerDocument){return null}if(bv===bv.ownerDocument.body){return b.offset.bodyOffset(bv)}try{by=bv.getBoundingClientRect()}catch(bC){}var bE=bv.ownerDocument,bt=bE.documentElement;if(!by||!b.contains(bt,bv)){return by?{top:by.top,left:by.left}:{top:0,left:0}}var bz=bE.body,bA=aG(bE),bx=bt.clientTop||bz.clientTop||0,bB=bt.clientLeft||bz.clientLeft||0,bs=bA.pageYOffset||b.support.boxModel&&bt.scrollTop||bz.scrollTop,bw=bA.pageXOffset||b.support.boxModel&&bt.scrollLeft||bz.scrollLeft,bD=by.top+bs-bx,bu=by.left+bw-bB;return{top:bD,left:bu}}}else{b.fn.offset=function(bD){var bx=this[0];if(bD){return this.each(function(bE){b.offset.setOffset(this,bD,bE)})}if(!bx||!bx.ownerDocument){return null}if(bx===bx.ownerDocument.body){return b.offset.bodyOffset(bx)}b.offset.initialize();var bA,bu=bx.offsetParent,bt=bx,bC=bx.ownerDocument,bv=bC.documentElement,by=bC.body,bz=bC.defaultView,bs=bz?bz.getComputedStyle(bx,null):bx.currentStyle,bB=bx.offsetTop,bw=bx.offsetLeft;while((bx=bx.parentNode)&&bx!==by&&bx!==bv){if(b.offset.supportsFixedPosition&&bs.position==="fixed"){break}bA=bz?bz.getComputedStyle(bx,null):bx.currentStyle;bB-=bx.scrollTop;bw-=bx.scrollLeft;if(bx===bu){bB+=bx.offsetTop;bw+=bx.offsetLeft;if(b.offset.doesNotAddBorder&&!(b.offset.doesAddBorderForTableAndCells&&U.test(bx.nodeName))){bB+=parseFloat(bA.borderTopWidth)||0;bw+=parseFloat(bA.borderLeftWidth)||0}bt=bu;bu=bx.offsetParent}if(b.offset.subtractsBorderForOverflowNotVisible&&bA.overflow!=="visible"){bB+=parseFloat(bA.borderTopWidth)||0;bw+=parseFloat(bA.borderLeftWidth)||0}bs=bA}if(bs.position==="relative"||bs.position==="static"){bB+=by.offsetTop;bw+=by.offsetLeft}if(b.offset.supportsFixedPosition&&bs.position==="fixed"){bB+=Math.max(bv.scrollTop,by.scrollTop);bw+=Math.max(bv.scrollLeft,by.scrollLeft)}return{top:bB,left:bw}}}b.offset={initialize:function(){var bs=aq.body,bt=aq.createElement("div"),bw,by,bx,bz,bu=parseFloat(b.css(bs,"marginTop"))||0,bv="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";b.extend(bt.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});bt.innerHTML=bv;bs.insertBefore(bt,bs.firstChild);bw=bt.firstChild;by=bw.firstChild;bz=bw.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(by.offsetTop!==5);this.doesAddBorderForTableAndCells=(bz.offsetTop===5);by.style.position="fixed";by.style.top="20px";this.supportsFixedPosition=(by.offsetTop===20||by.offsetTop===15);by.style.position=by.style.top="";bw.style.overflow="hidden";bw.style.position="relative";this.subtractsBorderForOverflowNotVisible=(by.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(bs.offsetTop!==bu);bs.removeChild(bt);b.offset.initialize=b.noop},bodyOffset:function(bs){var bu=bs.offsetTop,bt=bs.offsetLeft;b.offset.initialize();if(b.offset.doesNotIncludeMarginInBodyOffset){bu+=parseFloat(b.css(bs,"marginTop"))||0;bt+=parseFloat(b.css(bs,"marginLeft"))||0}return{top:bu,left:bt}},setOffset:function(bv,bE,by){var bz=b.css(bv,"position");if(bz==="static"){bv.style.position="relative"}var bx=b(bv),bt=bx.offset(),bs=b.css(bv,"top"),bC=b.css(bv,"left"),bD=(bz==="absolute"||bz==="fixed")&&b.inArray("auto",[bs,bC])>-1,bB={},bA={},bu,bw;if(bD){bA=bx.position();bu=bA.top;bw=bA.left}else{bu=parseFloat(bs)||0;bw=parseFloat(bC)||0}if(b.isFunction(bE)){bE=bE.call(bv,by,bt)}if(bE.top!=null){bB.top=(bE.top-bt.top)+bu}if(bE.left!=null){bB.left=(bE.left-bt.left)+bw}if("using" in bE){bE.using.call(bv,bB)}else{bx.css(bB)}}};b.fn.extend({position:function(){if(!this[0]){return null}var bu=this[0],bt=this.offsetParent(),bv=this.offset(),bs=aa.test(bt[0].nodeName)?{top:0,left:0}:bt.offset();bv.top-=parseFloat(b.css(bu,"marginTop"))||0;bv.left-=parseFloat(b.css(bu,"marginLeft"))||0;bs.top+=parseFloat(b.css(bt[0],"borderTopWidth"))||0;bs.left+=parseFloat(b.css(bt[0],"borderLeftWidth"))||0;return{top:bv.top-bs.top,left:bv.left-bs.left}},offsetParent:function(){return this.map(function(){var bs=this.offsetParent||aq.body;while(bs&&(!aa.test(bs.nodeName)&&b.css(bs,"position")==="static")){bs=bs.offsetParent}return bs})}});b.each(["Left","Top"],function(bt,bs){var bu="scroll"+bs;b.fn[bu]=function(bx){var bv,bw;if(bx===L){bv=this[0];if(!bv){return null}bw=aG(bv);return bw?("pageXOffset" in bw)?bw[bt?"pageYOffset":"pageXOffset"]:b.support.boxModel&&bw.document.documentElement[bu]||bw.document.body[bu]:bv[bu]}return this.each(function(){bw=aG(this);if(bw){bw.scrollTo(!bt?bx:b(bw).scrollLeft(),bt?bx:b(bw).scrollTop())}else{this[bu]=bx}})}});function aG(bs){return b.isWindow(bs)?bs:bs.nodeType===9?bs.defaultView||bs.parentWindow:false}b.each(["Height","Width"],function(bt,bs){var bu=bs.toLowerCase();b.fn["inner"+bs]=function(){var bv=this[0];return bv&&bv.style?parseFloat(b.css(bv,bu,"padding")):null};b.fn["outer"+bs]=function(bw){var bv=this[0];return bv&&bv.style?parseFloat(b.css(bv,bu,bw?"margin":"border")):null};b.fn[bu]=function(bx){var by=this[0];if(!by){return bx==null?null:this}if(b.isFunction(bx)){return this.each(function(bC){var bB=b(this);bB[bu](bx.call(this,bC,bB[bu]()))})}if(b.isWindow(by)){var bz=by.document.documentElement["client"+bs],bv=by.document.body;return by.document.compatMode==="CSS1Compat"&&bz||bv&&bv["client"+bs]||bz}else{if(by.nodeType===9){return Math.max(by.documentElement["client"+bs],by.body["scroll"+bs],by.documentElement["scroll"+bs],by.body["offset"+bs],by.documentElement["offset"+bs])}else{if(bx===L){var bA=b.css(by,bu),bw=parseFloat(bA);return b.isNaN(bw)?bA:bw}else{return this.css(bu,typeof bx==="string"?bx:bx+"px")}}}}});a8.jQuery=a8.$=b})(window);(function(b){var a;b.rails=a={CSRFProtection:function(d){var c=b('meta[name="csrf-token"]').attr("content");if(c){d.setRequestHeader("X-CSRF-Token",c)}},fire:function(g,c,f){var d=b.Event(c);g.trigger(d,f);return d.result!==false},handleRemote:function(g){var i,d,h,c=g.data("type")||(b.ajaxSettings&&b.ajaxSettings.dataType);if(a.fire(g,"ajax:before")){if(g.is("form")){i=g.attr("method");d=g.attr("action");h=g.serializeArray();var f=g.data("ujs:submit-button");if(f){h.push(f);g.data("ujs:submit-button",null)}}else{i=g.data("method");d=g.attr("href");h=null}b.ajax({url:d,type:i||"GET",data:h,dataType:c,beforeSend:function(k,j){if(j.dataType===undefined){k.setRequestHeader("accept","*/*;q=0.5, "+j.accepts.script)}return a.fire(g,"ajax:beforeSend",[k,j])},success:function(k,j,l){g.trigger("ajax:success",[k,j,l])},complete:function(k,j){g.trigger("ajax:complete",[k,j])},error:function(l,j,k){g.trigger("ajax:error",[l,j,k])}})}},handleMethod:function(h){var d=h.attr("href"),j=h.data("method"),f=b("meta[name=csrf-token]").attr("content"),i=b("meta[name=csrf-param]").attr("content"),g=b('<form method="post" action="'+d+'"></form>'),c='<input name="_method" value="'+j+'" type="hidden" />';if(i!==undefined&&f!==undefined){c+='<input name="'+i+'" value="'+f+'" type="hidden" />'}g.hide().append(c).appendTo("body");g.submit()},disableFormElements:function(c){c.find("input[data-disable-with], button[data-disable-with]").each(function(){var d=b(this),f=d.is("button")?"html":"val";d.data("ujs:enable-with",d[f]());d[f](d.data("disable-with"));d.attr("disabled","disabled")})},enableFormElements:function(c){c.find("input[data-disable-with]:disabled, button[data-disable-with]:disabled").each(function(){var d=b(this),f=d.is("button")?"html":"val";if(d.data("ujs:enable-with")){d[f](d.data("ujs:enable-with"))}d.removeAttr("disabled")})},allowAction:function(c){var d=c.data("confirm");return !d||(a.fire(c,"confirm")&&confirm(d))},blankInputs:function(f,d){var g=false,c=d||"input";f.find(c).each(function(){if(!b(this).val()){g=true}});return g},nonBlankInputs:function(g,d){var f=false,c=d||"input";g.find(c).each(function(){if(b(this).val()){f=true}});return f},stopEverything:function(c){c.stopImmediatePropagation();return false},callFormSubmitBindings:function(d){var c=d.data("events"),f=true;if(c!=undefined&&c.submit!=undefined){b.each(c.submit,function(g,h){if(typeof h.handler==="function"){return f=h.handler(h.data)}})}return f}};if("ajaxPrefilter" in b){b.ajaxPrefilter(function(c,f,d){a.CSRFProtection(d)})}else{b(document).ajaxSend(function(c,d){a.CSRFProtection(d)})}b("a[data-confirm], a[data-method], a[data-remote]").live("click.rails",function(d){var c=b(this);if(!a.allowAction(c)){return a.stopEverything(d)}if(c.data("remote")!=undefined){a.handleRemote(c);return false}else{if(c.data("method")){a.handleMethod(c);return false}}});b("form").live("submit.rails",function(f){var c=b(this),d=c.data("remote")!=undefined;if(!a.allowAction(c)){return a.stopEverything(f)}if(a.blankInputs(c,"input[name][required]")&&a.fire(c,"ajax:aborted:required")){return !d}if(a.nonBlankInputs(c,"input:file")){return a.fire(c,"ajax:aborted:file")}if(!b.support.submitBubbles&&a.callFormSubmitBindings(c)==false){return a.stopEverything(f)}if(d){a.handleRemote(c);return false}else{setTimeout(function(){a.disableFormElements(c)},13)}});b("form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])").live("click.rails",function(){var d=b(this);if(!a.allowAction(d)){return a.stopEverything(e)}var c=d.attr("name"),f=c?{name:c,value:d.val()}:null;d.closest("form").data("ujs:submit-button",f)});b("form").live("ajax:beforeSend.rails",function(c){if(this==c.target){a.disableFormElements(b(this))}});b("form").live("ajax:complete.rails",function(c){if(this==c.target){a.enableFormElements(b(this))}})})(jQuery);if(typeof global==="undefined"){global=window}global.Interface=function Interface(f,c){var a,d,b;a=(f&&c)?f:this;d=(f&&c)?c:(f)?f:"interface"+Math.random().toString();b=function(g){g.isInterface=true;g.name=d;a[d]=g;return a[d]};return b};global.Module=function Module(g,d){var a,c,b,f;a=(g&&d)?g:this;c=(g&&d)?d:(g)?g:"module"+Math.random().toString();f={moduleName:c,prototype:{},__includedModules:[],include:function(h){var i;for(i in h){if(h.hasOwnProperty(i)&&i!=="prototype"&&i!=="isModule"&&i!=="__includedModules"&&i!=="include"&&i!=="moduleName"){f[i]=h[i]}}if(h.hasOwnProperty("prototype")&&h.prototype){for(i in h.prototype){if(h.prototype.hasOwnProperty(i)){f.prototype[i]=h.prototype[i]}}}else{h.prototype={}}this.__includedModules.push(h);return this}};b=function(h){var i;f.isModule=true;for(i in h){if(h.hasOwnProperty(i)&&i!=="prototype"&&i!=="isModule"&&i!=="__includedModules"&&i!=="include"&&i!=="moduleName"){f[i]=h[i]}}if(h.hasOwnProperty("prototype")&&h.prototype){for(i in h.prototype){if(h.prototype.hasOwnProperty(i)){f.prototype[i]=h.prototype[i]}}}a[c]=f;return a[c]};b.includes=function(){for(var h=0;h<arguments.length;h++){f.include(arguments[h])}return b};return b};global.Class=function Class(c,b){var a,d,f;a=(c&&b)?c:global;b=(c&&b)?b:(c)?c:"class"+Math.random().toString();d=function(){if(this.init){this.init.apply(this,arguments)}};d.__descendants=[];d.__implementedInterfaces=[];d.__includedModules=[];d.className=b;d.include=function(g){var h;for(h in g){if(g.hasOwnProperty(h)&&h!="prototype"&&h!="constructor"&&h!="isModule"&&h!="superClass"&&h!="include"){d[h]=g[h]}}if(g.hasOwnProperty("prototype")&&g.prototype){for(h in g.prototype){if(g.prototype.hasOwnProperty(h)){d.prototype[h]=g.prototype[h]}}}else{g.prototype={}}d.__includedModules.push(g);return this};f=function(g){var n,h,l,m,o,p=g.prototype;if(p){for(o in p){if(p.hasOwnProperty(o)){d.prototype[o]=p[o]}}delete g.prototype}for(o in g){if(g.hasOwnProperty(o)){d[o]=g[o]}}for(n=0,h=d.__implementedInterfaces.length;n<h;n++){for(l=0,m=d.__implementedInterfaces[n].constructor.length;l<m;l++){if(!d[d.__implementedInterfaces[n].constructor[l]]){console.log("must implement static "+d.__implementedInterfaces[n].name);break}}if(d.__implementedInterfaces[n].hasOwnProperty("prototype")&&d.__implementedInterfaces[n].prototype){for(l=0,m=d.__implementedInterfaces[n].prototype.length;l<m;l++){if(!d.prototype[d.__implementedInterfaces[n].prototype[l]]){console.log("must implement prototype "+d.__implementedInterfaces[n].name);break}}}}try{if(Li&&Li.ObjectSpy&&Li.Spy){d.__objectSpy=new Li.ObjectSpy();d.__objectSpy.spy(d);d.__objectSpy.spy(d.prototype)}}catch(k){}a[b]=d;return d};f.inherits=function(j){var g,h;d.superClass=j;if(j.hasOwnProperty("__descendants")){j.__descendants.push(d)}h=function(){};h.prototype=j.prototype;d.prototype=new h();d.prototype.constructor=d;for(g in j){if(j.hasOwnProperty(g)&&g!="prototype"&&g!=="className"&&g!=="superClass"&&g!=="include"&&g!="__descendants"){d[g]=j[g]}}delete this.inherits;return this};f.ensures=function(h){for(var g=0;g<arguments.length;g++){d.__implementedInterfaces.push(arguments[g])}delete this.ensures;return f};f.includes=function(){for(var g=0;g<arguments.length;g++){d.include(arguments[g])}return f};return f};Class("CustomEvent")({prototype:{bubbles:true,cancelable:true,currentTarget:null,timeStamp:0,target:null,type:"",isPropagationStopped:false,isDefaultPrevented:false,isImmediatePropagationStopped:false,areImmediateHandlersPrevented:false,init:function init(a,c){this.type=a;if(typeof c!=="undefined"){for(var b in c){if(c.hasOwnProperty(b)){this[b]=c[b]}}}},stopPropagation:function stopPropagation(){this.isPropagationStopped=true},preventDefault:function preventDefault(){this.isDefaultPrevented=true},stopImmediatePropagation:function stopImmediatePropagation(){this.preventImmediateHandlers();this.stopPropagation()},preventImmediateHandlers:function preventImmediateHandlers(){this.areImmediateHandlersPrevented=true}}});Module("CustomEventSupport")({eventListeners:null,bind:function(d,b){var f,a,c;if(!this.eventListeners){this.eventListeners={}}if(!this.eventListeners[d]){this.eventListeners[d]=[]}f=false;c=this.eventListeners[d];for(a=0;a<c.length;a++){if(c[a]===b){f=true;break}}if(!f){this.eventListeners[d].push(b)}return this},unbind:function(d,b){var a,f,c;f=false;if(!this.eventListeners){this.eventListeners={}}if(typeof b=="undefined"){this.eventListeners[d]=[]}c=this.eventListeners[d];for(a=0;a<c.length;a++){if(c[a]===b){f=true;break}}if(f){this.eventListeners[d].splice(a,1)}return this},dispatch:function(d,g){var f,c,a,b;if(this.eventListeners===null){this.eventListeners={}}if(typeof g==="undefined"){g={}}if(g.hasOwnProperty("target")===false){g.target=this}f=new CustomEvent(d,g);c=this.eventListeners[d]||[];a=this;for(b=0;b<c.length;b=b+1){c[b].call(a,f);if(f.areImmediateHandlersPrevented===true){break}}return f},prototype:{eventListeners:null,bind:function(d,b){var f,a,c;if(!this.eventListeners){this.eventListeners={}}if(!this.eventListeners[d]){this.eventListeners[d]=[]}f=false;c=this.eventListeners[d];for(a=0;a<c.length;a++){if(c[a]===b){f=true;break}}if(!f){this.eventListeners[d].push(b)}return this},unbind:function(d,b){var a,f,c;f=false;a=0;if(!this.eventListeners){this.eventListeners={}}if(typeof b=="undefined"){this.eventListeners[d]=[]}c=this.eventListeners[d];for(a=0;a<c.length;a++){if(c[a]==b){f=true;break}}if(f){this.eventListeners[d].splice(a,1)}return this},dispatch:function(d,g){var f,c,a,b;if(this.eventListeners===null){this.eventListeners={}}if(typeof g==="undefined"){g={}}if(g.hasOwnProperty("target")===false){g.target=this}f=new CustomEvent(d,g);c=this.eventListeners[d]||[];a=this;for(b=0;b<c.length;b=b+1){c[b].call(a,f);if(f.areImmediateHandlersPrevented===true){break}}return f}}});Module("NodeSupport")({prototype:{parent:null,children:[],appendChild:function(a){if(a.parent){a.parent.removeChild(a)}if(!this.hasOwnProperty("children")){this.children=[]}this.children.push(a);this[a.name]=a;a.setParent(this);return a},insertBefore:function(c,b){var a;if(c.parent){c.parent.removeChild(c)}if(!this.hasOwnProperty("children")){this.children=[]}if(typeof b==="undefined"){this.appendChild(c)}else{a=this.children.indexOf(b);this.children.splice(a,0,c);this[c.name]=c;c.setParent(this)}return c},insertChild:function(b,a){console.warn("NodeSupport insertChild method is deprecated, try insertBefore");if(b.parent){b.parent.removeChild(b)}if(!this.hasOwnProperty("children")){this.children=[]}if(typeof a=="undefined"){this.children.push(b);this[b.name]=b;b.setParent(this);return b}this.children.splice(a,0,b);this[b.name]=b;b.setParent(this);return b},removeChild:function(b){var a=this.children.indexOf(b);if(a!==-1){this.children.splice(a,1);delete this[b.name];b.parent=null}return b},setParent:function(a){this.parent=a;return this},getDescendants:function(){var a=[];this.children.forEach(function(b){a.push(b)});this.children.forEach(function(b){a=a.concat(b.getDescendants())});return a},getPreviousSibling:function(){if(typeof this.parent==="undefined"){return}if(this.parent.children[0]===this){return}return this.parent.children[this.parent.children.indexOf(this)-1]},getNextSibling:function(){if(typeof this.parent==="undefined"){return}if(this.parent.children[this.parent.children.length-1]===this){return}return this.parent.children[this.parent.children.indexOf(this)+1]}}});Module("BubblingSupport")({dispatch:function(a,c){c=c||{};var b=CustomEventSupport.prototype.dispatch.call(this,a,c);if(b.isPropagationStopped===false){if(this.parent&&this.parent.dispatch){c.target=b.target;c.currentTarget=this.parent;this.parent.dispatch(b.type,c)}}return b},prototype:{dispatch:function(a,c){c=c||{};var b=CustomEventSupport.prototype.dispatch.call(this,a,c);if(b.isPropagationStopped===false&&b.bubbles===true){if(this.parent&&this.parent.dispatch){c.target=b.target;c.currentTarget=this.parent;this.parent.dispatch(b.type,c)}}return b}}});Class("Widget").includes(CustomEventSupport,NodeSupport)({HTML:"<div></div>",ELEMENT_CLASS:"widget",prototype:{active:false,disabled:false,__destroyed:false,init:function init(a){var b;Object.keys(a||{}).forEach(function(c){this[c]=a[c]},this);if(this.element==null){this.element=$(this.constructor.HTML.replace(/\s\s+/g,""));this.element.addClass(this.constructor.ELEMENT_CLASS)}if(this.hasOwnProperty("className")===true){this.element.addClass(this.className)}},_activate:function _activate(){this.active=true;this.element.addClass("active")},activate:function activate(){if(this.__destroyed===true){console.warn("calling on destroyed object")}this.dispatch("beforeActivate");this._activate();this.dispatch("activate");return this},_deactivate:function _deactivate(){this.active=false;this.element.removeClass("active")},deactivate:function deactivate(){if(this.__destroyed===true){console.warn("calling on destroyed object")}this.dispatch("beforeDeactivate");this._deactivate();this.dispatch("deactivate");return this},_enable:function _enable(){this.disabled=false;this.element.removeClass("disable")},enable:function enable(){if(this.__destroyed===true){console.warn("calling on destroyed object")}this.dispatch("beforeEnable");this._enable();this.dispatch("enable");return this},_disable:function _disable(){this.disabled=true;this.element.addClass("disable")},disable:function disable(){if(this.__destroyed===true){console.warn("calling on destroyed object")}this.dispatch("beforeDisable");this._disable();this.dispatch("disable");return this},_destroy:function _destroy(){var a;if(this.element){this.element.remove()}if(this.children!==null){a=this.children.length;while(a>0){this.children[0].destroy();if(this.children.length===a){this.children.shift()}a--}}if(this.parent){this.parent.removeChild(this)}this.children=null;this.element=null},destroy:function destroy(){if(this.__destroyed===true){console.warn("calling on destroyed object")}this.dispatch("beforeDestroy");this._destroy();this.dispatch("destroy");this.eventListeners=null;this.__destroyed=true;return null},render:function render(a,b){if(this.__destroyed===true){console.warn("calling on destroyed object")}this.dispatch("beforeRender",{element:a,beforeElement:b});if(b){this.element.insertBefore(b)}else{this.element.appendTo(a)}this.dispatch("render");return this}}});(function(b){function a(d){this.input=d;if(d.attr("type")=="password"){this.handlePassword()}b(d[0].form).submit(function(){if(d.hasClass("placeholder")&&d[0].value==d.attr("placeholder")){d[0].value=""}})}a.prototype={show:function(f){if(this.input[0].value===""||(f&&this.valueIsPlaceholder())){if(this.isPassword){try{this.input[0].setAttribute("type","text")}catch(d){this.input.before(this.fakePassword.show()).hide()}}this.input.addClass("placeholder");this.input[0].value=this.input.attr("placeholder")}},hide:function(){if(this.valueIsPlaceholder()&&this.input.hasClass("placeholder")){this.input.removeClass("placeholder");this.input[0].value="";if(this.isPassword){try{this.input[0].setAttribute("type","password")}catch(d){}this.input.show();this.input[0].focus()}}},valueIsPlaceholder:function(){return this.input[0].value==this.input.attr("placeholder")},handlePassword:function(){var d=this.input;d.attr("realType","password");this.isPassword=true;if(b.browser.msie&&d[0].outerHTML){var f=b(d[0].outerHTML.replace(/type=(['"])?password\1/gi,"type=$1text$1"));this.fakePassword=f.val(d.attr("placeholder")).addClass("placeholder").focus(function(){d.trigger("focus");b(this).hide()});b(d[0].form).submit(function(){f.remove();d.show()})}}};var c=!!("placeholder" in document.createElement("input"));b.fn.placeholder=function(){return c?this:this.each(function(){var d=b(this);var f=new a(d);f.show(true);d.focus(function(){f.hide()});d.blur(function(){f.show(false)});if(b.browser.msie){b(window).load(function(){if(d.val()){d.removeClass("placeholder")}f.show(true)});d.focus(function(){if(this.value==""){var g=this.createTextRange();g.collapse(true);g.moveStart("character",0);g.select()}})}})};b("input[placeholder], textarea[placeholder]").placeholder()})(jQuery);window.isDevice=(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i).test(navigator.userAgent);if(window.hasTouch()){document.addEventListener("touchstart",function t(){},true)}window.appendMapScript=function(b){var a=document.createElement("script");a.src="/javascripts/cv/cvmap.js";document.getElementsByTagName("head")[0].appendChild(a);a.onreadystatechange=a.onload=function(){var c=a.readyState;if(!c||/loaded|complete/.test(c)){return b&&b()}};return a};window.appendGoogleMapsScript=function(b){var a=document.createElement("script");a.src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false";if(b){a.src+="&callback="+b}document.getElementsByTagName("head")[0].appendChild(a);return a};function whichTransitionEvent(){var a;var b=document.createElement("fakeelement");var c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c){if(b.style[a]!==undefined){return c[a]}}}window.transitionEnd=whichTransitionEvent();$(function(){new Tooltip(".mapit");new Tooltip(".addVoice");new Accordion(".sidebar-scroller__accordion-arrow");new SlideSection({element:$(".login"),section:$(".login-sec")});new SlideSection({element:$(".install"),section:$(".install-sec")});new SlideSection({element:$(".signup"),section:$(".register-sec")});new LiveFilter(".voice-search > .search",".searchable");new JsonForm("form.register-form",function(){location.reload()});new JsonForm("form.login-form",function(){location.reload()});var a=$(".main-container"),c=$(".map-container"),h=$(".map-btn"),d=$(".voice"),b=$(".info-sidebar");var f=null;var g=function(){f=new CVMap(c,{zoom:2,center:new google.maps.LatLng(0,0)});CVMap.getLocations(function(p){for(var l=0;l<p.length;l++){var n=p[l].location,m=null,s=p[l].voices.length,r=s+" voice(s) in "+n,o='<ul class="map-voices">';for(var k=0;k<p[l].voices.length;k++){var q=p[l].voices[k];if(!m){m=CVMap.at(q.latitude,q.longitude)}o+='<li><a href="/'+q.slug+'">'+q.title+"</a></li>"}o+="</ul>";f.addPin(m,r,s,o)}})};window.initializeVoicesMap=function(){if(typeof CVMap==="undefined"){window.appendMapScript(g)}else{g()}};h.bind("click",function(){c.toggleClass("shown");h.toggleClass("map-active");if(!f){if(typeof google==="undefined"){window.appendGoogleMapsScript("initializeVoicesMap")}else{initializeVoicesMap()}}return false});$(".top-left-navigation, .voice-info-tools").click(function(){$(this).toggleClass("active")});$('.searchable li a[href="'+location.pathname+'?all=true"]').parent().addClass("select");$("[data-action=submit]").bind("click",function(){$(this).closest("form").submit();return false});$(".voice-search input[placeholder]").placeholder();if($(".flash").length){setTimeout(function(){$(".flash").hide("blind")},5000)}$(".flash > .close-message").click(function(){$(this).parent().hide("blind");return false});if($(".header-sponsor").is(":visible")===true){$(".voice-subtitle").addClass("sponsor-padding");$(".voice-info").css("min-height","131px")}$(window).resize(function(){DynamicMeasures.update()})});(function(d,f,g){d.fn.jScrollPane=function(a){function c(br,bc){var b0,ba=this,a2,bF,aM,bD,a7,bQ,s,aQ,bZ,bU,bq,aY,bi,aZ,aX,bP,a6,bz,a3,aO,bx,bw,bK,bC,bl,aV,bs,bk,aK,bo,bR,a1,bf,bG=true,bb=true,bS=false,aW=false,bA=br.clone(false,false).empty(),bN=d.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";bR=br.css("paddingTop")+" "+br.css("paddingRight")+" "+br.css("paddingBottom")+" "+br.css("paddingLeft");a1=(parseInt(br.css("paddingLeft"),10)||0)+(parseInt(br.css("paddingRight"),10)||0);function bu(h){var m,k,l,o,p,i,j=false,n=false;b0=h;if(a2===g){p=br.scrollTop();i=br.scrollLeft();br.css({overflow:"hidden",padding:0});bF=br.innerWidth()+a1;aM=br.innerHeight();br.width(bF);a2=d('<div class="jspPane" />').css("padding",bR).append(br.children());bD=d('<div class="jspContainer" />').css({width:bF+"px",height:aM+"px"}).append(a2).appendTo(br)}else{br.css("width","");j=b0.stickToBottom&&bg();n=b0.stickToRight&&bv();o=br.innerWidth()+a1!=bF||br.outerHeight()!=aM;if(o){bF=br.innerWidth()+a1;aM=br.innerHeight();bD.css({width:bF+"px",height:aM+"px"})}if(!o&&bf==a7&&a2.outerHeight()==bQ){br.width(bF);return}bf=a7;a2.css("width","");br.width(bF);bD.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}a2.css("overflow","auto");if(h.contentWidth){a7=h.contentWidth}else{a7=a2[0].scrollWidth}bQ=a2[0].scrollHeight;a2.css("overflow","");s=a7/bF;aQ=bQ/aM;bZ=aQ>1;bU=s>1;if(!(bU||bZ)){br.removeClass("jspScrollable");a2.css({top:0,width:bD.width()-a1});aT();bp();a9();aL();bH()}else{br.addClass("jspScrollable");m=b0.maintainPosition&&(bi||bP);if(m){k=bW();l=bY()}bT();by();bn();if(m){bd(n?(a7-bF):k,false);be(j?(bQ-aM):l,false)}bh();bJ();bB();if(b0.enableKeyboardNavigation){a8()}if(b0.clickOnTrack){aR()}bt();if(b0.hijackInternalLinks){aU()}}if(b0.autoReinitialise&&!bo){bo=setInterval(function(){bu(b0)},b0.autoReinitialiseDelay)}else{if(!b0.autoReinitialise&&bo){clearInterval(bo)}}p&&br.scrollTop(0)&&be(p,false);i&&br.scrollLeft(0)&&bd(i,false);br.trigger("jsp-initialised",[bU||bZ])}function bT(){if(bZ){bD.append(d('<div class="jspVerticalBar" />').append(d('<div class="jspCap jspCapTop" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragTop" />'),d('<div class="jspDragBottom" />'))),d('<div class="jspCap jspCapBottom" />')));a6=bD.find(">.jspVerticalBar");bz=a6.find(">.jspTrack");bq=bz.find(">.jspDrag");if(b0.showArrows){bw=d('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",bV(0,-1)).bind("click.jsp",bX);bK=d('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",bV(0,1)).bind("click.jsp",bX);if(b0.arrowScrollOnHover){bw.bind("mouseover.jsp",bV(0,-1,bw));bK.bind("mouseover.jsp",bV(0,1,bK))}bE(bz,b0.verticalArrowPositions,bw,bK)}aO=aM;bD.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){aO-=d(this).outerHeight()});bq.hover(function(){bq.addClass("jspHover")},function(){bq.removeClass("jspHover")}).bind("mousedown.jsp",function(i){d("html").bind("dragstart.jsp selectstart.jsp",bX);bq.addClass("jspActive");var h=i.pageY-bq.position().top;d("html").bind("mousemove.jsp",function(j){a5(j.pageY-h,false)}).bind("mouseup.jsp mouseleave.jsp",bm);return false});aS()}}function aS(){bz.height(aO+"px");bi=0;a3=b0.verticalGutter+bz.outerWidth();a2.width(bF-a3-a1);try{if(a6.position().left===0){a2.css("margin-left",a3+"px")}}catch(h){}}function by(){if(bU){bD.append(d('<div class="jspHorizontalBar" />').append(d('<div class="jspCap jspCapLeft" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragLeft" />'),d('<div class="jspDragRight" />'))),d('<div class="jspCap jspCapRight" />')));bC=bD.find(">.jspHorizontalBar");bl=bC.find(">.jspTrack");aZ=bl.find(">.jspDrag");if(b0.showArrows){bk=d('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",bV(-1,0)).bind("click.jsp",bX);aK=d('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",bV(1,0)).bind("click.jsp",bX);if(b0.arrowScrollOnHover){bk.bind("mouseover.jsp",bV(-1,0,bk));aK.bind("mouseover.jsp",bV(1,0,aK))}bE(bl,b0.horizontalArrowPositions,bk,aK)}aZ.hover(function(){aZ.addClass("jspHover")},function(){aZ.removeClass("jspHover")}).bind("mousedown.jsp",function(i){d("html").bind("dragstart.jsp selectstart.jsp",bX);aZ.addClass("jspActive");var h=i.pageX-aZ.position().left;d("html").bind("mousemove.jsp",function(j){a4(j.pageX-h,false)}).bind("mouseup.jsp mouseleave.jsp",bm);return false});aV=bD.innerWidth();bI()}}function bI(){bD.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){aV-=d(this).outerWidth()});bl.width(aV+"px");bP=0}function bn(){if(bU&&bZ){var i=bl.outerHeight(),h=bz.outerWidth();aO-=i;d(bC).find(">.jspCap:visible,>.jspArrow").each(function(){aV+=d(this).outerWidth()});aV-=h;aM-=h;bF-=i;bl.parent().append(d('<div class="jspCorner" />').css("width",i+"px"));aS();bI()}if(bU){a2.width((bD.outerWidth()-a1)+"px")}bQ=a2.outerHeight();aQ=bQ/aM;if(bU){bs=Math.ceil(1/s*aV);if(bs>b0.horizontalDragMaxWidth){bs=b0.horizontalDragMaxWidth}else{if(bs<b0.horizontalDragMinWidth){bs=b0.horizontalDragMinWidth}}aZ.width(bs+"px");aX=aV-bs;bL(bP)}if(bZ){bx=Math.ceil(1/aQ*aO);if(bx>b0.verticalDragMaxHeight){bx=b0.verticalDragMaxHeight}else{if(bx<b0.verticalDragMinHeight){bx=b0.verticalDragMinHeight}}bq.height(bx+"px");aY=aO-bx;bM(bi)}}function bE(m,k,n,j){var h="before",l="after",i;if(k=="os"){k=/Mac/.test(navigator.platform)?"after":"split"}if(k==h){l=k}else{if(k==l){h=k;i=n;n=j;j=i}}m[h](n)[l](j)}function bV(j,h,i){return function(){bj(j,h,this,i);this.blur();return false}}function bj(l,m,h,i){h=d(h).addClass("jspActive");var j,n,o=true,k=function(){if(l!==0){ba.scrollByX(l*b0.arrowButtonSpeed)}if(m!==0){ba.scrollByY(m*b0.arrowButtonSpeed)}n=setTimeout(k,o?b0.initialDelay:b0.arrowRepeatFreq);o=false};k();j=i?"mouseout.jsp":"mouseup.jsp";i=i||d("html");i.bind(j,function(){h.removeClass("jspActive");n&&clearTimeout(n);n=null;i.unbind(j)})}function aR(){aL();if(bZ){bz.bind("mousedown.jsp",function(i){if(i.originalTarget===g||i.originalTarget==i.currentTarget){var l=d(this),h=l.offset(),j=i.pageY-h.top-bi,n,o=true,k=function(){var u=l.offset(),r=i.pageY-u.top-bx/2,q=aM*b0.scrollPagePercent,p=aY*q/(bQ-aM);if(j<0){if(bi-p>r){ba.scrollByY(-q)}else{a5(r)}}else{if(j>0){if(bi+p<r){ba.scrollByY(q)}else{a5(r)}}else{m();return}}n=setTimeout(k,o?b0.initialDelay:b0.trackClickRepeatFreq);o=false},m=function(){n&&clearTimeout(n);n=null;d(document).unbind("mouseup.jsp",m)};k();d(document).bind("mouseup.jsp",m);return false}})}if(bU){bl.bind("mousedown.jsp",function(i){if(i.originalTarget===g||i.originalTarget==i.currentTarget){var l=d(this),h=l.offset(),j=i.pageX-h.left-bP,n,o=true,k=function(){var u=l.offset(),r=i.pageX-u.left-bs/2,q=bF*b0.scrollPagePercent,p=aX*q/(a7-bF);if(j<0){if(bP-p>r){ba.scrollByX(-q)}else{a4(r)}}else{if(j>0){if(bP+p<r){ba.scrollByX(q)}else{a4(r)}}else{m();return}}n=setTimeout(k,o?b0.initialDelay:b0.trackClickRepeatFreq);o=false},m=function(){n&&clearTimeout(n);n=null;d(document).unbind("mouseup.jsp",m)};k();d(document).bind("mouseup.jsp",m);return false}})}}function aL(){if(bl){bl.unbind("mousedown.jsp")}if(bz){bz.unbind("mousedown.jsp")}}function bm(){d("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(bq){bq.removeClass("jspActive")}if(aZ){aZ.removeClass("jspActive")}}function a5(h,i){if(!bZ){return}if(h<0){h=0}else{if(h>aY){h=aY}}if(i===g){i=b0.animateScroll}if(i){ba.animate(bq,"top",h,bM)}else{bq.css("top",h);bM(h)}}function bM(l){if(l===g){l=bq.position().top}bD.scrollTop(0);bi=l;var i=bi===0,k=bi==aY,j=l/aY,h=-j*(bQ-aM);if(bG!=i||bS!=k){bG=i;bS=k;br.trigger("jsp-arrow-change",[bG,bS,bb,aW])}aN(i,k);a2.css("top",h);br.trigger("jsp-scroll-y",[-h,i,k]).trigger("scroll")}function a4(i,h){if(!bU){return}if(i<0){i=0}else{if(i>aX){i=aX}}if(h===g){h=b0.animateScroll}if(h){ba.animate(aZ,"left",i,bL)}else{aZ.css("left",i);bL(i)}}function bL(l){if(l===g){l=aZ.position().left}bD.scrollTop(0);bP=l;var i=bP===0,j=bP==aX,k=l/aX,h=-k*(a7-bF);if(bb!=i||aW!=j){bb=i;aW=j;br.trigger("jsp-arrow-change",[bG,bS,bb,aW])}aP(i,j);a2.css("left",h);br.trigger("jsp-scroll-x",[-h,i,j]).trigger("scroll")}function aN(i,h){if(b0.showArrows){bw[i?"addClass":"removeClass"]("jspDisabled");bK[h?"addClass":"removeClass"]("jspDisabled")}}function aP(i,h){if(b0.showArrows){bk[i?"addClass":"removeClass"]("jspDisabled");aK[h?"addClass":"removeClass"]("jspDisabled")}}function be(h,j){var i=h/(bQ-aM);a5(i*aY,j)}function bd(j,h){var i=j/(a7-bF);a4(i*aX,h)}function bO(h,m,v){var p,u,r,x=0,i=0,w,n,o,k,l,j;try{p=d(h)}catch(q){return}u=p.outerHeight();r=p.outerWidth();bD.scrollTop(0);bD.scrollLeft(0);while(!p.is(".jspPane")){x+=p.position().top;i+=p.position().left;p=p.offsetParent();if(/^body|html$/i.test(p[0].nodeName)){return}}w=bY();o=w+aM;if(x<w||m){l=x-b0.verticalGutter}else{if(x+u>o){l=x-aM+u+b0.verticalGutter}}if(l){be(l,v)}n=bW();k=n+bF;if(i<n||m){j=i-b0.horizontalGutter}else{if(i+r>k){j=i-bF+r+b0.horizontalGutter}}if(j){bd(j,v)}}function bW(){return -a2.position().left}function bY(){return -a2.position().top}function bg(){var h=bQ-aM;return(h>20)&&(h-bY()<10)}function bv(){var h=a7-bF;return(h>20)&&(h-bW()<10)}function bJ(){bD.unbind(bN).bind(bN,function(j,h,k,m){var l=bP,i=bi;ba.scrollBy(k*b0.mouseWheelSpeed,-m*b0.mouseWheelSpeed,false);return l==bP&&i==bi})}function aT(){bD.unbind(bN)}function bX(){return false}function bh(){a2.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(h){bO(h.target,false)})}function bp(){a2.find(":input,a").unbind("focus.jsp")}function a8(){var h,k,i=[];bU&&i.push(bC[0]);bZ&&i.push(a6[0]);a2.focus(function(){br.focus()});br.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(l){if(l.target!==this&&!(i.length&&d(l.target).closest(i).length)){return}var m=bP,n=bi;switch(l.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:h=l.keyCode;j();break;case 35:be(bQ-aM);h=null;break;case 36:be(0);h=null;break}k=l.keyCode==h&&m!=bP||n!=bi;return !k}).bind("keypress.jsp",function(l){if(l.keyCode==h){j()}return !k});if(b0.hideFocus){br.css("outline","none");if("hideFocus" in bD[0]){br.attr("hideFocus",true)}}else{br.css("outline","");if("hideFocus" in bD[0]){br.attr("hideFocus",false)}}function j(){var l=bP,m=bi;switch(h){case 40:ba.scrollByY(b0.keyboardSpeed,false);break;case 38:ba.scrollByY(-b0.keyboardSpeed,false);break;case 34:case 32:ba.scrollByY(aM*b0.scrollPagePercent,false);break;case 33:ba.scrollByY(-aM*b0.scrollPagePercent,false);break;case 39:ba.scrollByX(b0.keyboardSpeed,false);break;case 37:ba.scrollByX(-b0.keyboardSpeed,false);break}k=l!=bP||m!=bi;return k}}function a9(){br.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function bt(){if(location.hash&&location.hash.length>1){var i,j;try{i=d(location.hash)}catch(h){return}if(i.length&&a2.find(location.hash)){if(bD.scrollTop()===0){j=setInterval(function(){if(bD.scrollTop()>0){bO(location.hash,true);d(document).scrollTop(bD.position().top);clearInterval(j)}},50)}else{bO(location.hash,true);d(document).scrollTop(bD.position().top)}}}}function bH(){d("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function aU(){bH();d("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var h=this.href.split("#"),i;if(h.length>1){i=h[1];if(i.length>0&&a2.find("#"+i).length>0){bO("#"+i,true);return false}}})}function bB(){var l,m,j,k,h,i=false;bD.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(o){var n=o.originalEvent.touches[0];l=bW();m=bY();j=n.pageX;k=n.pageY;h=false;i=true}).bind("touchmove.jsp",function(n){if(!i){return}var o=n.originalEvent.touches[0],p=bP,q=bi;ba.scrollTo(l+j-o.pageX,m+k-o.pageY);h=h||Math.abs(j-o.pageX)>5||Math.abs(k-o.pageY)>5;return p==bP&&q==bi}).bind("touchend.jsp",function(n){i=false}).bind("click.jsp-touchclick",function(n){if(h){h=false;return false}})}function a0(){var h=bY(),i=bW();br.removeClass("jspScrollable").unbind(".jsp");br.replaceWith(bA.append(a2.children()));bA.scrollTop(h);bA.scrollLeft(i)}d.extend(ba,{reinitialise:function(h){h=d.extend({},b0,h);bu(h)},scrollToElement:function(i,j,h){bO(i,j,h)},scrollTo:function(i,h,j){bd(i,j);be(h,j)},scrollToX:function(i,h){bd(i,h)},scrollToY:function(h,i){be(h,i)},scrollToPercentX:function(i,h){bd(i*(a7-bF),h)},scrollToPercentY:function(i,h){be(i*(bQ-aM),h)},scrollBy:function(j,h,i){ba.scrollByX(j,i);ba.scrollByY(h,i)},scrollByX:function(h,j){var k=bW()+h,i=k/(a7-bF);a4(i*aX,j)},scrollByY:function(h,j){var k=bY()+h,i=k/(bQ-aM);a5(i*aY,j)},positionDragX:function(h,i){a4(h,i)},positionDragY:function(i,h){a5(i,h)},animate:function(l,i,h,j){var k={};k[i]=h;l.animate(k,{duration:b0.animateDuration,ease:b0.animateEase,queue:false,step:j})},getContentPositionX:function(){return bW()},getContentPositionY:function(){return bY()},getContentWidth:function(){return a7},getContentHeight:function(){return bQ},getPercentScrolledX:function(){return bW()/(a7-bF)},getPercentScrolledY:function(){return bY()/(bQ-aM)},getIsScrollableH:function(){return bU},getIsScrollableV:function(){return bZ},getContentPane:function(){return a2},scrollToBottom:function(h){a5(aY,h)},hijackInternalLinks:function(){aU()},destroy:function(){a0()}});bu(bc)}a=d.extend({},d.fn.jScrollPane.defaults,a);d.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){a[this]=a[this]||a.speed});var b;this.each(function(){var j=d(this),i=j.data("jsp");if(i){i.reinitialise(a)}else{i=new c(j,a);j.data("jsp",i)}b=b?b.add(j):j});return b};d.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:g,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);
/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.4
 * 
 * Requires: 1.2.2+
 */
(function(c){var a=["DOMMouseScroll","mousewheel"];c.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var d=a.length;d;){this.addEventListener(a[--d],b,false)}}else{this.onmousewheel=b}},teardown:function(){if(this.removeEventListener){for(var d=a.length;d;){this.removeEventListener(a[--d],b,false)}}else{this.onmousewheel=null}}};c.fn.extend({mousewheel:function(d){return d?this.bind("mousewheel",d):this.trigger("mousewheel")},unmousewheel:function(d){return this.unbind("mousewheel",d)}});function b(j){var h=j||window.event,g=[].slice.call(arguments,1),k=0,i=true,f=0,d=0;j=c.event.fix(h);j.type="mousewheel";if(j.wheelDelta){k=j.wheelDelta/120}if(j.detail){k=-j.detail/3}d=k;if(h.axis!==undefined&&h.axis===h.HORIZONTAL_AXIS){d=0;f=-1*k}if(h.wheelDeltaY!==undefined){d=h.wheelDeltaY/120}if(h.wheelDeltaX!==undefined){f=-1*h.wheelDeltaX/120}g.unshift(j,k,f,d);return c.event.handle.apply(this,g)}})(jQuery);(function(c){var b={pos:[-260,-260]},d=3,i=document,h=i.documentElement,f=i.body,a,j;function g(){if(this===b.elem){b.pos=[-260,-260];b.elem=false;d=3}}c.event.special.mwheelIntent={setup:function(){var k=c(this).bind("mousewheel",c.event.special.mwheelIntent.handler);if(this!==i&&this!==h&&this!==f){k.bind("mouseleave",g)}k=null;return true},teardown:function(){c(this).unbind("mousewheel",c.event.special.mwheelIntent.handler).unbind("mouseleave",g);return true},handler:function(k,l){var m=[k.clientX,k.clientY];if(this===b.elem||Math.abs(b.pos[0]-m[0])>d||Math.abs(b.pos[1]-m[1])>d){b.elem=this;b.pos=m;d=250;clearTimeout(j);j=setTimeout(function(){d=10},200);clearTimeout(a);a=setTimeout(function(){d=3},1500);k=c.extend({},k,{type:"mwheelIntent"});return c.event.handle.apply(this,arguments)}}};c.fn.extend({mwheelIntent:function(k){return k?this.bind("mwheelIntent",k):this.trigger("mwheelIntent")},unmwheelIntent:function(k){return this.unbind("mwheelIntent",k)}});c(function(){f=i.body;c(i).bind("mwheelIntent.mwheelIntentDefault",c.noop)})})(jQuery);Class("DynamicMeasures")({sidebarScroll:$(".sidebar-scroller"),mainContent:$(".main-container--inner"),headerSeparation:$(".header-sep"),logoHolder:$("hgroup"),loginForms:$(".create-voice"),search:$(".voice-search"),header:$("header"),fixedFake:$(".fixed-fake"),win:$(window),update:function(){var d=this,b=this.win.height(),a=this.header.outerHeight(true),f=0;var c=function c(){var h=d.logoHolder.outerHeight(true),g=d.loginForms.is(":visible")?d.loginForms.outerHeight(true):0,i=d.search.outerHeight(true);return(b-(h+g+i))};if(this.fixedFake.length){this.fixedFake.each(function(g,j){var h=$(this);f+=h.is(":visible")&&h.height()||0})}this.mainContent.height(b-f);this.sidebarScroll.height(c());this.headerSeparation.css("margin-top",a);return this},setTopFaces:function(){this.headerSeparation.css("margin-top",this.header.height());return this}});Class("Tooltip")({prototype:{init:function(b,a){var c=this;this.options={customClass:""};$.extend(this.options,a);this.element=typeof b=="string"?$(b):b;this.tooltip=this.element.find(".tooltip");this.userWindow=$(window);this._get_tooltip_name();this._hoverTooltip();this._mapClick();this._moderatorClick();this._hide_extra_data();if(this.options.customClass){this.tooltip.addClass(this.options.customClass)}},_get_tooltip_name:function(){this.tooltip_name="";if(this.element.find("a.media-type").attr("title")!==undefined){this.tooltip_name=this.element.find("a.media-type").attr("title").toLowerCase()}},_hoverTooltip:function(){var a=this;this.element.hover(function(b){if(a.windowIsWide()&&!isDevice){if($(this).is(".selected")){a.tooltip.hide()}else{if($(this).is(".addVoice")){$(this).find(".tooltip").show()}}a.show()}},function(){if(a.windowIsWide()){a.detectContent()}});this.element.click(function(b){if(!a.windowIsWide()&&b.target.className==="tags-container"||b.target.className==="tag-tooltip-trigger"){if(!a.tooltip.is(":visible")){a.show();a.element.trigger("tags.show");a._addCancelButton()}else{a.detectContent()}}});this.element.bind("tag.apply",function(){a.detectContent()});this.tooltip.children().children(".media-type-info").mouseleave(function(){if(a.windowIsWide()){a.detectContent()}});this.tooltip.children().children("form").mouseleave(function(){if(a.windowIsWide()){a.detectContent()}})},_addCancelButton:function(){var c=this,b=this.tooltip.find(".mode-button"),a=b.find(".button");cancelButton=a.clone();cancelButton.appendTo(b).addClass("dismiss-tooltip").find("a").text("Cancel").removeAttr("href").end().bind("click",function(){c.detectContent()})},windowIsWide:function(){return this.userWindow.width()>=461},_hide_extra_data:function(){switch(this.tooltip_name){case"image":this.element.find(".with-image").hide();this.element.find(".without-image").show();break;case"link":this.element.find(".without-link").show();this.element.find(".with-link").hide();break}},_show_extra_data:function(){if($("#post_source_url").val()!==""){switch(this.tooltip_name){case"image":this.element.find(".without-image").hide();this.element.find(".with-image").show();break;case"link":this.element.find(".without-link").hide();this.element.find(".with-link").show();break}}},_mapClick:function(){var a=this;this.element.children("a").click(function(){if($(this).is(".map-btn")){a.hide();a.tooltip.children().children().children("strong").text("Hide Voices on the Map")}if($(this).is(".map-active")){a.hide();a.tooltip.children().children().children("strong").text("Show Voices on the Map")}})},_moderatorClick:function(){var a=this;this.element.children().children("a").click(function(){if($(this).parent().parent().is(".mod")){a.tooltip.children().children().children("strong").text("");a.tooltip.children().children().children("p").html("<span>Thank you! The page is refreshing with unmoderated posts!</span>")}})},detectContent:function(){if($.inArray(this.tooltip_name,["image","video","link"])>=0&&$("#post_source_url").val()!=""&&$(".media > a.active").length==1&&!$(".tooltip.notice").is(":visible")){this.tooltip.parent().css("z-index",10)}else{this.hide()}},show:function(){$("a",this.element).addClass("active");if(typeof(Post)!="undefined"){if(Post.isVideo($("#post_source_url").val())&&$("a",this.element).hasClass("active")&&this.tooltip_name=="video"){return false}if((Post.isImage($("#post_source_url").val())||($("#post_source_url").val()!=""))&&$("#post_source_url").val()!=""&&$("a",this.element).hasClass("active")&&this.tooltip_name=="image"){this._show_extra_data()}if(Post.isLink($("#post_source_url").val())&&$("#post_source_url").val()!=""&&$("a",this.element).hasClass("active")&&this.tooltip_name=="link"){this._show_extra_data()}}if(!this.element.is(".selected")){this.tooltip.show()}},hide:function(){this.tooltip.hide();this.tooltip.find(".dismiss-tooltip").remove();if($(".media > a.active").length==1&&$.inArray(this.tooltip_name,["image","video","link"])>=0){this._hide_extra_data();this.tooltip.parent().css("z-index","")}$("a",this.element).removeClass("active")}}});Class("SidebarToggler")({prototype:{init:function(a){this.options={showSidebar:true,showToggler:true,showTooltip:true,togglerHiddenOnLargeView:false};$.extend(this.options,a);this.win=$(window);this.body=$(document.body);this.element=$(".sidebar-wrapper");this.toggler=$(".tab-controller");this.mainContent=$(".main-container");this.mainContentDisableOverlay=$(".main-container--disable-overlay");this.scroller=this.element.find(".sidebar-scroller");this.classStates={opened:"sidebar-state__open"};this._checkOptions();this._bindEvents()},_checkOptions:function(){if(window.isDevice||this.win[0].innerWidth<=768){this.options.showTooltip=false}this.options.showSidebar?this.show():this.hide();if(this.options.showToggler){this.toggler.hide().show()}if(this.options.showTooltip){this.showSidebarTooltip()}if(this.options.togglerHiddenOnLargeView){this.toggler.addClass("hidden-on-large-view")}},_bindEvents:function(){var c=this,a=null;this.toggler.bind("click",function(d){c.toggle()});this.toggler.bind("sidebar:toggle",function(d){c.toggle()});this.toggler.bind("sidebar:hide",function(d){return c.open&&c.hide()});this.mainContent.bind("click",function(d){if(window.innerWidth<=768&&c.open){c.hide();return false}return true});this.element.bind("sidebar.change",function(){c.reinitialiseScroller(true)});if(window.hasTouch()){this.mainContentDisableOverlay[0].addEventListener("touchstart",function b(){return false},true)}this.win.bind("resize",function(){if(a){clearTimeout(a)}a=setTimeout(function(){if(window.isDevice){if(window.innerWidth<=768&&c.open){this.hide()}}c.initializeScroller();clearTimeout(a)},500)}).ready(function(){!isDevice&&c.initializeScroller()});if(transitionEnd!==undefined){this.element.bind(transitionEnd,function(d){if("smartresize" in c.win){c.win.smartresize()}c.element.trigger("sidebar.toggle");return this})}return this},toggle:function(){return this.open?this.hide():this.show()},show:function(){this.body.addClass(this.classStates.opened);this.open=true;this.toggler.removeClass("close-control");this.reinitialiseScroller();if(transitionEnd===undefined){this.element.trigger("sidebar.toggle");if("smartresize" in this.win){this.win.smartresize()}}},hide:function(){this.body.removeClass(this.classStates.opened);this.open=false;this.toggler.addClass("close-control");this.reinitialiseScroller();if(transitionEnd===undefined){this.element.trigger("sidebar.toggle");if("smartresize" in this.win){this.win.smartresize()}}},showSidebarTooltip:function(){var b=this,c=$('<div class="sidebar-tooltip">'),a;c.css("opacity",0).appendTo(this.toggler).text("Click here to see more.").animate({opacity:1},500);a=setTimeout(function(){b.toggler.find(".sidebar-tooltip").animate({opacity:0},300,function(){b.toggler.find(".sidebar-tooltip").remove()})},5000)},initializeScroller:function(){this.scrollerData=this.element.find(".sidebar-scroller").jScrollPane({autoreinitialise:false}).data("jsp")},reinitialiseScroller:function(b){var c=this,a=b?300:0;if(this.reinitialiseTimeout){clearTimeout(this.reinitialiseTimeout)}setTimeout(function(){c.scrollerData&&c.scrollerData.reinitialise()},a)}}});Class("Accordion")({prototype:{init:function(a){this.element=typeof a=="string"?$(a):a;this.sidebarWrapper=$(".sidebar-wrapper");this._bindEvents()},_bindEvents:function(){var a=this;this.element.parent().click(function(){a.toggle($(this).children("span"))})},toggle:function(a){var b=a.parent().next("ul");b.stop(false,true).slideToggle("fast",function(){if(!a.hasClass("down-arrow")){b[0].style.overflow=""}});a.toggleClass("down-arrow");this.sidebarWrapper.trigger("sidebar.change")}}});Class("SlideSection")({_slides:[],_closeAll:function _closeAll(){var a,b;b=this._slides.length;for(a=0;a<b;a++){this._slides[a]._close()}return this},prototype:{element:null,section:null,_firstInput:null,_cancel:null,init:function init(a){this.element=a.element;this.section=a.section;this._firstInput=this.section.find("input").first();this._cancel=this.section.find(".cancel");this.constructor._slides.push(this);this._bindEvents()},_bindEvents:function _bindEvents(){var a=this;this.element.bind("click",function(){a._toggle();return false});this._cancel.bind("click",function(){a._close();return false});return this},_open:function _open(){var a=this;this.constructor._closeAll();this.section.slideDown("slow",function(){a._firstInput.focus()});return this},_close:function _close(){this.section.slideUp("slow");return this},_toggle:function _toggle(){if(this.section.is(":visible")){return this._close()}return this._open()}}});Class("LiveFilter")({prototype:{init:function(b,a){this.input=typeof b=="string"?$(b):b;this.container=typeof a=="string"?$(a):a;this.originalContent=this.container.html();this.itemsContainer=$("<ul />").insertAfter(this.container).hide();this.items=this.container.find("li").clone().appendTo(this.itemsContainer);this.clearBtn=this.input.next(".clear-search");this.sidebarWrapper=$(".sidebar-wrapper");this._bindEvents()},_bindEvents:function(){var a=this;this.input.bind("keyup",function(){a.filter($(this).val());if($(this).val()===""){a.clearBtn.hide()}else{a.clearBtn.show()}});this.input.focusout(function(){a.clearBtn.addClass("invisible")});this.input.focus(function(){if($(this).val()===""){a.clearBtn.hide();a.clearBtn.removeClass("invisible")}else{a.clearBtn.show();a.clearBtn.removeClass("invisible")}});this.clearBtn.click(function(){a.input.focus();a.input.val("");a.filter($(this).val());$(this).hide()})},filter:function(c){var b=this;if(c==""){this.container.html(this.originalContent);new Accordion(".sidebar-scroller__accordion-arrow")}else{var a=$.grep(this.items.clone(),function(f){var d=new RegExp(c,"i");return d.test(b.removeAccents($(f).text()))});$(".sidebar-scroller__accordion-arrow").parent().unbind("click");this.container.html("").append($("<ul/>").append(a))}this.sidebarWrapper.trigger("sidebar.change")},removeAccents:function(c){strArr=c.split("");strOut=new Array();var a="";var b=["A","A","A","A","A","A","a","a","a","a","a","a","O","O","O","O","O","O","O","o","o","o","o","o","o","E","E","E","E","e","e","e","e","e","C","c","D","I","I","I","I","i","i","i","i","U","U","U","U","u","u","u","u","N","n","S","s","Y","y","y","Z","z"];for(var d=0;d<strArr.length;d++){if(a.indexOf(strArr[d])!=-1){strOut[d]=b[a.indexOf(strArr[d])]}else{strOut[d]=strArr[d]}}strOut=strOut.join("");return strOut}}});Class("JsonForm")({prototype:{init:function(a,b){this.element=typeof a=="string"?$(a):a;this.onSuccess=b;this._bindEvents()},_bindEvents:function(){var a=this;this.element.bind("submit",function(){a.submit($(this));return false})},submit:function(form){var that=this;this.clearErrors();$.ajax({url:form.attr("action"),data:form.serialize(),type:"post",dataType:"json",success:function(data){that.handleSuccess(data,form)},error:function(xhr){that.clearErrors();that.handleError(eval("("+xhr.responseText+")"))}})},clearErrors:function(){this.element.find("tr.error").remove();this.element.find(".error").removeClass("error")},handleSuccess:function(b,a){if(this.onSuccess){this.onSuccess(b,a)}},handleError:function(c){var b='<tr class="error"><td></td><td><span>%s</span></td></tr>';for(var a in c){if(c.hasOwnProperty(a)){if(a=="base"){this.element.find("tbody").append(b.replace(/%s/g,c[a]))}else{this.element.find("[data-attribute="+a+"]").addClass("error").closest("tr").after(b.replace(/%s/g,a+" "+c[a][0]))}}}}}});(function(){function ag(b,n,m){if(b===n){return 0!==b||1/b==1/n}if(null==b||null==n){return b===n}b._chain&&(b=b._wrapped);n._chain&&(n=n._wrapped);if(b.isEqual&&at.isFunction(b.isEqual)){return b.isEqual(n)}if(n.isEqual&&at.isFunction(n.isEqual)){return n.isEqual(b)}var l=ao.call(b);if(l!=ao.call(n)){return !1}switch(l){case"[object String]":return b==""+n;case"[object Number]":return b!=+b?n!=+n:0==b?1/b==1/n:b==+n;case"[object Date]":case"[object Boolean]":return +b==+n;case"[object RegExp]":return b.source==n.source&&b.global==n.global&&b.multiline==n.multiline&&b.ignoreCase==n.ignoreCase}if("object"!=typeof b||"object"!=typeof n){return !1}for(var k=m.length;k--;){if(m[k]==b){return !0}}m.push(b);var k=0,j=!0;if("[object Array]"==l){if(k=b.length,j=k==n.length){for(;k--&&(j=k in b==k in n&&ag(b[k],n[k],m));){}}}else{if("constructor" in b!="constructor" in n||b.constructor!=n.constructor){return !1}for(var i in b){if(at.has(b,i)&&(k++,!(j=at.has(n,i)&&ag(b[i],n[i],m)))){break}}if(j){for(i in n){if(at.has(n,i)&&!k--){break}}j=!k}}m.pop();return j}var ad=this,U=ad._,al={},ap=Array.prototype,ak=Object.prototype,ar=ap.slice,R=ap.unshift,ao=ak.toString,h=ak.hasOwnProperty,S=ap.forEach,Q=ap.map,aj=ap.reduce,ai=ap.reduceRight,af=ap.filter,ae=ap.every,ac=ap.some,ah=ap.indexOf,aa=ap.lastIndexOf,ak=Array.isArray,g=Object.keys,ab=Function.prototype.bind,at=function(b){return new an(b)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=at),exports._=at):ad._=at;at.VERSION="1.3.3";var aq=at.each=at.forEach=function(b,l,k){if(b!=null){if(S&&b.forEach===S){b.forEach(l,k)}else{if(b.length===+b.length){for(var j=0,i=b.length;j<i;j++){if(j in b&&l.call(k,b[j],j,b)===al){break}}}else{for(j in b){if(at.has(b,j)&&l.call(k,b[j],j,b)===al){break}}}}}};at.map=at.collect=function(j,l,i){var k=[];if(j==null){return k}if(Q&&j.map===Q){return j.map(l,i)}aq(j,function(b,n,m){k[k.length]=l.call(i,b,n,m)});if(j.length===+j.length){k.length=j.length}return k};at.reduce=at.foldl=at.inject=function(b,l,k,j){var i=arguments.length>2;b==null&&(b=[]);if(aj&&b.reduce===aj){j&&(l=at.bind(l,j));return i?b.reduce(l,k):b.reduce(l)}aq(b,function(n,m,o){if(i){k=l.call(j,k,n,m,o)}else{k=n;i=true}});if(!i){throw new TypeError("Reduce of empty array with no initial value")}return k};at.reduceRight=at.foldr=function(b,m,l,k){var j=arguments.length>2;b==null&&(b=[]);if(ai&&b.reduceRight===ai){k&&(m=at.bind(m,k));return j?b.reduceRight(m,l):b.reduceRight(m)}var i=at.toArray(b).reverse();k&&!j&&(m=at.bind(m,k));return j?at.reduce(i,m,l,k):at.reduce(i,m)};at.find=at.detect=function(j,l,i){var k;Y(j,function(b,n,m){if(l.call(i,b,n,m)){k=b;return true}});return k};at.filter=at.select=function(j,l,i){var k=[];if(j==null){return k}if(af&&j.filter===af){return j.filter(l,i)}aq(j,function(b,n,m){l.call(i,b,n,m)&&(k[k.length]=b)});return k};at.reject=function(j,l,i){var k=[];if(j==null){return k}aq(j,function(b,n,m){l.call(i,b,n,m)||(k[k.length]=b)});return k};at.every=at.all=function(j,l,i){var k=true;if(j==null){return k}if(ae&&j.every===ae){return j.every(l,i)}aq(j,function(b,n,m){if(!(k=k&&l.call(i,b,n,m))){return al}});return !!k};var Y=at.some=at.any=function(b,k,j){k||(k=at.identity);var i=false;if(b==null){return i}if(ac&&b.some===ac){return b.some(k,j)}aq(b,function(m,l,n){if(i||(i=k.call(j,m,l,n))){return al}});return !!i};at.include=at.contains=function(j,k){var i=false;if(j==null){return i}if(ah&&j.indexOf===ah){return j.indexOf(k)!=-1}return i=Y(j,function(b){return b===k})};at.invoke=function(b,j){var i=ar.call(arguments,2);return at.map(b,function(k){return(at.isFunction(j)?j||k:k[j]).apply(k,i)})};at.pluck=function(b,i){return at.map(b,function(j){return j[i]})};at.max=function(b,k,j){if(!k&&at.isArray(b)&&b[0]===+b[0]){return Math.max.apply(Math,b)}if(!k&&at.isEmpty(b)){return -Infinity}var i={computed:-Infinity};aq(b,function(m,l,n){l=k?k.call(j,m,l,n):m;l>=i.computed&&(i={value:m,computed:l})});return i.value};at.min=function(b,k,j){if(!k&&at.isArray(b)&&b[0]===+b[0]){return Math.min.apply(Math,b)}if(!k&&at.isEmpty(b)){return Infinity}var i={computed:Infinity};aq(b,function(m,l,n){l=k?k.call(j,m,l,n):m;l<i.computed&&(i={value:m,computed:l})});return i.value};at.shuffle=function(j){var i=[],k;aq(j,function(b,l){k=Math.floor(Math.random()*(l+1));i[l]=i[k];i[k]=b});return i};at.sortBy=function(b,k,j){var i=at.isFunction(k)?k:function(l){return l[k]};return at.pluck(at.map(b,function(m,l,n){return{value:m,criteria:i.call(j,m,l,n)}}).sort(function(m,l){var o=m.criteria,n=l.criteria;return o===void 0?1:n===void 0?-1:o<n?-1:o>n?1:0}),"value")};at.groupBy=function(b,k){var j={},i=at.isFunction(k)?k:function(l){return l[k]};aq(b,function(m,l){var n=i(m,l);(j[n]||(j[n]=[])).push(m)});return j};at.sortedIndex=function(b,m,l){l||(l=at.identity);for(var k=0,j=b.length;k<j;){var i=k+j>>1;l(b[i])<l(m)?k=i+1:j=i}return k};at.toArray=function(b){return !b?[]:at.isArray(b)||at.isArguments(b)?ar.call(b):b.toArray&&at.isFunction(b.toArray)?b.toArray():at.values(b)};at.size=function(b){return at.isArray(b)?b.length:at.keys(b).length};at.first=at.head=at.take=function(j,i,k){return i!=null&&!k?ar.call(j,0,i):j[0]};at.initial=function(j,i,k){return ar.call(j,0,j.length-(i==null||k?1:i))};at.last=function(j,i,k){return i!=null&&!k?ar.call(j,Math.max(j.length-i,0)):j[j.length-1]};at.rest=at.tail=function(j,i,k){return ar.call(j,i==null||k?1:i)};at.compact=function(b){return at.filter(b,function(i){return !!i})};at.flatten=function(b,i){return at.reduce(b,function(j,k){if(at.isArray(k)){return j.concat(i?k:at.flatten(k))}j[j.length]=k;return j},[])};at.without=function(b){return at.difference(b,ar.call(arguments,1))};at.uniq=at.unique=function(b,k,j){var j=j?at.map(b,j):b,i=[];b.length<3&&(k=true);at.reduce(j,function(n,m,l){if(k?at.last(n)!==m||!n.length:!at.include(n,m)){n.push(m);i.push(b[l])}return n},[]);return i};at.union=function(){return at.uniq(at.flatten(arguments,true))};at.intersection=at.intersect=function(b){var i=ar.call(arguments,1);return at.filter(at.uniq(b),function(j){return at.every(i,function(k){return at.indexOf(k,j)>=0})})};at.difference=function(b){var i=at.flatten(ar.call(arguments,1),true);return at.filter(b,function(j){return !at.include(i,j)})};at.zip=function(){for(var b=ar.call(arguments),k=at.max(at.pluck(b,"length")),j=Array(k),i=0;i<k;i++){j[i]=at.pluck(b,""+i)}return j};at.indexOf=function(b,k,j){if(b==null){return -1}var i;if(j){j=at.sortedIndex(b,k);return b[j]===k?j:-1}if(ah&&b.indexOf===ah){return b.indexOf(k)}j=0;for(i=b.length;j<i;j++){if(j in b&&b[j]===k){return j}}return -1};at.lastIndexOf=function(j,i){if(j==null){return -1}if(aa&&j.lastIndexOf===aa){return j.lastIndexOf(i)}for(var k=j.length;k--;){if(k in j&&j[k]===i){return k}}return -1};at.range=function(j,i,n){if(arguments.length<=1){i=j||0;j=0}for(var n=arguments[2]||1,m=Math.max(Math.ceil((i-j)/n),0),l=0,k=Array(m);l<m;){k[l++]=j;j=j+n}return k};var W=function(){};at.bind=function(b,k){var j,i;if(b.bind===ab&&ab){return ab.apply(b,ar.call(arguments,1))}if(!at.isFunction(b)){throw new TypeError}i=ar.call(arguments,2);return j=function(){if(!(this instanceof j)){return b.apply(k,i.concat(ar.call(arguments)))}W.prototype=b.prototype;var l=new W,m=b.apply(l,i.concat(ar.call(arguments)));return Object(m)===m?m:l}};at.bindAll=function(b){var i=ar.call(arguments,1);i.length==0&&(i=at.functions(b));aq(i,function(j){b[j]=at.bind(b[j],b)});return b};at.memoize=function(b,j){var i={};j||(j=at.identity);return function(){var k=j.apply(this,arguments);return at.has(i,k)?i[k]:i[k]=b.apply(this,arguments)}};at.delay=function(j,i){var k=ar.call(arguments,2);return setTimeout(function(){return j.apply(null,k)},i)};at.defer=function(b){return at.delay.apply(at,[b,1].concat(ar.call(arguments,1)))};at.throttle=function(r,q){var p,o,n,m,l,k,b=at.debounce(function(){l=m=false},q);return function(){p=this;o=arguments;n||(n=setTimeout(function(){n=null;l&&r.apply(p,o);b()},q));m?l=true:k=r.apply(p,o);b();m=true;return k}};at.debounce=function(j,i,l){var k;return function(){var m=this,b=arguments;l&&!k&&j.apply(m,b);clearTimeout(k);k=setTimeout(function(){k=null;l||j.apply(m,b)},i)}};at.once=function(j){var i=false,k;return function(){if(i){return k}i=true;return k=j.apply(this,arguments)}};at.wrap=function(j,i){return function(){var b=[j].concat(ar.call(arguments,0));return i.apply(this,b)}};at.compose=function(){var b=arguments;return function(){for(var i=arguments,j=b.length-1;j>=0;j--){i=[b[j].apply(this,i)]}return i[0]}};at.after=function(j,i){return j<=0?i():function(){if(--j<1){return i.apply(this,arguments)}}};at.keys=g||function(b){if(b!==Object(b)){throw new TypeError("Invalid object")}var j=[],i;for(i in b){at.has(b,i)&&(j[j.length]=i)}return j};at.values=function(b){return at.map(b,at.identity)};at.functions=at.methods=function(b){var j=[],i;for(i in b){at.isFunction(b[i])&&j.push(i)}return j.sort()};at.extend=function(b){aq(ar.call(arguments,1),function(i){for(var j in i){b[j]=i[j]}});return b};at.pick=function(b){var i={};aq(at.flatten(ar.call(arguments,1)),function(j){j in b&&(i[j]=b[j])});return i};at.defaults=function(b){aq(ar.call(arguments,1),function(i){for(var j in i){b[j]==null&&(b[j]=i[j])}});return b};at.clone=function(b){return !at.isObject(b)?b:at.isArray(b)?b.slice():at.extend({},b)};at.tap=function(j,i){i(j);return j};at.isEqual=function(j,i){return ag(j,i,[])};at.isEmpty=function(b){if(b==null){return true}if(at.isArray(b)||at.isString(b)){return b.length===0}for(var i in b){if(at.has(b,i)){return false}}return true};at.isElement=function(b){return !!(b&&b.nodeType==1)};at.isArray=ak||function(b){return ao.call(b)=="[object Array]"};at.isObject=function(b){return b===Object(b)};at.isArguments=function(b){return ao.call(b)=="[object Arguments]"};at.isArguments(arguments)||(at.isArguments=function(b){return !(!b||!at.has(b,"callee"))});at.isFunction=function(b){return ao.call(b)=="[object Function]"};at.isString=function(b){return ao.call(b)=="[object String]"};at.isNumber=function(b){return ao.call(b)=="[object Number]"};at.isFinite=function(b){return at.isNumber(b)&&isFinite(b)};at.isNaN=function(b){return b!==b};at.isBoolean=function(b){return b===true||b===false||ao.call(b)=="[object Boolean]"};at.isDate=function(b){return ao.call(b)=="[object Date]"};at.isRegExp=function(b){return ao.call(b)=="[object RegExp]"};at.isNull=function(b){return b===null};at.isUndefined=function(b){return b===void 0};at.has=function(j,i){return h.call(j,i)};at.noConflict=function(){ad._=U;return this};at.identity=function(b){return b};at.times=function(j,i,l){for(var k=0;k<j;k++){i.call(l,k)}};at.escape=function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};at.result=function(b,j){if(b==null){return null}var i=b[j];return at.isFunction(i)?i.call(b):i};at.mixin=function(b){aq(at.functions(b),function(i){f(i,at[i]=b[i])})};var d=0;at.uniqueId=function(j){var i=d++;return j?j+i:i};at.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Z=/.^/,am={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},X;for(X in am){am[am[X]]=X}var c=/\\|'|\r|\n|\t|\u2028|\u2029/g,a=/\\(\\|'|r|n|t|u2028|u2029)/g,V=function(b){return b.replace(a,function(j,i){return am[i]})};at.template=function(b,k,j){j=at.defaults(j||{},at.templateSettings);b="__p+='"+b.replace(c,function(l){return"\\"+am[l]}).replace(j.escape||Z,function(m,l){return"'+\n_.escape("+V(l)+")+\n'"}).replace(j.interpolate||Z,function(m,l){return"'+\n("+V(l)+")+\n'"}).replace(j.evaluate||Z,function(m,l){return"';\n"+V(l)+"\n;__p+='"})+"';\n";j.variable||(b="with(obj||{}){\n"+b+"}\n");var b="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+b+"return __p;\n",i=new Function(j.variable||"obj","_",b);if(k){return i(k,at)}k=function(l){return i.call(this,l,at)};k.source="function("+(j.variable||"obj")+"){\n"+b+"}";return k};at.chain=function(b){return at(b).chain()};var an=function(b){this._wrapped=b};at.prototype=an.prototype;var T=function(b,i){return i?at(b).chain():b},f=function(b,i){an.prototype[b]=function(){var j=ar.call(arguments);R.call(j,this._wrapped);return T(i.apply(at,j),this._chain)}};at.mixin(at);aq("pop,push,reverse,shift,sort,splice,unshift".split(","),function(j){var i=ap[j];an.prototype[j]=function(){var k=this._wrapped;i.apply(k,arguments);var b=k.length;(j=="shift"||j=="splice")&&b===0&&delete k[0];return T(k,this._chain)}});aq(["concat","join","slice"],function(j){var i=ap[j];an.prototype[j]=function(){return T(i.apply(this._wrapped,arguments),this._chain)}});an.prototype.chain=function(){this._chain=true;return this};an.prototype.value=function(){return this._wrapped}}).call(this);_.templateSettings={evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g};Class("InfoChart")({prototype:{init:function(d,g,f){var a,c,b,h=this;this.el=d;this.data=g;$(this.el).addClass("high-chart");a=10;this.sidebar=f;switch(this.data.layout){case"chart-top":c={w:220,h:100};break;case"chart-bottom":c={w:220,h:100};break}if(this.data.type==="chart-radial"){a=0;switch(this.data.layout){case"chart-top":c={w:140,h:140};break;case"chart-bottom":c={w:140,h:140};break;case"chart-left":c={w:90,h:90};break}}if(this.data.type==="chart-hbars"){c={w:220,h:30+(this.data.chartData.values[0].data.length*17)}}if(f){switch(this.data.layout){case"chart-top":c={w:80,h:50};break;case"chart-bottom":c={w:80,h:50};break}if(this.data.type==="chart-radial"){a=0;switch(this.data.layout){case"chart-top":c={w:50,h:50};break;case"chart-bottom":c={w:50,h:50};break;case"chart-left":c={w:50,h:50};break}}if(this.data.type==="chart-hbars"){c={w:80,h:30+(this.data.chartData.values[0].data.length*9)}}}b=c.w-10;this.chartsConfig={chart:{renderTo:this.el,backgroundColor:"rgba(255, 255, 255, 0.0)",borderColor:"rgba(255, 255, 255, 0.0)",borderWidth:0,shadow:false,spacingLeft:a,spacingTop:a,spacingRight:a,spacingBottom:a,width:c.w,height:c.h,events:{load:function(i){if($(".info-sidebar").length){$(".info-sidebar").data("neon").reportLoad("chart")}if($(".infobox-wall-container").length){return $(".infobox-wall-container").data("neon").reportLoad("chart")}}},style:{overflow:"visible"}},tooltip:{enabled:!f,backgroundColor:"rgba(0,0,0, 0.9)",shadow:false,borderRadius:1,borderWidth:0,positioner:function(i,j,k){var l;l={x:k.plotX,y:k.plotY};if(l.x+i>c.w){l.x=l.x-((l.x+i+5)-c.w)}if(l.y+j>c.h){l.y=l.y-((l.y+j+5)-c.h)}return l},style:{width:b,whiteSpace:"normal"}},plotOptions:{series:{states:{hover:{enabled:!f}},marker:{enabled:false,lineColor:"rgba(0,0,0, 0.9)",states:{hover:{enabled:true}}}}},credits:{enabled:false},title:{text:null},subtitle:{text:null},legend:{enabled:false}};switch(g.type){case"chart-radial":this.buildRadial();break;case"chart-area":this.buildArea();break;case"chart-hbars":this.buildHBars();break}return this.chartInstance},buildRadial:function(){var a,d,b,c;c=this;a={plotOptions:{pie:{size:"100%",borderWidth:0,dataLabels:{enabled:false},shadow:false,animation:false}},tooltip:{formatter:function(){var f;return f='<span style="color: #939393">'+this.key+': </span><span style="color: #B7B7B7">'+this.y+"</span>"}}};d={colors:this.data.chartData.colors,series:[{type:"pie",legend:{enabled:false},data:this.data.chartData.values[0].data,innerSize:"65%"}]};b=$.extend(true,this.chartsConfig,a,d);return this.chartInstance=new Highcharts.Chart(b)},buildArea:function(){var d,c,a,b;b=this;d={chart:{type:"area",spacingLeft:0},plotOptions:{area:{size:"100%",fillOpacity:0.6,lineWidth:0,dataLabels:{enabled:false},shadow:false,animation:false,cropThreshold:0}},yAxis:{title:null,gridLineWidth:0,offset:0},xAxis:{enabled:true,minPadding:0,maxPadding:0,title:null,labels:{formatter:function(){return String.fromCharCode(this.value+65)}},lineWidth:0,tickColor:"rgba(255, 255, 255, 0.0)",min:0,max:this.data.chartData.xAxis.length-1,tickInterval:1},tooltip:{formatter:function(){var f;return f='<span style="color: #939393">'+b.data.chartData.xAxis[this.x]+': </span><span style="color: #B7B7B7">'+this.y+"</span>"},shared:false}};if(this.data.chartData.yAxis.max!=null){$.extend(true,d,{yAxis:{min:0,max:this.data.chartData.yAxis.max}})}if(this.sidebar){$.extend(true,d,{yAxis:{labels:{enabled:false}},xAxis:{labels:{enabled:false}}})}c={colors:this.data.chartData.colors,series:this.data.chartData.values};a=$.extend(true,this.chartsConfig,d,c);return this.chartInstance=new Highcharts.Chart(a)},buildHBars:function(){var c,b,a;c={chart:{type:"bar"},plotOptions:{bar:{size:"100%",borderWidth:0,borderRadius:7,groupPadding:0.09,pointPadding:0,dataLabels:{enabled:false},shadow:false,animation:false,colorByPoint:true}},yAxis:{title:null,gridLineWidth:0,labels:{x:5,align:"right"}},xAxis:{title:null,labels:{enabled:false},lineWidth:0,tickColor:"rgba(255, 255, 255, 0.0)"},tooltip:{formatter:function(){var d;return d='<span style="color: #939393">'+this.key+': <span style="color: #B7B7B7">'+this.y+"</span></span>"}}};if(this.data.chartData.yAxis.max!=null){$.extend(true,c,{yAxis:{min:0,max:this.data.chartData.yAxis.max}})}if(this.sidebar){$.extend(true,c,{yAxis:{labels:{enabled:false}},xAxis:{labels:{enabled:false}},plotOptions:{bar:{borderRadius:5}}})}b={colors:this.data.chartData.colors,series:this.data.chartData.values};a=$.extend(true,this.chartsConfig,c,b);return this.chartInstance=new Highcharts.Chart(a)}}});(function(){Class("InfoBox")({prototype:{init:function(c,a,b){this.sidebarChart=b;this.infoboxData=c;return this.infoboxTemplate=$(a).html()},render:function(){this.infobox=$(_.template(this.infoboxTemplate,{data:this.infoboxData}));if(this.infoboxData.type.indexOf("chart-")!==-1){this.infobox.find(".graphic").addClass(this.infoboxData.type);new InfoChart(this.infobox.find(".graphic.large")[0],this.infoboxData).chartInstance;if(this.sidebarChart){new InfoChart(this.infobox.find(".graphic.small")[0],this.infoboxData,this.sidebarChart).chartInstance}}if(this.infoboxData.number!=null){if(this.infoboxData.number.length>9){this.infobox.find(".graphic-number").addClass("smaller-number")}}return this.infobox}}})}).call(this);Class("InfoTagsTooltip")({prototype:{init:function(f){var d,a,j,g,c,b,h;this.element=typeof f==="string"?$(f):f;this.element.data("neon",this);this.voiceTags=this.element.find(".voice-tags");this.tagToolTip=this.element.find(".tooltip");this.applyButton=this.element.find(".filter-apply-button");this.tagCheckBoxTemplate='<li><label for="{{id}}"><input type="checkbox" data-tag="{{tag}}" id="{{id}}"> {{tag}} </label></li>';this.cleanTagUrl=this.applyButton.attr("href");this.initUrlParams=urlTags;for(d=j=0,c=infoboxTags.length;j<c;d=++j){a=infoboxTags[d];this.voiceTags.append(this.createTagCheckbox(a,d))}this.tagToolTip.hide();new Tooltip(this.element,{customClass:"info-tags__tooltip"});h=this.initUrlParams;for(d=g=0,b=h.length;g<b;d=++g){a=h[d];$('input:checkbox[data-tag="'+a+'"]').prop("checked",true)}this.addParamsToButton(urlTags.join(","));return this.bindEvents()},bindEvents:function(){var a=this;if(isDevice){this.applyButton.bind("click",function(){a.element.trigger("tag.apply");$(".updating-wrapper").show()})}this.voiceTags.find("input:checkbox").click(function(){return a.buildURL()})},createTagCheckbox:function(a,b){return _.template(this.tagCheckBoxTemplate,{tag:a,id:b})},buildURL:function(){var a,b=this;a=[];this.voiceTags.find("input:checked").each(function(c,d){return a.push($(d).attr("data-tag"))});return this.addParamsToButton(a.join(","))},addParamsToButton:function(a){if(a===""){return this.applyButton.attr("href",this.cleanTagUrl.replace("?tags=","?all=true"))}else{return this.applyButton.attr("href",this.cleanTagUrl+a)}}}});(function(k,f,c){function i(q){return q.charAt(0).toUpperCase()+q.slice(1)}var g="Moz Webkit Khtml O Ms".split(" ");function d(v){var u=document.documentElement.style,r;if(typeof u[v]==="string"){return v}v=i(v);for(var s=0,q=g.length;s<q;s++){r=g[s]+v;if(typeof u[r]==="string"){return r}}}var n=d("transform");
/*!
   * Modernizr v1.6ish: miniModernizr for Isotope
   * http://www.modernizr.com
   *
   * Developed by: 
   * - Faruk Ates  http://farukat.es/
   * - Paul Irish  http://paulirish.com/
   *
   * Copyright (c) 2009-2010
   * Dual-licensed under the BSD or MIT licenses.
   * http://www.modernizr.com/license/
   */
;var b={csstransforms:function(){return !!n},csstransforms3d:function(){var v=!!d("perspective");if(v){var r=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),u="@media ("+r.join("transform-3d),(")+"modernizr)",s=f("<style>"+u+"{#modernizr{height:3px}}</style>").appendTo("head"),q=f('<div id="modernizr" />').appendTo("html");v=q.height()===3;q.remove();s.remove()}return v},csstransitions:function(){return !!d("transitionProperty")}};if(k.Modernizr){for(var j in b){if(!Modernizr.hasOwnProperty(j)){Modernizr.addTest(j,b[j])}}}else{k.Modernizr=(function(){var u={_version:"1.6ish: miniModernizr for Isotope"},s=" ",r,q;for(q in b){r=b[q]();u[q]=r;s+=" "+(r?"":"no-")+q}f("html").addClass(s);return u})()}if(f.browser.mozilla||f.browser.msie?false:Modernizr.csstransforms){var h=Modernizr.csstransforms3d?{translate:function(q){return"translate3d("+q[0]+"px, "+q[1]+"px, 0) "},scale:function(q){return"scale3d("+q+", "+q+", 1) "}}:{translate:function(q){return"translate("+q[0]+"px, "+q[1]+"px) "},scale:function(q){return"scale("+q+") "}};var m=function(u,r,z){var x=f.data(u,"isoTransform")||{},B={},s,v={},y;B[r]=z;f.extend(x,B);for(s in x){y=x[s];v[s]=h[s](y)}var w=v.translate||"",A=v.scale||"",q=w+A;f.data(u,"isoTransform",x);u.style[n]=q};f.cssNumber.scale=true;f.cssHooks.scale={set:function(q,r){m(q,"scale",r)},get:function(s,r){var q=f.data(s,"isoTransform");return q&&q.scale?q.scale:1}};f.fx.step.scale=function(q){f.cssHooks.scale.set(q.elem,q.now+q.unit)};f.cssNumber.translate=true;f.cssHooks.translate={set:function(q,r){m(q,"translate",r)},get:function(s,r){var q=f.data(s,"isoTransform");return q&&q.translate?q.translate:[0,0]}}}var a=f.event,p;a.special.smartresize={setup:function(){f(this).bind("resize",a.special.smartresize.handler)},teardown:function(){f(this).unbind("resize",a.special.smartresize.handler)},handler:function(u,q){var s=this,r=arguments;u.type="smartresize";if(p){clearTimeout(p)}p=setTimeout(function(){jQuery.event.handle.apply(s,r)},q==="execAsap"?0:100)}};f.fn.smartresize=function(q){return q?this.bind("smartresize",q):this.trigger("smartresize",["execAsap"])};f.Isotope=function(q,r){this.element=f(r);this._create(q);q=q||{};this._init(q.callback)};var l=["overflow","position","width","height"];f.Isotope.settings={resizable:true,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:Modernizr.csstransforms&&!f.browser.opera?{opacity:0,scale:0.001}:{opacity:0},visibleStyle:Modernizr.csstransforms&&!f.browser.opera?{opacity:1,scale:1}:{opacity:1},animationEngine:f.browser.opera?"jquery":"best-available",animationOptions:{queue:false,duration:800},sortBy:"original-order",sortAscending:true,resizesContainer:true,transformsEnabled:true,itemPositionDataEnabled:false};f.Isotope.prototype={_create:function(w){this.options=f.extend(true,{},f.Isotope.settings,w);this.styleQueue=[];this.elemCount=0;var u=this.element[0].style;this.originalStyle={};for(var x=0,r=l.length;x<r;x++){var y=l[x];this.originalStyle[y]=u[y]||null}this.element.css({overflow:"hidden",position:"relative"});this._updateAnimationEngine();this._updateUsingTransforms();var v={"original-order":function(A,z){return z.elemCount},random:function(){return Math.random()}};this.options.getSortData=f.extend(this.options.getSortData,v);this.reloadItems();var s=f(document.createElement("div")).prependTo(this.element);this.offset=s.position();s.remove();var q=this;setTimeout(function(){q.element.addClass(q.options.containerClass)},0);if(this.options.resizable){f(k).bind("smartresize.isotope",function(){q.resize()})}},_getAtoms:function(u){var q=this.options.itemSelector,s=q?u.filter(q).add(u.find(q)):u,r={position:"absolute"};if(this.usingTransforms){r.left=0;r.top=0}s.css(r).addClass(this.options.itemClass);this.updateSortData(s,true);return s},_init:function(q){this.$filteredAtoms=this._filter(this.$allAtoms);this._sort();this.reLayout(q)},option:function(s){if(f.isPlainObject(s)){this.options=f.extend(true,this.options,s);var q;for(var r in s){q="_update"+i(r);if(this[q]){this[q]()}}}},_updateAnimationEngine:function(){var q=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");switch(q){case"css":case"none":this.isUsingJQueryAnimation=false;break;case"jquery":this.isUsingJQueryAnimation=true;break;default:this.isUsingJQueryAnimation=!Modernizr.csstransitions}this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){this.usingTransforms=this.options.transformsEnabled&&Modernizr.csstransforms&&Modernizr.csstransitions&&!this.isUsingJQueryAnimation;this.getPositionStyles=this.usingTransforms?this._translate:this._positionAbs},_filter:function(x){var s=this.options.filter===""?"*":this.options.filter;if(!s){return x}var w=this.options.hiddenClass,r="."+w,v=x.filter(r),q=v;if(s!=="*"){q=v.filter(s);var u=x.not(r).not(s).addClass(w);this.styleQueue.push({$el:u,style:this.options.hiddenStyle})}this.styleQueue.push({$el:q,style:this.options.visibleStyle});q.removeClass(w);return x.filter(s)},updateSortData:function(w,s){var r=this,u=this.options.getSortData,v,q;w.each(function(){v=f(this);q={};for(var x in u){q[x]=u[x](v,r)}f.data(this,"isotope-sort-data",q);if(s){r.elemCount++}})},_sort:function(){var u=this.options.sortBy,s=this._getSorter,q=this.options.sortAscending?1:-1,r=function(y,x){var w=s(y,u),v=s(x,u);if(w===v&&u!=="original-order"){w=s(y,"original-order");v=s(x,"original-order")}return((w>v)?1:(w<v)?-1:0)*q};this.$filteredAtoms.sort(r)},_getSorter:function(q,r){return f.data(q,"isotope-sort-data")[r]},_translate:function(q,r){return{translate:[q,r]}},_positionAbs:function(q,r){return{left:q,top:r}},_pushPosition:function(s,r,u){r+=this.offset.left;u+=this.offset.top;var q=this.getPositionStyles(r,u);this.styleQueue.push({$el:s,style:q});if(this.options.itemPositionDataEnabled){s.data("isotope-item-position",{x:r,y:u})}},layout:function(u,s){var r=this.options.layoutMode;this["_"+r+"Layout"](u);if(this.options.resizesContainer){var q=this["_"+r+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:q})}this._processStyleQueue();if(s){s.call(u)}this.isLaidOut=true},_processStyleQueue:function(){var u=!this.isLaidOut?"css":(this.isUsingJQueryAnimation?"animate":"css"),r=this.options.animationOptions,s=this._isInserting&&this.isUsingJQueryAnimation,q;f.each(this.styleQueue,function(v,w){q=s&&w.$el.hasClass("no-transition")?"css":u;w.$el[q](w.style,r)});this.styleQueue=[]},resize:function(){if(this["_"+this.options.layoutMode+"ResizeChanged"]()){this.reLayout()}},reLayout:function(q){this["_"+this.options.layoutMode+"Reset"]();this.layout(this.$filteredAtoms,q)},addItems:function(r,s){var q=this._getAtoms(r);this.$allAtoms=this.$allAtoms.add(q);if(s){s(q)}},insert:function(r,s){this.element.append(r);var q=this;this.addItems(r,function(u){var v=q._filter(u,true);q._addHideAppended(v);q._sort();q.reLayout();q._revealAppended(v,s)})},appended:function(r,s){var q=this;this.addItems(r,function(u){q._addHideAppended(u);q.layout(u);q._revealAppended(u,s)})},_addHideAppended:function(q){this.$filteredAtoms=this.$filteredAtoms.add(q);q.addClass("no-transition");this._isInserting=true;this.styleQueue.push({$el:q,style:this.options.hiddenStyle})},_revealAppended:function(r,s){var q=this;setTimeout(function(){r.removeClass("no-transition");q.styleQueue.push({$el:r,style:q.options.visibleStyle});q._processStyleQueue();delete q._isInserting;if(s){s(r)}},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(q){this.$allAtoms=this.$allAtoms.not(q);this.$filteredAtoms=this.$filteredAtoms.not(q);q.remove()},shuffle:function(){this.updateSortData(this.$allAtoms);this.options.sortBy="random";this._sort();this.reLayout()},destroy:function(){var u=this.usingTransforms;this.$allAtoms.removeClass(this.options.hiddenClass+" "+this.options.itemClass).each(function(){this.style.position=null;this.style.top=null;this.style.left=null;this.style.opacity=null;if(u){this.style[n]=null}});var r=this.element[0].style;for(var s=0,q=l.length;s<q;s++){var v=l[s];r[v]=this.originalStyle[v]}this.element.unbind(".isotope").removeClass(this.options.containerClass).removeData("isotope");f(k).unbind(".isotope")},_getSegments:function(x){var u=this.options.layoutMode,s=x?"rowHeight":"columnWidth",r=x?"height":"width",w=x?"rows":"cols",y=this.element[r](),q,v=this.options[u]&&this.options[u][s]||this.$filteredAtoms["outer"+i(r)](true)||y;q=Math.floor(y/v);q=Math.max(q,1);this[u][w]=q;this[u][s]=v},_checkIfSegmentsChanged:function(u){var r=this.options.layoutMode,s=u?"rows":"cols",q=this[r][s];this._getSegments(u);return(this[r][s]!==q)},_masonryReset:function(){this.masonry={};this._getSegments();var q=this.masonry.cols;this.masonry.colYs=[];while(q--){this.masonry.colYs.push(0)}},_masonryLayout:function(s){var q=this,r=q.masonry;s.each(function(){var y=f(this),w=Math.ceil(y.outerWidth(true)/r.columnWidth);w=Math.min(w,r.cols);if(w===1){q._masonryPlaceBrick(y,r.colYs)}else{var z=r.cols+1-w,v=[],x,u;for(u=0;u<z;u++){x=r.colYs.slice(u,u+w);v[u]=Math.max.apply(Math,x)}q._masonryPlaceBrick(y,v)}})},_masonryPlaceBrick:function(u,A){var q=Math.min.apply(Math,A),C=0;for(var s=0,v=A.length;s<v;s++){if(A[s]===q){C=s;break}}var B=this.masonry.columnWidth*C,z=q;this._pushPosition(u,B,z);var w=q+u.outerHeight(true),r=this.masonry.cols+1-v;for(s=0;s<r;s++){this.masonry.colYs[C+s]=w}},_masonryGetContainerSize:function(){var q=Math.max.apply(Math,this.masonry.colYs);return{height:q}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(u){var q=this,s=this.element.width(),r=this.fitRows;u.each(function(){var x=f(this),w=x.outerWidth(true),v=x.outerHeight(true);if(r.x!==0&&w+r.x>s){r.x=0;r.y=r.height}q._pushPosition(x,r.x,r.y);r.height=Math.max(r.y+v,r.height);r.x+=w})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return true},_cellsByRowReset:function(){this.cellsByRow={index:0};this._getSegments();this._getSegments(true)},_cellsByRowLayout:function(s){var q=this,r=this.cellsByRow;s.each(function(){var w=f(this),v=r.index%r.cols,z=~~(r.index/r.cols),u=(v+0.5)*r.columnWidth-w.outerWidth(true)/2,A=(z+0.5)*r.rowHeight-w.outerHeight(true)/2;q._pushPosition(w,u,A);r.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(r){var q=this;r.each(function(s){var u=f(this);q._pushPosition(u,0,q.straightDown.y);q.straightDown.y+=u.outerHeight(true)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return true},_masonryHorizontalReset:function(){this.masonryHorizontal={};this._getSegments(true);var q=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(q--){this.masonryHorizontal.rowXs.push(0)}},_masonryHorizontalLayout:function(s){var q=this,r=q.masonryHorizontal;s.each(function(){var y=f(this),w=Math.ceil(y.outerHeight(true)/r.rowHeight);w=Math.min(w,r.rows);if(w===1){q._masonryHorizontalPlaceBrick(y,r.rowXs)}else{var z=r.rows+1-w,v=[],x,u;for(u=0;u<z;u++){x=r.rowXs.slice(u,u+w);v[u]=Math.max.apply(Math,x)}q._masonryHorizontalPlaceBrick(y,v)}})},_masonryHorizontalPlaceBrick:function(u,B){var q=Math.min.apply(Math,B),z=0;for(var s=0,v=B.length;s<v;s++){if(B[s]===q){z=s;break}}var C=q,A=this.masonryHorizontal.rowHeight*z;this._pushPosition(u,C,A);var w=q+u.outerWidth(true),r=this.masonryHorizontal.rows+1-v;for(s=0;s<r;s++){this.masonryHorizontal.rowXs[z+s]=w}},_masonryHorizontalGetContainerSize:function(){var q=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:q}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(true)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(u){var q=this,s=this.element.height(),r=this.fitColumns;u.each(function(){var x=f(this),w=x.outerWidth(true),v=x.outerHeight(true);if(r.y!==0&&v+r.y>s){r.x=r.width;r.y=0}q._pushPosition(x,r.x,r.y);r.width=Math.max(r.x+w,r.width);r.y+=v})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return true},_cellsByColumnReset:function(){this.cellsByColumn={index:0};this._getSegments();this._getSegments(true)},_cellsByColumnLayout:function(s){var q=this,r=this.cellsByColumn;s.each(function(){var w=f(this),v=~~(r.index/r.rows),z=r.index%r.rows,u=(v+0.5)*r.columnWidth-w.outerWidth(true)/2,A=(z+0.5)*r.rowHeight-w.outerHeight(true)/2;q._pushPosition(w,u,A);r.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(true)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(r){var q=this;r.each(function(s){var u=f(this);q._pushPosition(u,q.straightAcross.x,0);q.straightAcross.x+=u.outerWidth(true)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return true}};f.fn.imagesLoaded=function(u){var r=this.find("img"),q=r.length,s=this;if(!r.length){u.call(this)}r.bind("load",function(){if(--q<=0){u.call(s)}}).each(function(){if(this.complete||this.complete===c){var v=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";this.src=v}});return this};var o=function(q){if(this.console){console.error(q)}};f.fn.isotope=function(r){if(typeof r==="string"){var q=Array.prototype.slice.call(arguments,1);this.each(function(){var s=f.data(this,"isotope");if(!s){o("cannot call methods on isotope prior to initialization; attempted to call method '"+r+"'");return}if(!f.isFunction(s[r])||r.charAt(0)==="_"){o("no such method '"+r+"' for isotope instance");return}s[r].apply(s,q)})}else{this.each(function(){var s=f.data(this,"isotope");if(s){s.option(r);s._init(r.callback)}else{f.data(this,"isotope",new f.Isotope(r,this))}})}return this}})(window,jQuery);(function(b){window.embedlyURLre=/((http:\/\/(.*yfrog\..*\/.*|www\.flickr\.com\/photos\/.*|flic\.kr\/.*|twitpic\.com\/.*|www\.twitpic\.com\/.*|twitpic\.com\/photos\/.*|www\.twitpic\.com\/photos\/.*|.*imgur\.com\/.*|.*\.posterous\.com\/.*|post\.ly\/.*|twitgoo\.com\/.*|i.*\.photobucket\.com\/albums\/.*|s.*\.photobucket\.com\/albums\/.*|phodroid\.com\/.*\/.*\/.*|www\.mobypicture\.com\/user\/.*\/view\/.*|moby\.to\/.*|xkcd\.com\/.*|www\.xkcd\.com\/.*|imgs\.xkcd\.com\/.*|www\.asofterworld\.com\/index\.php\?id=.*|www\.asofterworld\.com\/.*\.jpg|asofterworld\.com\/.*\.jpg|www\.qwantz\.com\/index\.php\?comic=.*|23hq\.com\/.*\/photo\/.*|www\.23hq\.com\/.*\/photo\/.*|.*dribbble\.com\/shots\/.*|drbl\.in\/.*|.*\.smugmug\.com\/.*|.*\.smugmug\.com\/.*#.*|emberapp\.com\/.*\/images\/.*|emberapp\.com\/.*\/images\/.*\/sizes\/.*|emberapp\.com\/.*\/collections\/.*\/.*|emberapp\.com\/.*\/categories\/.*\/.*\/.*|embr\.it\/.*|picasaweb\.google\.com.*\/.*\/.*#.*|picasaweb\.google\.com.*\/lh\/photo\/.*|picasaweb\.google\.com.*\/.*\/.*|dailybooth\.com\/.*\/.*|brizzly\.com\/pic\/.*|pics\.brizzly\.com\/.*\.jpg|img\.ly\/.*|www\.tinypic\.com\/view\.php.*|tinypic\.com\/view\.php.*|www\.tinypic\.com\/player\.php.*|tinypic\.com\/player\.php.*|www\.tinypic\.com\/r\/.*\/.*|tinypic\.com\/r\/.*\/.*|.*\.tinypic\.com\/.*\.jpg|.*\.tinypic\.com\/.*\.png|meadd\.com\/.*\/.*|meadd\.com\/.*|.*\.deviantart\.com\/art\/.*|.*\.deviantart\.com\/gallery\/.*|.*\.deviantart\.com\/#\/.*|fav\.me\/.*|.*\.deviantart\.com|.*\.deviantart\.com\/gallery|.*\.deviantart\.com\/.*\/.*\.jpg|.*\.deviantart\.com\/.*\/.*\.gif|.*\.deviantart\.net\/.*\/.*\.jpg|.*\.deviantart\.net\/.*\/.*\.gif|www\.fotopedia\.com\/.*\/.*|fotopedia\.com\/.*\/.*|photozou\.jp\/photo\/show\/.*\/.*|photozou\.jp\/photo\/photo_only\/.*\/.*|instagr\.am\/p\/.*|instagram\.com\/p\/.*|skitch\.com\/.*\/.*\/.*|img\.skitch\.com\/.*|share\.ovi\.com\/media\/.*\/.*|www\.questionablecontent\.net\/|questionablecontent\.net\/|www\.questionablecontent\.net\/view\.php.*|questionablecontent\.net\/view\.php.*|questionablecontent\.net\/comics\/.*\.png|www\.questionablecontent\.net\/comics\/.*\.png|picplz\.com\/user\/.*\/pic\/.*\/|twitrpix\.com\/.*|.*\.twitrpix\.com\/.*|www\.someecards\.com\/.*\/.*|someecards\.com\/.*\/.*|some\.ly\/.*|www\.some\.ly\/.*|pikchur\.com\/.*|achewood\.com\/.*|www\.achewood\.com\/.*|achewood\.com\/index\.php.*|www\.achewood\.com\/index\.php.*|www\.whosay\.com\/content\/.*|www\.whosay\.com\/photos\/.*|www\.whosay\.com\/videos\/.*|say\.ly\/.*|ow\.ly\/i\/.*|color\.com\/s\/.*|bnter\.com\/convo\/.*|mlkshk\.com\/p\/.*|lockerz\.com\/s\/.*|soundcloud\.com\/.*|soundcloud\.com\/.*\/.*|soundcloud\.com\/.*\/sets\/.*|soundcloud\.com\/groups\/.*|snd\.sc\/.*|www\.last\.fm\/music\/.*|www\.last\.fm\/music\/+videos\/.*|www\.last\.fm\/music\/+images\/.*|www\.last\.fm\/music\/.*\/_\/.*|www\.last\.fm\/music\/.*\/.*|www\.mixcloud\.com\/.*\/.*\/|www\.radionomy\.com\/.*\/radio\/.*|radionomy\.com\/.*\/radio\/.*|www\.hark\.com\/clips\/.*|www\.rdio\.com\/#\/artist\/.*\/album\/.*|www\.rdio\.com\/artist\/.*\/album\/.*|www\.zero-inch\.com\/.*|.*\.bandcamp\.com\/|.*\.bandcamp\.com\/track\/.*|.*\.bandcamp\.com\/album\/.*|freemusicarchive\.org\/music\/.*|www\.freemusicarchive\.org\/music\/.*|freemusicarchive\.org\/curator\/.*|www\.freemusicarchive\.org\/curator\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/templates\/story\/story\.php.*|huffduffer\.com\/.*\/.*|www\.audioboo\.fm\/boos\/.*|audioboo\.fm\/boos\/.*|boo\.fm\/b.*|www\.xiami\.com\/song\/.*|xiami\.com\/song\/.*|www\.saynow\.com\/playMsg\.html.*|www\.saynow\.com\/playMsg\.html.*|grooveshark\.com\/s\/.*|listen\.grooveshark\.com\/s\/.*|radioreddit\.com\/songs.*|www\.radioreddit\.com\/songs.*|radioreddit\.com\/\?q=songs.*|www\.radioreddit\.com\/\?q=songs.*|www\.gogoyoko\.com\/song\/.*|.*amazon\..*\/gp\/product\/.*|.*amazon\..*\/.*\/dp\/.*|.*amazon\..*\/dp\/.*|.*amazon\..*\/o\/ASIN\/.*|.*amazon\..*\/gp\/offer-listing\/.*|.*amazon\..*\/.*\/ASIN\/.*|.*amazon\..*\/gp\/product\/images\/.*|.*amazon\..*\/gp\/aw\/d\/.*|www\.amzn\.com\/.*|amzn\.com\/.*|www\.shopstyle\.com\/browse.*|www\.shopstyle\.com\/action\/apiVisitRetailer.*|api\.shopstyle\.com\/action\/apiVisitRetailer.*|www\.shopstyle\.com\/action\/viewLook.*|gist\.github\.com\/.*|twitter\.com\/.*\/status\/.*|twitter\.com\/.*\/statuses\/.*|www\.twitter\.com\/.*\/status\/.*|www\.twitter\.com\/.*\/statuses\/.*|mobile\.twitter\.com\/.*\/status\/.*|mobile\.twitter\.com\/.*\/statuses\/.*|www\.crunchbase\.com\/.*\/.*|crunchbase\.com\/.*\/.*|www\.slideshare\.net\/.*\/.*|www\.slideshare\.net\/mobile\/.*\/.*|slidesha\.re\/.*|scribd\.com\/doc\/.*|www\.scribd\.com\/doc\/.*|scribd\.com\/mobile\/documents\/.*|www\.scribd\.com\/mobile\/documents\/.*|screenr\.com\/.*|polldaddy\.com\/community\/poll\/.*|polldaddy\.com\/poll\/.*|answers\.polldaddy\.com\/poll\/.*|www\.5min\.com\/Video\/.*|www\.howcast\.com\/videos\/.*|www\.screencast\.com\/.*\/media\/.*|screencast\.com\/.*\/media\/.*|www\.screencast\.com\/t\/.*|screencast\.com\/t\/.*|issuu\.com\/.*\/docs\/.*|www\.kickstarter\.com\/projects\/.*\/.*|www\.scrapblog\.com\/viewer\/viewer\.aspx.*|ping\.fm\/p\/.*|chart\.ly\/symbols\/.*|chart\.ly\/.*|maps\.google\.com\/maps\?.*|maps\.google\.com\/\?.*|maps\.google\.com\/maps\/ms\?.*|.*\.craigslist\.org\/.*\/.*|my\.opera\.com\/.*\/albums\/show\.dml\?id=.*|my\.opera\.com\/.*\/albums\/showpic\.dml\?album=.*&picture=.*|tumblr\.com\/.*|.*\.tumblr\.com\/post\/.*|www\.polleverywhere\.com\/polls\/.*|www\.polleverywhere\.com\/multiple_choice_polls\/.*|www\.polleverywhere\.com\/free_text_polls\/.*|www\.quantcast\.com\/wd:.*|www\.quantcast\.com\/.*|siteanalytics\.compete\.com\/.*|statsheet\.com\/statplot\/charts\/.*\/.*\/.*\/.*|statsheet\.com\/statplot\/charts\/e\/.*|statsheet\.com\/.*\/teams\/.*\/.*|statsheet\.com\/tools\/chartlets\?chart=.*|.*\.status\.net\/notice\/.*|identi\.ca\/notice\/.*|brainbird\.net\/notice\/.*|shitmydadsays\.com\/notice\/.*|www\.studivz\.net\/Profile\/.*|www\.studivz\.net\/l\/.*|www\.studivz\.net\/Groups\/Overview\/.*|www\.studivz\.net\/Gadgets\/Info\/.*|www\.studivz\.net\/Gadgets\/Install\/.*|www\.studivz\.net\/.*|www\.meinvz\.net\/Profile\/.*|www\.meinvz\.net\/l\/.*|www\.meinvz\.net\/Groups\/Overview\/.*|www\.meinvz\.net\/Gadgets\/Info\/.*|www\.meinvz\.net\/Gadgets\/Install\/.*|www\.meinvz\.net\/.*|www\.schuelervz\.net\/Profile\/.*|www\.schuelervz\.net\/l\/.*|www\.schuelervz\.net\/Groups\/Overview\/.*|www\.schuelervz\.net\/Gadgets\/Info\/.*|www\.schuelervz\.net\/Gadgets\/Install\/.*|www\.schuelervz\.net\/.*|myloc\.me\/.*|pastebin\.com\/.*|pastie\.org\/.*|www\.pastie\.org\/.*|redux\.com\/stream\/item\/.*\/.*|redux\.com\/f\/.*\/.*|www\.redux\.com\/stream\/item\/.*\/.*|www\.redux\.com\/f\/.*\/.*|cl\.ly\/.*|cl\.ly\/.*\/content|speakerdeck\.com\/u\/.*\/p\/.*|www\.kiva\.org\/lend\/.*|www\.timetoast\.com\/timelines\/.*|storify\.com\/.*\/.*|.*meetup\.com\/.*|meetu\.ps\/.*|www\.dailymile\.com\/people\/.*\/entries\/.*|.*\.kinomap\.com\/.*|www\.metacdn\.com\/api\/users\/.*\/content\/.*|www\.metacdn\.com\/api\/users\/.*\/media\/.*|prezi\.com\/.*\/.*|.*\.uservoice\.com\/.*\/suggestions\/.*|formspring\.me\/.*|www\.formspring\.me\/.*|formspring\.me\/.*\/q\/.*|www\.formspring\.me\/.*\/q\/.*|twitlonger\.com\/show\/.*|www\.twitlonger\.com\/show\/.*|tl\.gd\/.*|www\.qwiki\.com\/q\/.*|crocodoc\.com\/.*|.*\.crocodoc\.com\/.*|.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|youtu\.be\/.*|.*\.youtube\.com\/user\/.*|.*\.youtube\.com\/.*#.*\/.*|m\.youtube\.com\/watch.*|m\.youtube\.com\/index.*|.*\.youtube\.com\/profile.*|.*\.youtube\.com\/view_play_list.*|.*\.youtube\.com\/playlist.*|.*justin\.tv\/.*|.*justin\.tv\/.*\/b\/.*|.*justin\.tv\/.*\/w\/.*|www\.ustream\.tv\/recorded\/.*|www\.ustream\.tv\/channel\/.*|www\.ustream\.tv\/.*|qik\.com\/video\/.*|qik\.com\/.*|qik\.ly\/.*|.*revision3\.com\/.*|.*\.dailymotion\.com\/video\/.*|.*\.dailymotion\.com\/.*\/video\/.*|collegehumor\.com\/video:.*|collegehumor\.com\/video\/.*|www\.collegehumor\.com\/video:.*|www\.collegehumor\.com\/video\/.*|.*twitvid\.com\/.*|www\.break\.com\/.*\/.*|vids\.myspace\.com\/index\.cfm\?fuseaction=vids\.individual&videoid.*|www\.myspace\.com\/index\.cfm\?fuseaction=.*&videoid.*|www\.metacafe\.com\/watch\/.*|www\.metacafe\.com\/w\/.*|blip\.tv\/file\/.*|.*\.blip\.tv\/file\/.*|video\.google\.com\/videoplay\?.*|.*revver\.com\/video\/.*|video\.yahoo\.com\/watch\/.*\/.*|video\.yahoo\.com\/network\/.*|.*viddler\.com\/explore\/.*\/videos\/.*|liveleak\.com\/view\?.*|www\.liveleak\.com\/view\?.*|animoto\.com\/play\/.*|dotsub\.com\/view\/.*|www\.overstream\.net\/view\.php\?oid=.*|www\.livestream\.com\/.*|www\.worldstarhiphop\.com\/videos\/video.*\.php\?v=.*|worldstarhiphop\.com\/videos\/video.*\.php\?v=.*|teachertube\.com\/viewVideo\.php.*|www\.teachertube\.com\/viewVideo\.php.*|www1\.teachertube\.com\/viewVideo\.php.*|www2\.teachertube\.com\/viewVideo\.php.*|bambuser\.com\/v\/.*|bambuser\.com\/channel\/.*|bambuser\.com\/channel\/.*\/broadcast\/.*|www\.schooltube\.com\/video\/.*\/.*|bigthink\.com\/ideas\/.*|bigthink\.com\/series\/.*|sendables\.jibjab\.com\/view\/.*|sendables\.jibjab\.com\/originals\/.*|www\.xtranormal\.com\/watch\/.*|socialcam\.com\/v\/.*|www\.socialcam\.com\/v\/.*|dipdive\.com\/media\/.*|dipdive\.com\/member\/.*\/media\/.*|dipdive\.com\/v\/.*|.*\.dipdive\.com\/media\/.*|.*\.dipdive\.com\/v\/.*|v\.youku\.com\/v_show\/.*\.html|v\.youku\.com\/v_playlist\/.*\.html|www\.snotr\.com\/video\/.*|snotr\.com\/video\/.*|video\.jardenberg\.se\/.*|www\.clipfish\.de\/.*\/.*\/video\/.*|www\.myvideo\.de\/watch\/.*|www\.whitehouse\.gov\/photos-and-video\/video\/.*|www\.whitehouse\.gov\/video\/.*|wh\.gov\/photos-and-video\/video\/.*|wh\.gov\/video\/.*|www\.hulu\.com\/watch.*|www\.hulu\.com\/w\/.*|hulu\.com\/watch.*|hulu\.com\/w\/.*|.*crackle\.com\/c\/.*|www\.fancast\.com\/.*\/videos|www\.funnyordie\.com\/videos\/.*|www\.funnyordie\.com\/m\/.*|funnyordie\.com\/videos\/.*|funnyordie\.com\/m\/.*|www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|www\.ted\.com\/talks\/.*\.html.*|www\.ted\.com\/talks\/lang\/.*\/.*\.html.*|www\.ted\.com\/index\.php\/talks\/.*\.html.*|www\.ted\.com\/index\.php\/talks\/lang\/.*\/.*\.html.*|.*nfb\.ca\/film\/.*|www\.thedailyshow\.com\/watch\/.*|www\.thedailyshow\.com\/full-episodes\/.*|www\.thedailyshow\.com\/collection\/.*\/.*\/.*|movies\.yahoo\.com\/movie\/.*\/video\/.*|movies\.yahoo\.com\/movie\/.*\/trailer|movies\.yahoo\.com\/movie\/.*\/video|www\.colbertnation\.com\/the-colbert-report-collections\/.*|www\.colbertnation\.com\/full-episodes\/.*|www\.colbertnation\.com\/the-colbert-report-videos\/.*|www\.comedycentral\.com\/videos\/index\.jhtml\?.*|www\.theonion\.com\/video\/.*|theonion\.com\/video\/.*|wordpress\.tv\/.*\/.*\/.*\/.*\/|www\.traileraddict\.com\/trailer\/.*|www\.traileraddict\.com\/clip\/.*|www\.traileraddict\.com\/poster\/.*|www\.escapistmagazine\.com\/videos\/.*|www\.trailerspy\.com\/trailer\/.*\/.*|www\.trailerspy\.com\/trailer\/.*|www\.trailerspy\.com\/view_video\.php.*|www\.atom\.com\/.*\/.*\/|fora\.tv\/.*\/.*\/.*\/.*|www\.spike\.com\/video\/.*|www\.gametrailers\.com\/video\/.*|gametrailers\.com\/video\/.*|www\.koldcast\.tv\/video\/.*|www\.koldcast\.tv\/#video:.*|techcrunch\.tv\/watch.*|techcrunch\.tv\/.*\/watch.*|mixergy\.com\/.*|video\.pbs\.org\/video\/.*|www\.zapiks\.com\/.*|tv\.digg\.com\/diggnation\/.*|tv\.digg\.com\/diggreel\/.*|tv\.digg\.com\/diggdialogg\/.*|www\.trutv\.com\/video\/.*|www\.nzonscreen\.com\/title\/.*|nzonscreen\.com\/title\/.*|app\.wistia\.com\/embed\/medias\/.*|hungrynation\.tv\/.*\/episode\/.*|www\.hungrynation\.tv\/.*\/episode\/.*|hungrynation\.tv\/episode\/.*|www\.hungrynation\.tv\/episode\/.*|indymogul\.com\/.*\/episode\/.*|www\.indymogul\.com\/.*\/episode\/.*|indymogul\.com\/episode\/.*|www\.indymogul\.com\/episode\/.*|channelfrederator\.com\/.*\/episode\/.*|www\.channelfrederator\.com\/.*\/episode\/.*|channelfrederator\.com\/episode\/.*|www\.channelfrederator\.com\/episode\/.*|tmiweekly\.com\/.*\/episode\/.*|www\.tmiweekly\.com\/.*\/episode\/.*|tmiweekly\.com\/episode\/.*|www\.tmiweekly\.com\/episode\/.*|99dollarmusicvideos\.com\/.*\/episode\/.*|www\.99dollarmusicvideos\.com\/.*\/episode\/.*|99dollarmusicvideos\.com\/episode\/.*|www\.99dollarmusicvideos\.com\/episode\/.*|ultrakawaii\.com\/.*\/episode\/.*|www\.ultrakawaii\.com\/.*\/episode\/.*|ultrakawaii\.com\/episode\/.*|www\.ultrakawaii\.com\/episode\/.*|barelypolitical\.com\/.*\/episode\/.*|www\.barelypolitical\.com\/.*\/episode\/.*|barelypolitical\.com\/episode\/.*|www\.barelypolitical\.com\/episode\/.*|barelydigital\.com\/.*\/episode\/.*|www\.barelydigital\.com\/.*\/episode\/.*|barelydigital\.com\/episode\/.*|www\.barelydigital\.com\/episode\/.*|threadbanger\.com\/.*\/episode\/.*|www\.threadbanger\.com\/.*\/episode\/.*|threadbanger\.com\/episode\/.*|www\.threadbanger\.com\/episode\/.*|vodcars\.com\/.*\/episode\/.*|www\.vodcars\.com\/.*\/episode\/.*|vodcars\.com\/episode\/.*|www\.vodcars\.com\/episode\/.*|confreaks\.net\/videos\/.*|www\.confreaks\.net\/videos\/.*|video\.allthingsd\.com\/video\/.*|videos\.nymag\.com\/.*|aniboom\.com\/animation-video\/.*|www\.aniboom\.com\/animation-video\/.*|clipshack\.com\/Clip\.aspx\?.*|www\.clipshack\.com\/Clip\.aspx\?.*|grindtv\.com\/.*\/video\/.*|www\.grindtv\.com\/.*\/video\/.*|ifood\.tv\/recipe\/.*|ifood\.tv\/video\/.*|ifood\.tv\/channel\/user\/.*|www\.ifood\.tv\/recipe\/.*|www\.ifood\.tv\/video\/.*|www\.ifood\.tv\/channel\/user\/.*|logotv\.com\/video\/.*|www\.logotv\.com\/video\/.*|lonelyplanet\.com\/Clip\.aspx\?.*|www\.lonelyplanet\.com\/Clip\.aspx\?.*|streetfire\.net\/video\/.*\.htm.*|www\.streetfire\.net\/video\/.*\.htm.*|trooptube\.tv\/videos\/.*|www\.trooptube\.tv\/videos\/.*|sciencestage\.com\/v\/.*\.html|sciencestage\.com\/a\/.*\.html|www\.sciencestage\.com\/v\/.*\.html|www\.sciencestage\.com\/a\/.*\.html|www\.godtube\.com\/featured\/video\/.*|godtube\.com\/featured\/video\/.*|www\.godtube\.com\/watch\/.*|godtube\.com\/watch\/.*|www\.tangle\.com\/view_video.*|mediamatters\.org\/mmtv\/.*|www\.clikthrough\.com\/theater\/video\/.*|espn\.go\.com\/video\/clip.*|espn\.go\.com\/.*\/story.*|abcnews\.com\/.*\/video\/.*|abcnews\.com\/video\/playerIndex.*|washingtonpost\.com\/wp-dyn\/.*\/video\/.*\/.*\/.*\/.*|www\.washingtonpost\.com\/wp-dyn\/.*\/video\/.*\/.*\/.*\/.*|www\.boston\.com\/video.*|boston\.com\/video.*|www\.facebook\.com\/photo\.php.*|www\.facebook\.com\/video\/video\.php.*|www\.facebook\.com\/v\/.*|cnbc\.com\/id\/.*\?.*video.*|www\.cnbc\.com\/id\/.*\?.*video.*|cnbc\.com\/id\/.*\/play\/1\/video\/.*|www\.cnbc\.com\/id\/.*\/play\/1\/video\/.*|cbsnews\.com\/video\/watch\/.*|www\.google\.com\/buzz\/.*\/.*\/.*|www\.google\.com\/buzz\/.*|www\.google\.com\/profiles\/.*|google\.com\/buzz\/.*\/.*\/.*|google\.com\/buzz\/.*|google\.com\/profiles\/.*|www\.cnn\.com\/video\/.*|edition\.cnn\.com\/video\/.*|money\.cnn\.com\/video\/.*|today\.msnbc\.msn\.com\/id\/.*\/vp\/.*|www\.msnbc\.msn\.com\/id\/.*\/vp\/.*|www\.msnbc\.msn\.com\/id\/.*\/ns\/.*|today\.msnbc\.msn\.com\/id\/.*\/ns\/.*|multimedia\.foxsports\.com\/m\/video\/.*\/.*|msn\.foxsports\.com\/video.*|www\.globalpost\.com\/video\/.*|www\.globalpost\.com\/dispatch\/.*|guardian\.co\.uk\/.*\/video\/.*\/.*\/.*\/.*|www\.guardian\.co\.uk\/.*\/video\/.*\/.*\/.*\/.*|bravotv\.com\/.*\/.*\/videos\/.*|www\.bravotv\.com\/.*\/.*\/videos\/.*|video\.nationalgeographic\.com\/.*\/.*\/.*\.html|dsc\.discovery\.com\/videos\/.*|animal\.discovery\.com\/videos\/.*|health\.discovery\.com\/videos\/.*|investigation\.discovery\.com\/videos\/.*|military\.discovery\.com\/videos\/.*|planetgreen\.discovery\.com\/videos\/.*|science\.discovery\.com\/videos\/.*|tlc\.discovery\.com\/videos\/.*|video\.forbes\.com\/fvn\/.*))|(https:\/\/(skitch\.com\/.*\/.*\/.*|img\.skitch\.com\/.*|twitter\.com\/.*\/status\/.*|twitter\.com\/.*\/statuses\/.*|www\.twitter\.com\/.*\/status\/.*|www\.twitter\.com\/.*\/statuses\/.*|mobile\.twitter\.com\/.*\/status\/.*|mobile\.twitter\.com\/.*\/statuses\/.*|crocodoc\.com\/.*|.*\.crocodoc\.com\/.*|.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|app\.wistia\.com\/embed\/medias\/.*|www\.facebook\.com\/photo\.php.*|www\.facebook\.com\/video\/video\.php.*|www\.facebook\.com\/v\/.*)))/i;b.embedly=b.embedly||{};if(b.embedly.version){return}b.embedly.version="2.0.0";b.extend({embedly:function(u,a,q){var C=[];var A={maxWidth:null,maxHeight:null,wmode:"opaque",autoplay:"true",width:null,method:"replace",addImageStyles:true,wrapElement:"div",className:"embed",urlRe:null,key:null,elems:[],success:null};var B;if(typeof a!="undefined"){B=b.extend(A,a)}else{B=A}if(B.urlRe==null){B.urlRe=window.embedlyURLre}if(typeof u=="string"){u=new Array(u)}if(typeof q!="undefined"){B.success=q}if(B.success==null){B.success=function(c,d){var g,f=b(d.node);if(!(c)){return null}if((g=B.method)==="replace"){return f.replaceWith(c.code)}else{if(g==="after"){return f.after(c.code)}else{if(g==="afterParent"){return f.parent().after(c.code)}else{if(g==="replaceParent"){return f.parent().replaceWith(c.code)}}}}}}var r=function(c){return(c.match(B.urlRe)!==null)};var i=function(d){var c="urls="+d;if(B.maxWidth!=null){c+="&maxwidth="+B.maxWidth}else{if(typeof dimensions!="undefined"){c+="&maxwidth="+dimensions.width}}if(B.maxHeight!=null){c+="&maxheight="+B.maxHeight}c+="&wmode="+B.wmode;if(typeof B.key=="string"){c+="&key="+B.key}if(typeof B.autoplay=="string"){c+="&autoplay="+B.autoplay}if(typeof B.width!=null){c+="&width="+B.width}return c};var v=function(){return typeof B.key=="string"?"https://pro.embed.ly/1/oembed":"https://api.embed.ly/1/oembed"};var x=function(f,c){var j,g,h,d;if((j=f.type)==="photo"){d=f.title||"";h=[];if(B.addImageStyles){if(B.maxWidth){units=isNaN(parseInt(B.maxWidth))?"":"px";h.push("max-width: "+(B.maxWidth)+units)}if(B.maxHeight){units=isNaN(parseInt(B.maxHeight))?"":"px";h.push("max-height: "+(B.maxHeight)+units)}}h=h.join(";");g="<a href='"+c.url+"' target='_blank'><img style='"+h+"' src='"+f.url+"' alt='"+d+"' /></a>"}else{if(j==="video"){g=f.html}else{if(j==="rich"){g=f.html}else{d=f.title||c.url;thumb=f.thumbnail_url?'<img src="'+f.thumbnail_url+'" class="thumb" />':"";description=f.description;provider=f.provider_name?'<a href="'+f.provider_url+'" class="provider">'+f.provider_name+"</a> - ":"";g=thumb+"<a href='"+c.url+"'>"+d+"</a>";g+=provider;g+=description}}}if(B.wrapElement){g="<"+B.wrapElement+' class="'+B.className+'">'+g+"</"+B.wrapElement+">"}f.code=g;if(typeof c.node!="undefined"){b(c.node).data("oembed",f).trigger("embedly-oembed",[f])}return B.success(f,c)};var z=function(d){var g,c,f,h;f=b.map(d,function(j,k){if(k==0){if(j.node!==null){node=b(j.node);h={width:node.parent().width(),height:node.parent().height()}}}return encodeURIComponent(j.url)}).join(",");b.ajax({url:v(),dataType:"jsonp",data:i(f),success:function(j){return b.each(j,function(l,k){return k.type!="error"?x(k,d[l]):null})}})};b.each(u,function(c,d){node=typeof B.elems!=="undefined"?B.elems[c]:null;if(typeof node!="undefined"&&!(r(d)||B.key)){b(node).data("oembed",false)}return d&&(r(d)||B.key)?C.push({url:d,node:node}):null});var s=[];var w=C.length;for(var y=0;(0<=w?y<w:y>w);y+=20){s=s.concat(z(C.slice(y,y+20)))}if(B.elems){return B.elems}else{return this}}});b.fn.embedly=function(l,i){var k=typeof l!="undefined"?l:{};var a=(typeof k.key=="string")?/(https?:\/\/.*)/i:window.embedlyURLre;if(typeof i!="undefined"){l.success=i}var j=new Array();var m=new Array();this.each(function(){if(typeof b(this).attr("href")!="undefined"){if(a.test(b(this).attr("href"))){j.push(b(this).attr("href"));m.push(b(this))}}else{b(this).find("a").each(function(){if(typeof b(this).attr("href")!="undefined"&&a.test(b(this).attr("href"))){j.push(b(this).attr("href"));m.push(b(this))}})}k.elems=m});var n=b.embedly(j,k);return this}})(jQuery);(function(R,Q){function H(f,d){var g=f+"";while(g.length<d){g="0"+g}return g}function G(r,q,p,o){var n=typeof q=="string",m=n?{}:q,l,k,a;return n&&o&&(m[q]=o),l=(m.ms||m.milliseconds||0)+(m.s||m.seconds||0)*1000+(m.m||m.minutes||0)*60000+(m.h||m.hours||0)*3600000+(m.d||m.days||0)*86400000+(m.w||m.weeks||0)*604800000,k=(m.M||m.months||0)+(m.y||m.years||0)*12,l&&r.setTime(+r+l*p),k&&(a=r.getDate(),r.setDate(1),r.setMonth(r.getMonth()+k*p),r.setDate(Math.min((new R(r.getFullYear(),r.getMonth()+1,0)).getDate(),a))),r}function F(b){return Object.prototype.toString.call(b)==="[object Array]"}function E(a){return new R(a[0],a[1]||0,a[2]||1,a[3]||0,a[4]||0,a[5]||0,a[6]||0)}function D(Y,X){function a(g){var b,f;switch(g){case"M":return W+1;case"Mo":return W+1+c(W+1);case"MM":return H(W+1,2);case"MMM":return P.monthsShort[W];case"MMMM":return P.months[W];case"D":return V;case"Do":return V+c(V);case"DD":return H(V,2);case"DDD":return b=new R(U,W,V),f=new R(U,0,1),~~((b-f)/86400000+1.5);case"DDDo":return b=a("DDD"),b+c(b);case"DDDD":return H(a("DDD"),3);case"d":return T;case"do":return T+c(T);case"ddd":return P.weekdaysShort[T];case"dddd":return P.weekdays[T];case"w":return b=new R(U,W,V-T+5),f=new R(b.getFullYear(),0,4),~~((b-f)/86400000/7+1.5);case"wo":return b=a("w"),b+c(b);case"ww":return H(a("w"),2);case"YY":return H(U%100,2);case"YYYY":return U;case"a":return S>11?"pm":"am";case"A":return S>11?"PM":"AM";case"H":return S;case"HH":return H(S,2);case"h":return S%12||12;case"hh":return H(S%12||12,2);case"m":return v;case"mm":return H(v,2);case"s":return u;case"ss":return H(u,2);case"zz":case"z":return(Y.toString().match(k)||[""])[0].replace(o,"");case"L":case"LL":case"LLL":case"LLLL":return D(Y,P.longDateFormat[g]);default:return g.replace("\\","")}}var W=Y.getMonth(),V=Y.getDate(),U=Y.getFullYear(),T=Y.getDay(),S=Y.getHours(),v=Y.getMinutes(),u=Y.getSeconds(),s=/(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|zz?|LL?L?L?)/g,o=/[^A-Z]/g,k=/\([A-Za-z ]+\)|:[0-9]{2} [A-Z]{3} /g,c=P.ordinal;return X.replace(s,a)}function C(u,s){function k(d,c){switch(d){case"M":case"MM":r[1]=~~c-1;break;case"D":case"DD":case"DDD":case"DDDD":r[2]=~~c;break;case"YY":c=~~c,r[0]=c+(c>70?1900:2000);break;case"YYYY":r[0]=~~c;break;case"a":case"A":l=c.toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":r[3]=~~c;break;case"m":case"mm":r[4]=~~c;break;case"s":case"ss":r[5]=~~c}}var r=[0],q=/(\\)?(MM?|DD?D?D?|YYYY|YY|a|A|hh?|HH?|mm?|ss?)/g,p=/(\\)?([0-9]+|am|pm)/gi,o=u.match(p),n=s.match(q),m,l;for(m=0;m<n.length;m++){k(n[m],o[m])}return l&&r[3]<12&&(r[3]+=12),E(r)}function B(h,g){var l=Math.min(h.length,g.length),k=Math.abs(h.length-g.length),j=0,i;for(i=0;i<l;i++){~~h[i]!==~~g[i]&&j++}return j+k}function A(u,s){var r,q=/(\\)?([0-9]+|am|pm)/gi,p=u.match(q),o=[],n=99,m,l,k;for(m=0;m<s.length;m++){l=C(u,s[m]),k=B(p,D(l,s[m]).match(q)),k<n&&(n=k,r=l)}return r}function z(b){this._d=b}function y(d,c){return P.relativeTime[d].replace(/%d/i,c||1)}function x(h){var d=Math.abs(h)/1000,l=d/60,k=l/60,j=k/24,i=j/365;return d<45&&y("s",O(d))||O(l)===1&&y("m")||l<45&&y("mm",O(l))||O(k)===1&&y("h")||k<22&&y("hh",O(k))||O(j)===1&&y("d")||j<=25&&y("dd",O(j))||j<=45&&y("M")||j<345&&y("MM",O(j/30))||O(i)===1&&y("y")||y("yy",O(i))}function w(d,c){P.fn[d]=function(b){return b!=null?(this._d["set"+c](b),this):this._d["get"+c]()}}var P,O=Math.round,N={},M=typeof module!="undefined",L="months|monthsShort|weekdays|weekdaysShort|longDateFormat|relativeTime|ordinal".split("|"),K,J="1.1.1",I="Month|Date|Hours|Minutes|Seconds".split("|");P=function(f,b){var a;return f&&f._d instanceof R?a=f._d:b?F(b)?a=A(f,b):a=C(f,b):a=f===Q?new R:f instanceof R?f:F(f)?E(f):new R(f),new z(a)},P.version=J,P.lang=function(f,c){var k,j,g;c&&(N[f]=c);if(N[f]){for(k=0;k<L.length;k++){j=L[k],P[j]=N[f][j]||P[j]}}else{M&&(g=require("./lang/"+f),P.lang(f,g))}},P.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY h:mm A",LLLL:"dddd, MMMM D YYYY h:mm A"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(d){var c=d%10;return ~~(d%100/10)===1?"th":c===1?"st":c===2?"nd":c===3?"rd":"th"}}),P.fn=z.prototype={valueOf:function(){return +this._d},"native":function(){return this._d},format:function(b){return D(this._d,b)},add:function(d,c){return this._d=G(this._d,d,1,c),this},subtract:function(d,c){return this._d=G(this._d,d,-1,c),this},diff:function(r,q,p){var o=P(r),n=this._d-o._d,m=this.year()-o.year(),l=this.month()-o.month(),d=this.day()-o.day(),c;return q==="months"?c=m*12+l+d/30:q==="years"?c=m+l/12:c=q==="seconds"?n/1000:q==="minutes"?n/60000:q==="hours"?n/3600000:q==="days"?n/86400000:q==="weeks"?n/604800000:q==="days"?n/3600:n,p?c:O(c)},from:function(g,c){var j=this.diff(g),i=P.relativeTime,h=x(j);return c?h:(j<=0?i.past:i.future).replace(/%s/i,h)},fromNow:function(b){return this.from(P(),b)},isLeapYear:function(){var b=this._d.getFullYear();return b%4===0&&b%100!==0||b%400===0}};for(K=0;K<I.length;K++){w(I[K].toLowerCase(),I[K])}w("year","FullYear"),P.fn.day=function(){return this._d.getDay()},M&&(module.exports=P),typeof window!="undefined"&&(window.moment=P)})(Date);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(a){if(typeof(a)=="string"){a=document.getElementById(a)}if(!a.addClass){a.hide=function(){this.style.display="none"};a.show=function(){this.style.display=""};a.addClass=function(b){this.removeClass(b);this.className+=" "+b};a.removeClass=function(d){var f=this.className.split(/\s+/);var b=-1;for(var c=0;c<f.length;c++){if(f[c]==d){b=c;c=f.length}}if(b>-1){f.splice(b,1);this.className=f.join(" ")}return this};a.hasClass=function(b){return !!this.className.match(new RegExp("\\s*"+b+"\\s*"))}}return a},setMoviePath:function(a){this.moviePath=a},dispatch:function(d,b,c){var a=this.clients[d];if(a){a.receiveEvent(b,c)}},register:function(b,a){this.clients[b]=a},getDOMObjectPosition:function(c,a){var b={left:0,top:0,width:c.width?c.width:c.offsetWidth,height:c.height?c.height:c.offsetHeight};while(c&&(c!=a)){b.left+=c.offsetLeft;b.top+=c.offsetTop;c=c.offsetParent}return b},Client:function(a){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId="ZeroClipboardMovie_"+this.id;ZeroClipboard.register(this.id,this);if(a){this.glue(a)}}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:"",handCursorEnabled:true,cssEffects:true,handlers:null,glue:function(d,b,f){this.domElement=ZeroClipboard.$(d);var g=99;if(this.domElement.style.zIndex){g=parseInt(this.domElement.style.zIndex,10)+1}if(typeof(b)=="string"){b=ZeroClipboard.$(b)}else{if(typeof(b)=="undefined"){b=document.getElementsByTagName("body")[0]}}var c=ZeroClipboard.getDOMObjectPosition(this.domElement,b);this.div=document.createElement("div");var a=this.div.style;a.position="absolute";a.left=""+c.left+"px";a.top=""+c.top+"px";a.width=""+c.width+"px";a.height=""+c.height+"px";a.zIndex=g;if(typeof(f)=="object"){for(addedStyle in f){a[addedStyle]=f[addedStyle]}}b.appendChild(this.div);this.div.innerHTML=this.getHTML(c.width,c.height)},getHTML:function(d,a){var c="";var b="id="+this.id+"&width="+d+"&height="+a;if(navigator.userAgent.match(/MSIE/)){var f=location.href.match(/^https/i)?"https://":"http://";c+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+f+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+d+'" height="'+a+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+b+'"/><param name="wmode" value="transparent"/></object>'}else{c+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+d+'" height="'+a+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+b+'" wmode="transparent" />'}return c},hide:function(){if(this.div){this.div.style.left="-2000px"}},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null;this.div=null}},reposition:function(c){if(c){this.domElement=ZeroClipboard.$(c);if(!this.domElement){this.hide()}}if(this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement);var a=this.div.style;a.left=""+b.left+"px";a.top=""+b.top+"px"}},setText:function(a){this.clipText=a;if(this.ready){this.movie.setText(a)}},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");if(!this.handlers[a]){this.handlers[a]=[]}this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a;if(this.ready){this.movie.setHandCursor(a)}},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(d,f){d=d.toString().toLowerCase().replace(/^on/,"");switch(d){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){var c=this;setTimeout(function(){c.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;setTimeout(function(){c.receiveEvent("load",null)},100);this.ready=true;return}this.ready=true;this.movie.setText(this.clipText);this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":if(this.domElement&&this.cssEffects){this.domElement.addClass("hover");if(this.recoverActive){this.domElement.addClass("active")}}break;case"mouseout":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass("active")){this.domElement.removeClass("active");this.recoverActive=true}this.domElement.removeClass("hover")}break;case"mousedown":if(this.domElement&&this.cssEffects){this.domElement.addClass("active")}break;case"mouseup":if(this.domElement&&this.cssEffects){this.domElement.removeClass("active");this.recoverActive=false}break}if(this.handlers[d]){for(var b=0,a=this.handlers[d].length;b<a;b++){var g=this.handlers[d][b];if(typeof(g)=="function"){g(this,f)}else{if((typeof(g)=="object")&&(g.length==2)){g[0][g[1]](this,f)}else{if(typeof(g)=="string"){window[g](this,f)}}}}}}};(function(l){var d={module:function(s,u){g.currentModule=s;m(function(){if(g.currentModule){d.moduleDone(g.currentModule,g.moduleStats.bad,g.moduleStats.all)}g.currentModule=s;g.moduleTestEnvironment=u;g.moduleStats={all:0,bad:0};d.moduleStart(s,u)})},asyncTest:function(s,u,v){if(arguments.length===2){v=u;u=0}d.test(s,u,v,true)},test:function(u,x,z,w){var v='<span class="test-name">'+u+"</span>",y,s;if(arguments.length===2){z=x;x=null}if(x&&typeof x==="object"){s=x;x=null}if(g.currentModule){v='<span class="module-name">'+g.currentModule+"</span>: "+v}if(!p(g.currentModule+": "+u)){return}m(function(){y=n({setup:function(){},teardown:function(){}},g.moduleTestEnvironment);if(s){n(y,s)}d.testStart(u,y);d.current_testEnvironment=y;g.assertions=[];g.expected=x;var C=a("qunit-tests");if(C){var B=document.createElement("strong");B.innerHTML="Running "+v;var A=document.createElement("li");A.appendChild(B);A.id="current-test-output";C.appendChild(A)}try{if(!g.pollution){b()}y.setup.call(y)}catch(D){d.ok(false,"Setup failed on "+v+": "+D.message)}});m(function(){if(w){d.stop()}try{z.call(y)}catch(A){h("Test "+v+" died, exception and test follows",A,z);d.ok(false,"Died on test #"+(g.assertions.length+1)+": "+A.message);b();if(g.blocking){start()}}});m(function(){try{f();y.teardown.call(y)}catch(A){d.ok(false,"Teardown failed on "+v+": "+A.message)}});m(function(){try{d.reset()}catch(E){h("reset() failed, following Test "+v+", exception and reset fn follows",E,reset)}if(g.expected&&g.expected!=g.assertions.length){d.ok(false,"Expected "+g.expected+" assertions, but "+g.assertions.length+" were run")}var C=0,A=0,B=a("qunit-tests");g.stats.all+=g.assertions.length;g.moduleStats.all+=g.assertions.length;if(B){var F=document.createElement("ol");for(var D=0;D<g.assertions.length;D++){var J=g.assertions[D];var I=document.createElement("li");I.className=J.result?"pass":"fail";I.innerHTML=J.message||"(no message)";F.appendChild(I);if(J.result){C++}else{A++;g.stats.bad++;g.moduleStats.bad++}}if(A==0){F.style.display="none"}var G=document.createElement("strong");G.innerHTML=v+" <b style='color:black;'>(<b class='fail'>"+A+"</b>, <b class='pass'>"+C+"</b>, "+g.assertions.length+")</b>";i(G,"click",function(){var K=G.nextSibling,L=K.style.display;K.style.display=L==="none"?"block":"none"});i(G,"dblclick",function(L){var K=L&&L.target?L.target:l.event.srcElement;if(K.nodeName.toLowerCase()=="span"||K.nodeName.toLowerCase()=="b"){K=K.parentNode}if(l.location&&K.nodeName.toLowerCase()==="strong"){l.location.search="?"+encodeURIComponent(r([K]).replace(/\(.+\)$/,"").replace(/(^\s*|\s*$)/g,""))}});var I=a("current-test-output");I.id="";I.className=A?"fail":"pass";I.removeChild(I.firstChild);I.appendChild(G);I.appendChild(F);if(A){var H=a("qunit-testrunner-toolbar");if(H){H.style.display="block";a("qunit-filter-pass").disabled=null;a("qunit-filter-missing").disabled=null}}}else{for(var D=0;D<g.assertions.length;D++){if(!g.assertions[D].result){A++;g.stats.bad++;g.moduleStats.bad++}}}d.testDone(u,A,g.assertions.length);if(!l.setTimeout&&!g.queue.length){j()}});m(j)},expect:function(s){g.expected=s},ok:function(s,u){u=k(u);d.log(s,u);g.assertions.push({result:!!s,message:u})},equal:function(v,u,s){o(u==v,v,u,s)},notEqual:function(v,u,s){o(u!=v,v,u,s)},deepEqual:function(v,u,s){o(d.equiv(v,u),v,u,s)},notDeepEqual:function(v,u,s){o(!d.equiv(v,u),v,u,s)},strictEqual:function(v,u,s){o(u===v,v,u,s)},notStrictEqual:function(v,u,s){o(u!==v,v,u,s)},raises:function(s,u){try{s();ok(false,u)}catch(v){ok(true,u)}},start:function(){if(l.setTimeout){l.setTimeout(function(){if(g.timeout){clearTimeout(g.timeout)}g.blocking=false;c()},13)}else{g.blocking=false;c()}},stop:function(s){g.blocking=true;if(s&&l.setTimeout){g.timeout=l.setTimeout(function(){d.ok(false,"Test timed out");d.start()},s)}}};d.equals=d.equal;d.same=d.deepEqual;var g={queue:[],blocking:true};(function(){var s=l.location||{search:"",protocol:"file:"},v=s.search.slice(1).split("&");for(var u=0;u<v.length;u++){v[u]=decodeURIComponent(v[u]);if(v[u]==="noglobals"){v.splice(u,1);u--;g.noglobals=true}else{if(v[u].search("=")>-1){v.splice(u,1);u--}}}g.filters=v;d.isLocal=!!(s.protocol==="file:")})();if(typeof exports==="undefined"||typeof require==="undefined"){n(l,d);l.QUnit=d}else{n(exports,d);exports.QUnit=d}n(d,{config:g,init:function(){n(g,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,updateRate:1000,blocking:false,autostart:true,autorun:false,assertions:[],filters:[],queue:[]});var v=a("qunit-tests"),u=a("qunit-banner"),s=a("qunit-testresult");if(v){v.innerHTML=""}if(u){u.className=""}if(s){s.parentNode.removeChild(s)}},reset:function(){if(l.jQuery){jQuery("#main, #qunit-fixture").html(g.fixture)}},triggerEvent:function(v,s,u){if(document.createEvent){u=document.createEvent("MouseEvents");u.initMouseEvent(s,true,true,v.ownerDocument.defaultView,0,0,0,0,0,false,false,false,false,0,null);v.dispatchEvent(u)}else{if(v.fireEvent){v.fireEvent("on"+s)}}},is:function(s,u){return d.objectType(u)==s},objectType:function(u){if(typeof u==="undefined"){return"undefined"}if(u===null){return"null"}var s=Object.prototype.toString.call(u).match(/^\[object\s(.*)\]$/)[1]||"";switch(s){case"Number":if(isNaN(u)){return"nan"}else{return"number"}case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return s.toLowerCase()}if(typeof u==="object"){return"object"}return undefined},begin:function(){},done:function(s,u){},log:function(s,u){},testStart:function(s,u){},testDone:function(s,u,v){},moduleStart:function(s,u){},moduleDone:function(s,u,v){}});if(typeof document==="undefined"||document.readyState==="complete"){g.autorun=true}i(l,"load",function(){d.begin();var w=n({},g);d.init();n(g,w);g.blocking=false;var A=a("qunit-userAgent");if(A){A.innerHTML=navigator.userAgent}var u=a("qunit-header");if(u){u.innerHTML='<a href="'+location.href+'">'+u.innerHTML+"</a>"}var z=a("qunit-testrunner-toolbar");if(z){z.style.display="none";var y=document.createElement("input");y.type="checkbox";y.id="qunit-filter-pass";y.disabled=true;i(y,"click",function(){var B=document.getElementsByTagName("li");for(var C=0;C<B.length;C++){if(B[C].className.indexOf("pass")>-1){B[C].style.display=y.checked?"none":""}}});z.appendChild(y);var v=document.createElement("label");v.setAttribute("for","qunit-filter-pass");v.innerHTML="Hide passed tests";z.appendChild(v);var x=document.createElement("input");x.type="checkbox";x.id="qunit-filter-missing";x.disabled=true;i(x,"click",function(){var B=document.getElementsByTagName("li");for(var C=0;C<B.length;C++){if(B[C].className.indexOf("fail")>-1&&B[C].innerHTML.indexOf("missing test - untested code is broken code")>-1){B[C].parentNode.parentNode.style.display=x.checked?"none":"block"}}});z.appendChild(x);v=document.createElement("label");v.setAttribute("for","qunit-filter-missing");v.innerHTML="Hide missing tests (untested code is broken code)";z.appendChild(v)}var s=a("main")||a("qunit-fixture");if(s){g.fixture=s.innerHTML}if(g.autostart){d.start()}});function j(){if(g.doneTimer&&l.clearTimeout){l.clearTimeout(g.doneTimer);g.doneTimer=null}if(g.queue.length){g.doneTimer=l.setTimeout(function(){if(!g.queue.length){j()}else{m(j)}},13);return}g.autorun=true;if(g.currentModule){d.moduleDone(g.currentModule,g.moduleStats.bad,g.moduleStats.all)}var u=a("qunit-banner"),w=a("qunit-tests"),v=["Tests completed in ",+new Date-g.started," milliseconds.<br/>",'<span class="passed">',g.stats.all-g.stats.bad,'</span> tests of <span class="total">',g.stats.all,'</span> passed, <span class="failed">',g.stats.bad,"</span> failed."].join("");if(u){u.className=(g.stats.bad?"qunit-fail":"qunit-pass")}if(w){var s=a("qunit-testresult");if(!s){s=document.createElement("p");s.id="qunit-testresult";s.className="result";w.parentNode.insertBefore(s,w.nextSibling)}s.innerHTML=v}d.done(g.stats.bad,g.stats.all)}function p(s){var u=g.filters.length,x=false;if(!u){return true}while(u--){var v=g.filters[u],w=v.charAt(0)=="!";if(w){v=v.slice(1)}if(s.indexOf(v)!==-1){return !w}if(w){x=true}}return x}function k(u){u=u===null?"":u+"";return u.replace(/[\&"<>\\]/g,function(v){switch(v){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return v}})}function o(s,x,w,v){v=k(v)||(s?"okay":"failed");v='<span class="test-message">'+v+"</span>";w=k(d.jsDump.parse(w));x=k(d.jsDump.parse(x));var u=v+', expected: <span class="test-expected">'+w+"</span>";if(x!=w){u+=' result: <span class="test-actual">'+x+"</span>, diff: "+d.diff(w,x)}d.log(s,u);g.assertions.push({result:!!s,message:u})}function m(s){g.queue.push(s);if(g.autorun&&!g.blocking){c()}}function c(){var s=(new Date()).getTime();while(g.queue.length&&!g.blocking){if(g.updateRate<=0||(((new Date()).getTime()-s)<g.updateRate)){g.queue.shift()()}else{setTimeout(c,13);break}}}function b(){g.pollution=[];if(g.noglobals){for(var s in l){g.pollution.push(s)}}}function f(v){var u=g.pollution;b();var s=q(u,g.pollution);if(s.length>0){ok(false,"Introduced global variable(s): "+s.join(", "));g.expected++}var w=q(g.pollution,u);if(w.length>0){ok(false,"Deleted global variable(s): "+w.join(", "));g.expected++}}function q(v,u){var s=v.slice();for(var x=0;x<s.length;x++){for(var w=0;w<u.length;w++){if(s[x]===u[w]){s.splice(x,1);x--;break}}}return s}function h(u,s,v){if(typeof console!=="undefined"&&console.error&&console.warn){console.error(u);console.error(s);console.warn(v.toString())}else{if(l.opera&&opera.postError){opera.postError(u,s,v.toString)}}}function n(u,s){for(var v in s){u[v]=s[v]}return u}function i(v,u,s){if(v.addEventListener){v.addEventListener(u,s,false)}else{if(v.attachEvent){v.attachEvent("on"+u,s)}else{s()}}}function a(s){return !!(typeof document!=="undefined"&&document&&document.getElementById)&&document.getElementById(s)}d.equiv=function(){var w;var x=[];var s=[];function v(A,z,y){var B=d.objectType(A);if(B){if(d.objectType(z[B])==="function"){return z[B].apply(z,y)}else{return z[B]}}}var u=function(){function y(z,A){if(z instanceof A.constructor||A instanceof z.constructor){return A==z}else{return A===z}}return{string:y,"boolean":y,number:y,"null":y,"undefined":y,nan:function(z){return isNaN(z)},date:function(z,A){return d.objectType(z)==="date"&&A.valueOf()===z.valueOf()},regexp:function(z,A){return d.objectType(z)==="regexp"&&A.source===z.source&&A.global===z.global&&A.ignoreCase===z.ignoreCase&&A.multiline===z.multiline},"function":function(){var z=x[x.length-1];return z!==Object&&typeof z!=="undefined"},array:function(A,C){var E,D,B;var z;if(!(d.objectType(A)==="array")){return false}z=C.length;if(z!==A.length){return false}s.push(C);for(E=0;E<z;E++){B=false;for(D=0;D<s.length;D++){if(s[D]===C[E]){B=true}}if(!B&&!w(C[E],A[E])){s.pop();return false}}s.pop();return true},object:function(A,C){var F,D,B;var z=true;var E=[],G=[];if(C.constructor!==A.constructor){return false}x.push(C.constructor);s.push(C);for(F in C){B=false;for(D=0;D<s.length;D++){if(s[D]===C[F]){B=true}}E.push(F);if(!B&&!w(C[F],A[F])){z=false;break}}x.pop();s.pop();for(F in A){G.push(F)}return z&&w(E.sort(),G.sort())}}}();w=function(){var y=Array.prototype.slice.apply(arguments);if(y.length<2){return true}return(function(A,z){if(A===z){return true}else{if(A===null||z===null||typeof A==="undefined"||typeof z==="undefined"||d.objectType(A)!==d.objectType(z)){return false}else{return v(A,u,[z,A])}}})(y[0],y[1])&&arguments.callee.apply(this,y.splice(1,y.length-1))};return w}();d.jsDump=(function(){function s(z){return'"'+z.toString().replace(/"/g,'\\"')+'"'}function u(z){return z+""}function w(E,z,B){var C=v.separator(),D=v.indent(),A=v.indent(1);if(z.join){z=z.join(","+C+A)}if(!z){return E+B}return[E,A+z,D+B].join(C)}function y(z){var B=z.length,A=Array(B);this.up();while(B--){A[B]=this.parse(z[B])}this.down();return w("[",A,"]")}var x=/^function (\w+)/;var v={parse:function(A,z){var B=this.parsers[z||this.typeOf(A)];z=typeof B;return z=="function"?B.call(this,A):z=="string"?B:this.parsers.error},typeOf:function(A){var z;if(A===null){z="null"}else{if(typeof A==="undefined"){z="undefined"}else{if(d.is("RegExp",A)){z="regexp"}else{if(d.is("Date",A)){z="date"}else{if(d.is("Function",A)){z="function"}else{if(A.setInterval&&A.document&&!A.nodeType){z="window"}else{if(A.nodeType===9){z="document"}else{if(A.nodeType){z="node"}else{if(typeof A==="object"&&typeof A.length==="number"&&A.length>=0){z="array"}else{z=typeof A}}}}}}}}}return z},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(z){if(!this.multiline){return""}var A=this.indentChar;if(this.HTML){A=A.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")}return Array(this._depth_+(z||0)).join(A)},up:function(z){this._depth_+=z||1},down:function(z){this._depth_-=z||1},setParser:function(z,A){this.parsers[z]=A},quote:s,literal:u,join:w,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(B){var A="function",z="name" in B?B.name:(x.exec(B)||[])[1];if(z){A+=" "+z}A+="(";A=[A,this.parse(B,"functionArgs"),"){"].join("");return w(A,this.parse(B,"functionCode"),"}")},array:y,nodelist:y,arguments:y,object:function(B){var z=[];this.up();for(var A in B){z.push(this.parse(A,"key")+": "+this.parse(B[A]))}this.down();return w("{",z,"}")},node:function(D){var C=this.HTML?"&lt;":"<",F=this.HTML?"&gt;":">";var z=D.nodeName.toLowerCase(),B=C+z;for(var A in this.DOMAttrs){var E=D[this.DOMAttrs[A]];if(E){B+=" "+A+"="+this.parse(E,"attribute")}}return B+F+C+"/"+z+F},functionArgs:function(B){var z=B.length;if(!z){return""}var A=Array(z);while(z--){A[z]=String.fromCharCode(97+z)}return" "+A.join(", ")+" "},key:s,functionCode:"[code]",attribute:s,string:s,date:s,regexp:u,number:u,"boolean":u},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:false,indentChar:"   ",multiline:false};return v})();function r(s){var u="",w;for(var v=0;s[v];v++){w=s[v];if(w.nodeType===3||w.nodeType===4){u+=w.nodeValue}else{if(w.nodeType!==8){u+=r(w.childNodes)}}}return u}d.diff=(function(){function s(x,y){var v=new Object();var w=new Object();for(var u=0;u<y.length;u++){if(v[y[u]]==null){v[y[u]]={rows:new Array(),o:null}}v[y[u]].rows.push(u)}for(var u=0;u<x.length;u++){if(w[x[u]]==null){w[x[u]]={rows:new Array(),n:null}}w[x[u]].rows.push(u)}for(var u in v){if(v[u].rows.length==1&&typeof(w[u])!="undefined"&&w[u].rows.length==1){y[v[u].rows[0]]={text:y[v[u].rows[0]],row:w[u].rows[0]};x[w[u].rows[0]]={text:x[w[u].rows[0]],row:v[u].rows[0]}}}for(var u=0;u<y.length-1;u++){if(y[u].text!=null&&y[u+1].text==null&&y[u].row+1<x.length&&x[y[u].row+1].text==null&&y[u+1]==x[y[u].row+1]){y[u+1]={text:y[u+1],row:y[u].row+1};x[y[u].row+1]={text:x[y[u].row+1],row:u+1}}}for(var u=y.length-1;u>0;u--){if(y[u].text!=null&&y[u-1].text==null&&y[u].row>0&&x[y[u].row-1].text==null&&y[u-1]==x[y[u].row-1]){y[u-1]={text:y[u-1],row:y[u].row-1};x[y[u].row-1]={text:x[y[u].row-1],row:u-1}}}return{o:x,n:y}}return function(A,B){A=A.replace(/\s+$/,"");B=B.replace(/\s+$/,"");var v=s(A==""?[]:A.split(/\s+/),B==""?[]:B.split(/\s+/));var z="";var u=A.match(/\s+/g);if(u==null){u=[" "]}else{u.push(" ")}var x=B.match(/\s+/g);if(x==null){x=[" "]}else{x.push(" ")}if(v.n.length==0){for(var w=0;w<v.o.length;w++){z+="<del>"+v.o[w]+u[w]+"</del>"}}else{if(v.n[0].text==null){for(B=0;B<v.o.length&&v.o[B].text==null;B++){z+="<del>"+v.o[B]+u[B]+"</del>"}}for(var w=0;w<v.n.length;w++){if(v.n[w].text==null){z+="<ins>"+v.n[w]+x[w]+"</ins>"}else{var y="";for(B=v.n[w].row+1;B<v.o.length&&v.o[B].text==null;B++){y+="<del>"+v.o[B]+u[B]+"</del>"}z+=" "+v.n[w].text+x[w]+y}}}return z}})()})(this);(function(F,V){var ac,Y=Array.prototype.slice,R=decodeURIComponent,ak=F.param,ai,Z,K,aj=F.bbq=F.bbq||{},T,L,ab,ag=F.event.special,ah="hashchange",U="querystring",P="fragment",H="elemUrlAttr",ae="location",aa="href",N="src",I=/^.*\?|#.*$/g,J=/^.*\#/,ad,Q={};function M(a){return typeof a==="string"}function S(a){var b=Y.call(arguments,1);return function(){return a.apply(this,b.concat(Y.call(arguments)))}}function X(a){return a.replace(/^[^#]*#?(.*)$/,"$1")}function W(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function af(i,c,k,h,j){var a,d,f,b,g;if(h!==ac){f=k.match(i?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);g=f[3]||"";if(j===2&&M(h)){d=h.replace(i?J:I,"")}else{b=Z(f[2]);h=M(h)?Z[i?P:U](h):h;d=j===2?h:j===1?F.extend({},h,b):F.extend({},b,h);d=ak(d);if(i){d=d.replace(ad,R)}}a=f[1]+(i?"#":d||!f[1]?"?":"")+d+g}else{a=c(k!==ac?k:V[ae][aa])}return a}ak[U]=S(af,0,W);ak[P]=ai=S(af,1,X);ai.noEscape=function(a){a=a||"";var b=F.map(a.split(""),encodeURIComponent);ad=new RegExp(b.join("|"),"g")};ai.noEscape(",/");F.deparam=Z=function(a,d){var b={},c={"true":!0,"false":!1,"null":null};F.each(a.replace(/\+/g," ").split("&"),function(l,g){var m=g.split("="),h=R(m[0]),n,i=b,k=0,f=h.split("]["),j=f.length-1;if(/\[/.test(f[0])&&/\]$/.test(f[j])){f[j]=f[j].replace(/\]$/,"");f=f.shift().split("[").concat(f);j=f.length-1}else{j=0}if(m.length===2){n=R(m[1]);if(d){n=n&&!isNaN(n)?+n:n==="undefined"?ac:c[n]!==ac?c[n]:n}if(j){for(;k<=j;k++){h=f[k]===""?i.length:f[k];i=i[h]=k<j?i[h]||(f[k+1]&&isNaN(f[k+1])?{}:[]):n}}else{if(F.isArray(b[h])){b[h].push(n)}else{if(b[h]!==ac){b[h]=[b[h],n]}else{b[h]=n}}}}else{if(h){b[h]=d?ac:""}}});return b};function G(a,c,b){if(c===ac||typeof c==="boolean"){b=c;c=ak[a?P:U]()}else{c=M(c)?c.replace(a?J:I,""):c}return Z(c,b)}Z[U]=S(G,0);Z[P]=K=S(G,1);F[H]||(F[H]=function(a){return F.extend(Q,a)})({a:aa,base:aa,iframe:N,img:N,input:N,form:"action",link:aa,script:N});ab=F[H];function O(a,c,b,d){if(!M(b)&&typeof b!=="object"){d=b;b=c;c=ac}return this.each(function(){var f=F(this),h=c||ab()[(this.nodeName||"").toLowerCase()]||"",g=h&&f.attr(h)||"";f.attr(h,ak[a](g,b,d))})}F.fn[U]=S(O,U);F.fn[P]=S(O,P);aj.pushState=T=function(a,d){if(M(a)&&/^#/.test(a)&&d===ac){d=2}var b=a!==ac,c=ai(V[ae][aa],b?a:{},b?d:2);V[ae][aa]=c+(/#/.test(c)?"":"#")};aj.getState=L=function(b,a){return b===ac||typeof b==="boolean"?K(b):K(a)[b]};aj.removeState=function(b){var a={};if(b!==ac){a=L();F.each(F.isArray(b)?b:arguments,function(c,d){delete a[d]})}T(a,2)};ag[ah]=F.extend(ag[ah],{add:function(c){var a;function b(d){var f=d[P]=ai();d.getState=function(h,g){return h===ac||typeof h==="boolean"?Z(f,h):Z(f,g)[h]};a.apply(this,arguments)}if(F.isFunction(c)){a=c;return b}else{a=c.handler;c.handler=b}}})})(jQuery,this);(function(p,q,y){var o,n=p.event.special,x="location",w="hashchange",m="href",u=p.browser,s=document.documentMode,r=u.msie&&(s===y||s<8),v="on"+w in q&&!r;function z(a){a=a||q[x][m];return a.replace(/^[^#]*#?(.*)$/,"$1")}p[w+"Delay"]=100;n[w]=p.extend(n[w],{setup:function(){if(v){return false}p(o.start)},teardown:function(){if(v){return false}p(o.stop)}});o=(function(){var a={},b,g,f,c;function d(){f=c=function(h){return h};if(r){g=p('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;c=function(){return z(g.document[x][m])};f=function(h,j){if(h!==j){var i=g.document;i.open().close();i[x].hash="#"+h}};f(z())}}a.start=function(){if(b){return}var h=z();f||d();(function i(){var j=z(),k=c(h);if(j!==h){f(h=j,k);p(q).trigger(w)}else{if(k!==h){q[x][m]=q[x][m].replace(/#.*/,"")+"#"+k}}b=setTimeout(i,p[w+"Delay"])})()};a.stop=function(){if(!g){b&&clearTimeout(b);b=0}};return a})()})(jQuery,this);
/*!
 * jQuery Form Plugin
 * version: 2.72 (28-APR-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
;(function(b){b.fn.ajaxSubmit=function(w){if(!this.length){a("ajaxSubmit: skipping submit process - no element selected");return this}if(typeof w=="function"){w={success:w}}var i=this.attr("action");var d=(typeof i==="string")?b.trim(i):"";if(d){d=(d.match(/^([^#]+)/)||[])[1]}d=d||window.location.href||"";w=b.extend(true,{url:d,success:b.ajaxSettings.success,type:this[0].getAttribute("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},w);var x={};this.trigger("form-pre-serialize",[this,w,x]);if(x.veto){a("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(w.beforeSerialize&&w.beforeSerialize(this,w)===false){a("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var g,r,o=this.formToArray(w.semantic);if(w.data){w.extraData=w.data;for(g in w.data){if(w.data[g] instanceof Array){for(var j in w.data[g]){o.push({name:g,value:w.data[g][j]})}}else{r=w.data[g];r=b.isFunction(r)?r():r;o.push({name:g,value:r})}}}if(w.beforeSubmit&&w.beforeSubmit(o,this,w)===false){a("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[o,this,w,x]);if(x.veto){a("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var c=b.param(o);if(w.type.toUpperCase()=="GET"){w.url+=(w.url.indexOf("?")>=0?"&":"?")+c;w.data=null}else{w.data=c}var u=this,m=[];if(w.resetForm){m.push(function(){u.resetForm()})}if(w.clearForm){m.push(function(){u.clearForm()})}if(!w.dataType&&w.target){var s=w.success||function(){};m.push(function(n){var k=w.replaceTarget?"replaceWith":"html";b(w.target)[k](n).each(s,arguments)})}else{if(w.success){m.push(w.success)}}w.success=function(y,n,z){var v=w.context||w;for(var q=0,k=m.length;q<k;q++){m[q].apply(v,[y,n,z||u,u])}};var h=b("input:file",this).length>0;var f="multipart/form-data";var l=(u.attr("enctype")==f||u.attr("encoding")==f);if(w.iframe!==false&&(h||w.iframe||l)){if(w.closeKeepAlive){b.get(w.closeKeepAlive,p)}else{p()}}else{b.ajax(w)}this.trigger("form-submit-notify",[this,w]);return this;function p(){var v=u[0];if(b(":input[name=submit],:input[id=submit]",v).length){alert('Error: Form elements must not have name or id of "submit".');return}var F=b.extend(true,{},b.ajaxSettings,w);F.context=F.context||F;var I="jqFormIO"+(new Date().getTime()),C="_"+I;var z=b('<iframe id="'+I+'" name="'+I+'" src="'+F.iframeSrc+'" />');var D=z[0];z.css({position:"absolute",top:"-1000px",left:"-1000px"});var A={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(n){var Q=(n==="timeout"?"timeout":"aborted");a("aborting upload... "+Q);this.aborted=1;z.attr("src",F.iframeSrc);A.error=Q;F.error&&F.error.call(F.context,A,Q,Q);M&&b.event.trigger("ajaxError",[A,F,Q]);F.complete&&F.complete.call(F.context,A,Q)}};var M=F.global;if(M&&!b.active++){b.event.trigger("ajaxStart")}if(M){b.event.trigger("ajaxSend",[A,F])}if(F.beforeSend&&F.beforeSend.call(F.context,A,F)===false){if(F.global){b.active--}return}if(A.aborted){return}var L=0,E;var B=v.clk;if(B){var J=B.name;if(J&&!B.disabled){F.extraData=F.extraData||{};F.extraData[J]=B.value;if(B.type=="image"){F.extraData[J+".x"]=v.clk_x;F.extraData[J+".y"]=v.clk_y}}}function K(){var S=u.attr("target"),Q=u.attr("action");v.setAttribute("target",I);if(v.getAttribute("method")!="POST"){v.setAttribute("method","POST")}if(v.getAttribute("action")!=F.url){v.setAttribute("action",F.url)}if(!F.skipEncodingOverride){u.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(F.timeout){E=setTimeout(function(){L=true;H(true)},F.timeout)}var R=[];try{if(F.extraData){for(var T in F.extraData){R.push(b('<input type="hidden" name="'+T+'" value="'+F.extraData[T]+'" />').appendTo(v)[0])}}z.appendTo("body");D.attachEvent?D.attachEvent("onload",H):D.addEventListener("load",H,false);v.submit()}finally{v.setAttribute("action",Q);if(S){v.setAttribute("target",S)}else{u.removeAttr("target")}b(R).remove()}}if(F.forceSync){K()}else{setTimeout(K,10)}var O,P,N=50,y;function H(V){if(A.aborted||y){return}if(V===true&&A){A.abort("timeout");return}var U=D.contentWindow?D.contentWindow.document:D.contentDocument?D.contentDocument:D.document;if(!U||U.location.href==F.iframeSrc){if(!L){return}}D.detachEvent?D.detachEvent("onload",H):D.removeEventListener("load",H,false);var R=true;try{if(L){throw"timeout"}var W=F.dataType=="xml"||U.XMLDocument||b.isXMLDoc(U);a("isXml="+W);if(!W&&window.opera&&(U.body==null||U.body.innerHTML=="")){if(--N){a("requeing onLoad callback, DOM not available");setTimeout(H,250);return}}A.responseText=U.body?U.body.innerHTML:U.documentElement?U.documentElement.innerHTML:null;A.responseXML=U.XMLDocument?U.XMLDocument:U;if(!A.responseText&&A.responseXML&&!F.dataType){F.dataType="xml"}A.getResponseHeader=function(Y){var X={"content-type":F.dataType};return X[Y]};var T=/(json|script|text)/.test(F.dataType);if(T||F.textarea){var Q=U.getElementsByTagName("textarea")[0];if(Q){A.responseText=Q.value}else{if(T){var S=U.getElementsByTagName("pre")[0];var n=U.getElementsByTagName("body")[0];if(S){A.responseText=S.textContent}else{if(n){A.responseText=n.innerHTML}}}}}else{if(F.dataType=="xml"&&!A.responseXML&&A.responseText!=null){A.responseXML=G(A.responseText)}}O=k(A,F.dataType,F)}catch(V){a("error caught:",V);R=false;A.error=V;F.error&&F.error.call(F.context,A,"error",V);M&&b.event.trigger("ajaxError",[A,F,V])}if(A.aborted){a("upload aborted");R=false}if(R){F.success&&F.success.call(F.context,O,"success",A);M&&b.event.trigger("ajaxSuccess",[A,F])}M&&b.event.trigger("ajaxComplete",[A,F]);if(M&&!--b.active){b.event.trigger("ajaxStop")}F.complete&&F.complete.call(F.context,A,R?"success":"error");y=true;if(F.timeout){clearTimeout(E)}setTimeout(function(){z.removeData("form-plugin-onload");z.remove();A.responseXML=null},100)}var G=b.parseXML||function(n,Q){if(window.ActiveXObject){Q=new ActiveXObject("Microsoft.XMLDOM");Q.async="false";Q.loadXML(n)}else{Q=(new DOMParser()).parseFromString(n,"text/xml")}return(Q&&Q.documentElement&&Q.documentElement.nodeName!="parsererror")?Q:null};var q=b.parseJSON||function(n){return window["eval"]("("+n+")")};var k=function(U,S,R){var Q=U.getResponseHeader("content-type")||"",n=S==="xml"||!S&&Q.indexOf("xml")>=0,T=n?U.responseXML:U.responseText;if(n&&T.documentElement.nodeName==="parsererror"){b.error&&b.error("parsererror")}if(R&&R.dataFilter){T=R.dataFilter(T,S)}if(typeof T==="string"){if(S==="json"||!S&&Q.indexOf("json")>=0){T=q(T)}else{if(S==="script"||!S&&Q.indexOf("javascript")>=0){b.globalEval(T)}}}return T}}};b.fn.ajaxForm=function(c){if(this.length===0){var d={s:this.selector,c:this.context};if(!b.isReady&&d.s){a("DOM not ready, queuing ajaxForm");b(function(){b(d.s,d.c).ajaxForm(c)});return this}a("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(f){if(!f.isDefaultPrevented()){f.preventDefault();b(this).ajaxSubmit(c)}}).bind("click.form-plugin",function(j){var i=j.target;var g=b(i);if(!(g.is(":submit,input:image"))){var f=g.closest(":submit");if(f.length==0){return}i=f[0]}var h=this;h.clk=i;if(i.type=="image"){if(j.offsetX!=undefined){h.clk_x=j.offsetX;h.clk_y=j.offsetY}else{if(typeof b.fn.offset=="function"){var k=g.offset();h.clk_x=j.pageX-k.left;h.clk_y=j.pageY-k.top}else{h.clk_x=j.pageX-i.offsetLeft;h.clk_y=j.pageY-i.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(r){var q=[];if(this.length===0){return q}var d=this[0];var h=r?d.getElementsByTagName("*"):d.elements;if(!h){return q}var l,k,g,s,f,o,c;for(l=0,o=h.length;l<o;l++){f=h[l];g=f.name;if(!g){continue}if(r&&d.clk&&f.type=="image"){if(!f.disabled&&d.clk==f){q.push({name:g,value:b(f).val()});q.push({name:g+".x",value:d.clk_x},{name:g+".y",value:d.clk_y})}continue}s=b.fieldValue(f,true);if(s&&s.constructor==Array){for(k=0,c=s.length;k<c;k++){q.push({name:g,value:s[k]})}}else{if(s!==null&&typeof s!="undefined"){q.push({name:g,value:s})}}}if(!r&&d.clk){var m=b(d.clk),p=m[0];g=p.name;if(g&&!p.disabled&&p.type=="image"){q.push({name:g,value:m.val()});q.push({name:g+".x",value:d.clk_x},{name:g+".y",value:d.clk_y})}}return q};b.fn.formSerialize=function(c){return b.param(this.formToArray(c))};b.fn.fieldSerialize=function(d){var c=[];this.each(function(){var j=this.name;if(!j){return}var g=b.fieldValue(this,d);if(g&&g.constructor==Array){for(var h=0,f=g.length;h<f;h++){c.push({name:j,value:g[h]})}}else{if(g!==null&&typeof g!="undefined"){c.push({name:this.name,value:g})}}});return b.param(c)};b.fn.fieldValue=function(j){for(var h=[],f=0,c=this.length;f<c;f++){var g=this[f];var d=b.fieldValue(g,j);if(d===null||typeof d=="undefined"||(d.constructor==Array&&!d.length)){continue}d.constructor==Array?b.merge(h,d):h.push(d)}return h};b.fieldValue=function(c,k){var f=c.name,q=c.type,r=c.tagName.toLowerCase();if(k===undefined){k=true}if(k&&(!f||c.disabled||q=="reset"||q=="button"||(q=="checkbox"||q=="radio")&&!c.checked||(q=="submit"||q=="image")&&c.form&&c.form.clk!=c||r=="select"&&c.selectedIndex==-1)){return null}if(r=="select"){var l=c.selectedIndex;if(l<0){return null}var o=[],d=c.options;var h=(q=="select-one");var m=(h?l+1:d.length);for(var g=(h?l:0);g<m;g++){var j=d[g];if(j.selected){var p=j.value;if(!p){p=(j.attributes&&j.attributes.value&&!(j.attributes.value.specified))?j.text:j.value}if(h){return p}o.push(p)}}return o}return b(c).val()};b.fn.clearForm=function(){return this.each(function(){b("input,select,textarea",this).clearFields()})};b.fn.clearFields=b.fn.clearInputs=function(){return this.each(function(){var d=this.type,c=this.tagName.toLowerCase();if(d=="text"||d=="password"||c=="textarea"){this.value=""}else{if(d=="checkbox"||d=="radio"){this.checked=false}else{if(c=="select"){this.selectedIndex=-1}}}})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};b.fn.enable=function(c){if(c===undefined){c=true}return this.each(function(){this.disabled=!c})};b.fn.selected=function(c){if(c===undefined){c=true}return this.each(function(){var d=this.type;if(d=="checkbox"||d=="radio"){this.checked=c}else{if(this.tagName.toLowerCase()=="option"){var f=b(this).parent("select");if(c&&f[0]&&f[0].type=="select-one"){f.find("option").selected(false)}this.selected=c}}})};function a(){if(b.fn.ajaxSubmit.debug){var c="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(c)}else{if(window.opera&&window.opera.postError){window.opera.postError(c)}}}}})(jQuery);$.fn.imagesLoaded=function(f,c){var b=arguments,a=this.filter("img"),d=a.length-1;a.bind("load",function(g){if(c){!d--&&f.call(a,g)}else{f.call(this,g)}}).each(function(){if(this.complete||this.complete===undefined){this.src=this.src+"?"+parseInt(Math.random(1)*100000000)}})};Class("ActionTooltip")({prototype:{init:function(b,a){var c=this;this.element=typeof b=="string"?$(b):b;this.tooltip=this.element.find(".tooltip");this._get_tooltip_name(this.element);this._hoverTooltip()},_get_tooltip_name:function(a){this.tooltip_name="";if(a.find(".flag-tip").attr("data-post-id")!==undefined){this.tooltip_name=a.find(".flag-tip").attr("data-post-id")}if((this.tooltip_name=="")&&(a.find(".thumb-tip").attr("data-post-id")!==undefined)){this.tooltip_name=a.find(".thumb-tip").attr("data-post-id")}},_hoverTooltip:function(){var a=this;this.element.hover(function(b){a._get_tooltip_name($(b.currentTarget));a.show()},function(){a.hide()})},show:function(){isUnmoderated=this.tooltip.filter(".tooltip[data-post-id="+this.tooltip_name+"]").parent().parent().parent().hasClass("voice-unmoderated");if(isUnmoderated){this.tooltip.filter(".thumb-tip[data-post-id="+this.tooltip_name+"]").show()}else{if(!this.tooltip.filter(".flags-tip[data-post-id="+this.tooltip_name+"]").siblings("a").hasClass("flag-pressed")&&!isUnmoderated){this.tooltip.filter(".flags-tip[data-post-id="+this.tooltip_name+"]").siblings("a").addClass("flag-over").removeClass("flag")}this.tooltip.filter(".flag-tip[data-post-id="+this.tooltip_name+"]").show()}this.tooltip.filter(".tooltip[data-post-id="+this.tooltip_name+"]").parent().parent().parent().addClass("bring-up").parent().addClass("bring-up")},hide:function(){var b=this.tooltip.filter(".tooltip[data-post-id="+this.tooltip_name+"]").siblings("a"),c=this.tooltip.filter(".tooltip[data-post-id="+this.tooltip_name+"]").parent().parent().parent(),a=c.hasClass("voice-unmoderated");if(!b.hasClass("flag-pressed")&&!a){this.tooltip.filter(".tooltip[data-post-id="+this.tooltip_name+"]").siblings("a").addClass("flag").removeClass("flag-over")}if(this.tooltip.filter(".tooltip[data-post-id="+this.tooltip_name+"]").find(".flag-tooltip span").html()=="Thank you for your vote!"){this.tooltip.filter(".tooltip[data-post-id="+this.tooltip_name+"]").find(".flag-tooltip span").html("Vote already cast")}this.tooltip.hide();c.removeClass("bring-up").parent().removeClass("bring-up")}}});Class("Carousel")({prototype:{init:function(b,a){this.options={description:"No description set.",title:"No title set.",index:0,images:[],picture:null,DEFAULT_IMAGE:"https://s3.amazonaws.com/crowdvoice-production-bucket/link-default.png",tooltipLink:null};$.extend(this.options,a);this.element=typeof b=="string"?$(b):b;this.picture=$(document.createElement("img")).css({width:89}).attr({id:"img_74dd65a7c6"});$(".carousel-image").append(this.picture);this._bindEvents()},loadHash:function(f){this.index=0;this.title=f.title;this.description=f.description;this.images=[];this.picture.attr("src",this.options.DEFAULT_IMAGE);var b=this;if(f.error){this.clear();tt_link&&tt_link.hide();$(".tooltip.notice .moderate-tooltip").html(f.error);$(".tooltip.notice").show()}else{for(var d=0;d<f.images.length;d++){var c=f.images[d];var a=new Image();a.src=c;a.onload=function(){if(this.width>=50&&this.height>=50){b.addImage(this.src);if(b.images.length>=1&&b.picture.attr("src")==b.options.DEFAULT_IMAGE){var g=b.current();if(g!=""){b.picture.show();b.picture.attr("src",b.current());$("#link_image").val(b.current());b.update()}}}}}this.update(this.current());this.update_description()}},addImage:function(a){this.images.push(a);this.update(this.current())},next:function(){this.index++;if(this.index>=this.images.length){this.index=this.images.length-1}return this.current()},prev:function(){this.index--;if(this.index<0){this.index=0}return this.current()},current:function(){return this.images.length==0?this.options.DEFAULT_IMAGE:this.images[this.index]},label:function(){return this.images.length==0?"no images found":(this.index+1)+" of "+this.images.length},serialize:function(){return({description:this.description,title:this.title,images:this.images,current:this.current()})},clear:function(){$(".carousel-counter").text("");$("#link_image").val("");$("#link_description").val("");this.hide()},show:function(){$(".tooltip-positioner.normal").hide();$(".tooltip-positioner.carousel").show()},hide:function(){$(".tooltip-positioner.carousel").hide();$(".tooltip-positioner.normal").show()},update:function(a){$(".carousel-image img").attr("src",a);$(".carousel-counter").text(this.label());$("#link_image").val(this.current());$("#post_remote_image_url").val(a)},update_description:function(){var a=this;$("#link_title").val(a.title);if(!($("#post_source_url").val().indexOf(".pdf")>0)){$("#link_description").val(a.description)}$("#link_image").val(a.current()==$(".carousel-loader").attr("src")?"":a.current())},_bindEvents:function(){var a=this;$("#carousel_right_arrow").unbind();$("#carousel_right_arrow").click(function(){a.update(a.next())});$("#carousel_left_arrow").unbind();$("#carousel_left_arrow").click(function(){a.update(a.prev())})}}});Class("Overlay")({prototype:{init:function(b,a){this.options={overlay:"#overlay",overlayContainer:".overlay-container",linkOverlayContainer:".link-overlay",arrows:".arrows",closeBtn:".close-voice-container",content:{}};$.extend(this.options,a);this.overlay=$(this.options.overlay);this.overlayContainer=$(this.options.overlayContainer);this.linkOverlayContainer=$(this.options.linkOverlayContainer);this.overlayTemplate=this.overlayContainer.html();this.linkOverlayTemplate=this.linkOverlayContainer.html();this.win=$(window);this.body=$("body");this._elementSelector=b;this._initZeroClipboard();this._bindEvents();this._alignMagnifier()},_initZeroClipboard:function(){var a=this;ZeroClipboard.setMoviePath("/javascripts/ZeroClipboard10.swf");this.zeroclip=new ZeroClipboard.Client();this.zeroclip.addEventListener("onMouseDown",function(){a.zeroclip.setText($(".link-overlay iframe").attr("src"))});this.zeroclip.addEventListener("complete",function(b,c){alert("copied!")})},unbindEvents:function(){this.element.find(".voice-cont").unbind("click");this.element.find(".comments").unbind("click");return this},bindEvents:function(){var a=this;this.element=$(this._elementSelector);this.element.find(".voice-cont").click(function(){a.buildOverlay($(this).find(".source-url"));return false});this.element.find(".comments").click(function(){a.buildOverlay($(this).parent().prev().find(".source-url"));return false})},_bindEvents:function(){var a=this;this.bindEvents();$(this.options.closeBtn).live("click",function(){a.hide();return false});this.overlay.click(function(){a.hide()});this.body.bind("keydown",function(b){if(b.keyCode==27&&a.visible){a.hide()}});$(".voice-cont").css("margin-top","0","margin-left","0");if(!window.isDevice){$(".voice-arrow").live("mouseover",function(){$(this).next(".tooltip-arrow").show()}).live("mouseout",function(){$(this).next(".tooltip-arrow").hide()})}$(".voice-arrow").live("click",function(){a.buildOverlay($(".source-url.post-"+$(this).data("id")));return false});$(".back-to-voice span").live("click",function(){a._hideLinkOver()})},_showLinkOver:function(){var a=this;this.linkOverlayContainer.delay(200).slideDown(function(){a.zeroclip.glue("d_clip_button","d_clip_container");$(".copy-url div").hover(function(){$(this).css("cursor","pointer");$(this).prev("a").addClass("clipboard-btn")},function(){$(this).prev("a").removeClass("clipboard-btn")})})},_hideLinkOver:function(a){this.linkOverlayContainer.slideUp("1000");if($.isFunction(a)){a()}},_alignMagnifier:function(){this.element.each(function(){var c=$(this).children().children().children("span"),a=$(this).find(".thumb-preview").height(),b=$(this).find(".thumb-preview").width();c.css({"margin-top":(a/2)-21,"margin-left":(b/2)-21})})},_getData:function(f){var d={},a=$(".voice-box:not(.isotope-hidden)").index(f.closest(".voice-box")),c=$(".voice-box:not(.isotope-hidden):lt("+a+")").last(),b=$(".voice-box:not(.isotope-hidden):gt("+a+")").first();d.title=f.data("title");d.ago=f.data("ago");d.href=f.attr("href");d.voice_slug=window.currentVoice.slug;d.post_id=f.data("id");d.type=f.data("type");d.permalink=f.data("permalink");d.voted=f.data("voted");d.service=f.data("service");if(c.length){d.prev={image:c.find(".voice-cont > a > img").attr("src"),title:c.find(".voice-cont > a").data("title"),id:c.find(".voice-cont > a").data("id")}}if(b.length){d.next={image:b.find(".voice-cont > a > img").attr("src"),title:b.find(".voice-cont > a").data("title"),id:b.find(".voice-cont > a").data("id")}}return d},buildOverlay:function(b){var a=this._getData(b);this.showTopOverlay();this._replaceContent(a)},_replaceContent:function(g){var f=unescape(g.type=="link"?this.linkOverlayTemplate:this.overlayTemplate),d=this,a=0,c=parseInt($(document).width()*0.8),b=parseInt($(window).height()*0.8)-150;f=f.replace(/{{title}}/g,g.title);f=f.replace(/{{escaped_title}}/g,encodeURIComponent(g.title));f=f.replace(/{{time_ago}}/g,g.ago);f=f.replace(/{{source_url}}/g,g.href);f=f.replace(/{{voice_slug}}/g,g.voice_slug);f=f.replace(/{{post_id}}/g,g.post_id);f=f.replace(/{{rating}}/g,g.voted?1:-1);if(g.type=="link"){this.hide();this._onContentLoaded(f,$(document).width(),g)}else{this.timeoutRequest=setTimeout(function(){$.post("/notify_js_error",{e:"There were a problem loading an embedly resource.",data:g},function(h){})},60000);$.embedly(g.href,{key:"7a45bbf49862423380410598ebf08688",maxWidth:c,maxHeight:b,secure:true,urlRe:new RegExp(window.embedlyURLre.source.substring(0,embedlyURLre.source.length-1)+"|(:?.*\\.(jpe?g|png|gif)(:?\\?.*)?$))","i")},function(i,j){clearTimeout(d.timeoutRequest);if(i.html){f=f.replace(/{{content}}/g,i.html);a=i.width}else{var h=i.url.replace("http:","https:");if(i.type=="link"&&i.width==undefined){f=f.replace(/{{content}}/g,'<a href="'+h+'"><img src="'+i.thumbnail_url+'" width="'+i.thumbnail_width+'" height="'+i.thumbnail_height+'" /></a>');a=i.thumbnail_width}else{f=f.replace(/{{content}}/g,'<img src="'+h+'" style="max-height: '+b+'px" />');a=Math.round((i.width/i.height)*b);if(g.service=="Flickr"){a=i.width}}}if(a<310){a=310}d._onContentLoaded(f,a,g)})}},_onContentLoaded:function(c,a,d){var b=this;c=c.replace(/{{content_width}}/g,a-11);c=c.replace(/{{voice_width}}/g,a);c=c.replace(/{{post_permalink}}/g,d.permalink);if(d.prev){c=c.replace(/{{prev_title}}/g,d.prev.title);c=c.replace(/{{prev_id}}/g,d.prev.id);c=c.replace(/{{prev_image}}/g,'<img src="'+d.prev.image+'" width="61">')}if(d.next){c=c.replace(/{{next_title}}/g,d.next.title);c=c.replace(/{{next_id}}/g,d.next.id);c=c.replace(/{{next_image}}/g,'<img src="'+d.next.image+'" width="61">')}$(".overlay-vote-post").unbind("click");c=this.update_flag_status($(c),d.voted);if(d.type=="link"){if(this.zeroclip){this.zeroclip.destroy()}this.linkOverlayContainer.html("").append(c);this.linkOverlayContainer.find("iframe").attr("src",d.href)}else{this.overlayContainer.html("").append(c)}new Votes(".overlay-vote-post");if(!d.prev){this.linkOverlayContainer.find(".arrows .prev").remove();this.overlayContainer.find(".arrows.prev").remove()}if(!d.next){this.linkOverlayContainer.find(".arrows .next").remove();this.overlayContainer.find(".arrows.next").remove()}if(d.type=="link"){this._showLinkOver()}else{this._hideLinkOver(function(){if(d.type=="image"){b.overlayContainer.find(".voice-over-info > div > img").imagesLoaded(function(f){b.show();b.imagePositioning(this);b.updatePosition()})}else{b.show()}})}this.win.bind("resize.overlay",function(){b.updatePosition()})},imagePositioning:function(c){var c=$(c);if($(".voice-container .voice-over-info img").length>0){var b=c,a=c.width();if(a<310){$(b).closest(".voice-container").css({width:310})}else{$(b).closest(".voice-container").css({width:a}).addClass("imgContainerWidth")}}},showTopOverlay:function(){this.overlay.css("top",$(document).scrollTop()).fadeIn()},update_flag_status:function(b,a){if(a==true){b.find(".flag-div a").toggleClass("flag flag-pressed");b.find(".flag-tooltip span").html("Unflag Content")}return b},updatePosition:function updatePosition(){var c=(this.win.height()-this.overlayContainer.height())/2,b=(this.win.width()-this.overlayContainer.width())/2,a=((this.overlayContainer.height()/2)-30);this.overlayContainer.css({top:c+$(document).scrollTop(),left:b});$(this.options.arrows).css({"margin-top":a})},show:function(){if(this.overlay.is(":visible")){this.updatePosition();this.body.addClass("avoid-scrolling-content");this.overlayContainer.show();this.visible=true}else{return false}},hide:function(){this.win.unbind("resize.overlay");this.body.removeClass("avoid-scrolling-content");$(".voice-over-info object, .voice-over-info iframe").remove();this.overlay.fadeOut("slow");this.overlayContainer.fadeOut("slow");this.visible=false}}});Class("VideoOverlay")({prototype:{init:function(b,a){this.options={overlay:"#overlay",overlayContainer:".vide-overlay-container",closeBtn:".close-voice-container"};this.element=typeof b=="string"?$(b):b;this.overlay=$(this.options.overlay);this.overlayContainer=$(this.options.overlayContainer);this.win=$(window);this.closeBtn=$(this.options.closeBtn);this._bindEvents()},_bindEvents:function(){var a=this;this.element.click(function(){a.buildOverlay()});this.overlay.click(function(){a.hide()});this.closeBtn.click(function(){a.hide()})},buildOverlay:function(){var a=this;$("body").css("overflow-y","hidden");a.showTopOverlay()},showTopOverlay:function(){var a=this;this.overlay.css("top",$(document).scrollTop()).fadeIn();a.show()},show:function(){var b=(this.win.height()-this.overlayContainer.height())/2,a=(this.win.width()-this.overlayContainer.width())/2;this.overlayContainer.css({top:b+$(document).scrollTop(),left:a}).show()},hide:function(){$("body").css("overflow-y","hidden");this.overlayContainer.fadeOut("slow");this.overlay.fadeOut("slow")}}});Class("Message")({prototype:{init:function(b,a){this.options={closeBtn:".close-message",effect:true};$.extend(this.options,a);this.element=typeof b=="string"?$(b):b;this.closeBtn=$(this.options.closeBtn);this.mainHeader=$(".main-header");this.voiceSubtitle=$(".voice-subtitle");this.userWindow=$(window);this._bindEvents()},_bindEvents:function(){var b=this.element.children().children(this.options.closeBtn),a=this;b.click(function(){a.hide();return false});this.userWindow.bind("resize smartresize",function(){a.setTopPosition()});this.voiceSubtitle.bind("excerpt.toggle",function(){a.setTopPosition()})},hide:function(){var a=this;(this.options.effect?this.element.fadeOut(function(){a.element.trigger("flash.close")}):this.element.hide()&&this.element.trigger("flash.close"));$(".with-announcement").removeClass("with-announcement")},setTopPosition:function(){var a=this.mainHeader.height();this.element.css("top",a)}}});Class("Post")({detectUrl:function(a){switch(true){case this.isVideo(a):return"video";break;case this.isImage(a):return"image";break;case this.isLink(a):return"link";break;default:return false;break}},isVideo:function(a){var b=/^https?:\/\/(?:www\.)?(youtube\.com\/watch\?.*v=[^&]|vimeo\.com\/(?:.*#)?(\d+))/i;return b.test(a)},isImage:function(a){var b=/^https?:\/\/(?:www\.)?(flickr\.com\/photos\/[-\w@]+\/\d+|twitpic\.com\/[^\/]+$|yfrog\.com\/[^\/]+$|.*\/.*\.(jpe?g|png|gif)(?:\?.*)?$)/i;return b.test(a)},isLink:function(a){var b=/^https?:\/\/([\w-]+\.([\w-]+)){1,}([\/?#].*)?$/i;return b.test(a)},prototype:{init:function(b,a){this.options={postPlaceHolder:".post-paceholder",tooltipImage:null,tooltipVideo:null,tooltipLink:null,carousel:null,postFilter:null,votes:null,overlays:null};$.extend(this.options,a);this.element=typeof b=="string"?$(b):b;this.postPlaceHolder=$(this.options.postPlaceHolder);this.inputPost=$(this.element.children("input"));this.inputFile=$(this.element.children(".post-paceholder").children("input"));this.form=this.element.parent();this.lastSearch="";this._setInput();this._bindEvents()},_showTooltip:function(a){$(".post-type .tooltip").hide();$(".tooltip.notice").hide();$(".media > a").removeClass("active");$("#post_remote_image_url").val("");this.options.carousel.clear();switch(a){case"video":this.options.tooltipVideo.show();break;case"image":$("#image_description").val("");$("#image_title").val("");$("#post_copyright").val("");this.options.tooltipImage.show();break;case"link":$(".carousel-image").find("img:not('.carousel-loader')").hide();$(".carousel-loader").show();this.options.carousel.show();this._call_for_page_info();this.options.tooltipLink.show();break}},_bindEvents:function(){var c=this,h=this.inputPost,i=this.postPlaceHolder,f=this.options.tooltipImage,b=this.options.tooltipLink,g=this.inputFile,k=this.options.carousel,d=this.options.postFilter,a=this.options.overlays,j=this.options.votes;i.children("span").click(function(){i.hide();h.focus()});h.blur(function(){if(h.val()===""){i.show();$(".video-tool").removeClass("active");f._hide_extra_data();b._hide_extra_data()}else{i.hide()}});h.focus(function(){i.hide()});g.change(function(){var l=$(this).val();if(l){i.hide();l=l.split("\\");l=l[l.length-1];h.val(l);c._showTooltip("image")}});h.keyup(function(l){if((l.which<=90&&l.which>=48&&l.which!=86)||l.which==8){c._showTooltip(c.constructor.detectUrl($(this).val()))}});h.bind("paste",function(){setTimeout(function(){c._showTooltip(c.constructor.detectUrl(h.val()))},250)});this.form.submit(function(){if(h.val()&&(c.constructor.detectUrl(h.val())||g.val())){if(this.lastSearch!=h.val()){$(this).ajaxSubmit({dataType:"json",type:"post",success:function(m){if(m.post){this.lastSearch=h.val();c.inputFile.val("");h.val("").blur();$.get("/"+window.currentVoice.slug+"/posts/"+m.post.id,function(o){var n=$(o);$(".post-type .tooltip").hide();$(".media > a").removeClass("active");d.toggleModerator(true);k.clear();$(".voices-container").prepend(n);n.find("img.thumb-preview").bind("load",function(){if($(this).attr("src").indexOf("thumb_link-default.png")>0){$(this).hide()}a.unbindEvents().bindEvents();j.unbindEvents().bindEvents();$(".voices-container").isotope("addItems",n).isotope("reloadItems").isotope({sortBy:"original-order"}).isotope()})})}else{for(var l in m){$(".post-type .tooltip").hide();$(".media > a").removeClass("active");if(m.hasOwnProperty(l)&&l=="source_url"){$(".tooltip.notice .moderate-tooltip").html("Url "+m[l]);$(".tooltip.notice").show()}}}}})}}return false})},_setInput:function(){var a=this.inputPost,b=this.postPlaceHolder;if(a.val()===""){b.show()}else{b.hide()}},_call_for_page_info:function(){var a=this.options.carousel;$.ajax({url:"/remote_page_info",type:"POST",data:"url="+encodeURIComponent(this.inputPost[0].value),error:function(){},success:function(c,b,d){a.loadHash(c);$(".carousel-image").find("img:not('.carousel-loader')").show();$(".carousel-loader").hide();setTimeout(function(){ajaxBusy=false},2000)},dataType:"json"})}}});Class("Excerpt")({prototype:{init:function(b,a){this.options={showChar:121,ellipsestext:window.innerWidth<=460?" - ":"...",moreText:".more-quote"};$.extend(this.options,a);this.element=typeof b=="string"?$(b):b;this.quote=this.element.children("em");this.quoteCont=this.quote.html();this.button=this.element.children("em").next("a");this.moreText=$(this.options.moreText);this.userWindow=$(window);this._getExcerptLength();this._createExcerpt();this.element.removeClass("initial-state");this._bindEvents()},_bindEvents:function(){var a=this;this.button.click(function(){a.toggleExcerpt()});this.element.bind("infobox:show",function(){a.showExcerpt()}).bind("infobox:hide",function(){a.hideExcerpt()});this.userWindow.bind("resize smartresize",function(){a._recalcExcerpt()})},_recalcExcerpt:function(){var a=this;clearTimeout(this.recalcTimeout);this.recalcTimeout=setTimeout(function(){a._getExcerptLength();!a.shown&&a._createExcerpt()},100)},_getExcerptLength:function(){var b=this,a=window.innerWidth;if(a<=845&&a>769){this.options.showChar=100}else{if(a<=769&&a>601){this.options.showChar=80}else{if(a<=601&&a>460){this.options.showChar=50}else{if(a<=460){this.options.showChar=0}else{this.options.showChar=121}}}}return this},_createExcerpt:function(){var k=this,f=this.options.showChar,a=this.quote,i=this.quoteCont,g=i.length,b=this.options.ellipsestext,d=window.innerWidth<=460?" - ":"...";i=i.replace('<span class="ellipsestext">'+b+'</span><span class="more-quote">',"").replace("</span>","");if(g>this.options.showChar){var l=i.substr(0,f),j=i.substr(f,g-f);a.html(l+'<span class="ellipsestext">'+b+'</span><span class="more-quote">'+j+"</span>");a.show()}else{this.button.hide()}this.element.trigger("excerpt.toggle")},toggleExcerpt:function(){if($(".more-quote").is(":hidden")){this.showExcerpt()}else{this.hideExcerpt()}if("smartresize" in this.userWindow){this.userWindow.smartresize()}},showExcerpt:function(){if($(".more-quote").is(":hidden")){$(".more-quote").toggle();$(".ellipsestext").hide();this.button.children("span").text("Less");this.element.trigger("excerpt.toggle").removeClass("collapsed").addClass("expanded");this.shown=true}},hideExcerpt:function(){if(!$(".more-quote").is(":hidden")){$(".more-quote").toggle();$(".ellipsestext").show();this.button.children("span").text("More").show();this.element.trigger("excerpt.toggle").removeClass("expanded").addClass("collapsed");this.shown=false}}}});Class("Filters")({prototype:{init:function(b,a){this.element=typeof b=="string"?$(b):b;this.filters=this.element.find(".filter");this.items=typeof a=="string"?$(a):a;this.toggleModerate=$(".mode-button");this._bindEvents();if(!$.deparam.querystring().mod){this.deactivateModerator()}},_bindEvents:function(){var a=this;this.filters.click(function(){var c=this;var f=a.filters.filter(":checked");var b="";if(f.length>0){var d=$(".filters input:checkbox:checked").map(function(){return $(this).attr("name")}).get().join(",");b=location.href.split("?")[0].replace("#","")+"/?filters="+d}else{b=location.href.split("?")[0].replace("#","")}$.getScript(b,function(){a.filter(c.name,$(c).is(":checked"))});a.element.trigger("filter.apply")})},toggleModerator:function(a){a?this.activateModerator():this.deactivateModerator()},activateModerator:function(){this.moderator=true;this.toggleModerate.filter(".public").removeClass("selected");this.toggleModerate.filter(".mod").addClass("selected");$(".voices-container").isotope({filter:this._buildFilterSelector()})},deactivateModerator:function(){this.moderator=false;this.toggleModerate.filter(".public").addClass("selected");this.toggleModerate.filter(".mod").removeClass("selected");$(".voices-container").isotope({filter:this._buildFilterSelector()})},filter:function(b,a){$(".voices-container").isotope({filter:this._buildFilterSelector()})},_buildFilterSelector:function(){var c=this.filters.filter(":checked"),a="*",b=this;if(c.length==0){c=this.filters.attr("checked",true)}a=c.map(function(){if(b.moderator){return".voice-box."+this.name}else{return".voice-box:not(.unmoderated)."+this.name}}).get().join(", ");return a},_fetchPage:function(a){$.getScript(a)}}});Class("Votes")({prototype:{init:function(a){this._elementSelector=a;this.bindEvents()},bindEvents:function(){var a=this;this.element=$(this._elementSelector);this.element.bind("click",function(c){var b=$(this);if($(this).parent().parent().find(".flag-tooltip span").html()=="Vote already cast"){return false}$.ajax({url:this.href,data:$.extend({authenticity_token:$("meta[name=csrf-token]").attr("content")},$(this).data("params")),type:$(this).data("method"),dataType:"json",success:function(d){a._handleSuccess(d,b);post_id=$(c.target).siblings().attr("data-post-id");flag=$("div[data-post-id="+post_id+"]");if($(c.target).hasClass("flag")){flag.find(".flag-tooltip span").addClass("flagged").html("Unflag Content");$("a[data-id="+post_id.split("_")[1]+"]").attr("data-voted",true);flag.siblings("a").toggleClass("flag flag-pressed").attr("href",[$(c.target).attr("href").split("?")[0],"rating=1"].join("?"))}else{if($(c.target).hasClass("flag-pressed")){flag.find(".flag-tooltip span").removeClass("flagged").html("Flag Inappropiate Content");$("a[data-id="+post_id.split("_")[1]+"]").attr("data-voted",false);flag.siblings("a").toggleClass("flag flag-pressed").attr("href",[$(c.target).attr("href").split("?")[0],"rating=-1"].join("?"))}}if($(c.target).hasClass("thumb")){parent_target=$(c.target).parent().parent();if(parent_target.hasClass("down")){parent_target.addClass("down_hover")}else{parent_target.addClass("up_hover");parent_target.parent().css("margin-right","22px")}$(c.target).parent().siblings("div").find(".flag-tooltip span").html("Thank you for your vote!");parent_target.siblings("li").hide()}},error:function(d){a._handleError(d,b)}});return false})},unbindEvents:function(){var a=this;this.element.unbind("click");return a},_handleSuccess:function(b,a){if(b.post.approved){a.closest(".unmoderated").removeClass("unmoderated").find(".voice-action").show().siblings(".voice-unmoderated").find("li > span > a").unbind("click").end().remove()}else{}},_handleError:function(b,a){}}});Class("BlogWidget")({prototype:{init:function(){this.element=$(".grab-blog-widget");this.sizes=this.element.find(".widget-height");this.scopes=this.element.find(".widget-scope");this.show_description=this.element.find(".description-checkbox");this.show_rtl=this.element.find(".rtl-checkbox");this.field=this.element.find(".blog-widget-textarea");this._template=this.field.data("template");this._bindEvents()},_bindEvents:function(){var a=this;this.sizes.add(this.show_description).add(this.show_rtl).add(this.scopes).bind("click",function(){a._updateCode()});this.field.bind("click",function(){$(this).select()})},_updateCode:function(){var b={size:this.size(),show_description:this.showDescription(),scope:this.scope(),rtl:this.rtl(),height:this.height()},a=this._template.replace(/{{size}}/g,b.size).replace(/{{show_description}}/g,b.show_description).replace(/{{scope}}/g,b.scope).replace(/{{height}}/g,b.height).replace(/{{rtl}}/g,b.rtl);this.field.val(a)},height:function(){var a=400;switch(this.size()){case"small":a=this.scope()=="this"?400:385;break;case"medium":a=this.scope()=="this"?495:465;break;case"tall":a=this.scope()=="this"?595:565;break}return a},size:function(){return this.sizes.filter(":checked").val()},scope:function(){return this.scopes.filter(":checked").val()},showDescription:function(){return this.show_description.is(":checked")?"1":"0"},rtl:function(){return this.show_rtl.is(":checked")?"1":"0"}}});Class("Timeline")({currentPage:1,loadPage:function(a){a=a||Timeline.currentPage;var b="?page="+a;if($.deparam.querystring().mod){b+="&mod=1"}if(this.startDate){b+="&start="+this.startDate}Timeline.applySpinner();$.getScript(location.pathname+b)},loadDate:function(a,c){var b="?start="+a;this.startDate=a;this.currentPage=1;if($.deparam.querystring().mod){b+="&mod=1"}Timeline.applySpinner();$.getScript(location.pathname+b,function(){$.isFunction(c)&&c();Timeline.voiceScroller.animate({scrollTop:"0"},500)})},months:[0,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsFullNames:[0,"January ","February ","March ","April ","May ","June ","July ","August ","September ","October ","November ","December "],build:function(b,a){this.options={dates:window.timeline_dates,overlays:null,votes:null};$.extend(this.options,a);var c=this;this.element=b;this.slider=this.element.find("#slider-vertical");this.dates=this.options.dates;this.userWindow=$(window);this._body=$("body");this.mainHeader=$(".main-header");this.bottomScroller=$(".bottom-scroll");this.topScroller=$(".top-scroll");this.scrollable=$.browser.mozilla||$.browser.msie?"html":"body";this.voiceScroller=$(".voices-scroller");this.voicesContainer=$(".voices-container");this.announcementBar=$(".flash-message");this.postFetcher=$(".post-fetch-trigger");this.voiceTitle=$(".voice-title");this.voiceSubtitle=$(".voice-subtitle");this.loadingScript=false;this.needsScrollTop=false;this._createYearSliders();this._setHeight();this._createSlider();$("> li:last",this.element).addClass("last");this.voicesContainer.removeClass("initial-state");this.bindEvents();this.updateSliderPosition()},bindEvents:function(){var a=this;if(!isDevice){this.voiceScroller.scroll(function(g){var f=g.target.scrollHeight-g.target.offsetHeight,d=$(".voice-box").length>=_postCount,b=g.target.scrollTop===f,c=window.innerWidth<=1024;a.debouncePositionUpdate();if(b&&!c&&d){a.fetchPosts(false)}else{return false}})}this.element.bind("posts:served",function(b,c){a.afterFetchActions(c)});this.postFetcher.bind("click",function(){a.fetchPosts(false)});this.userWindow.bind("resize smartresize",function(){a._setHeight()});this.announcementBar.bind("flash.close",function(){a._setHeight()});this.voiceSubtitle.bind("excerpt.toggle",function(){a._setHeight()})},debouncePositionUpdate:function(){var a=this;clearTimeout(this.updateTimeout);this.updateTimeout=setTimeout(function(){a.updateSliderPosition()},50)},fetchPosts:function(a){this.applySpinner();if(!this.loadingScript){this.loadingScript=true;this.currentPage++;this.loadPage();return a?this.needsScrollTop=true:this.needsScrollTop=false}},applySpinner:function(){voicesContainerHeight=this.voicesContainer.height();this.postFetcher.addClass("fetcher-spinner");isDevice&&this.element.css({position:"absolute",bottom:"auto",top:voicesContainerHeight})},resetSpinner:function(){this.postFetcher.removeClass("fetcher-spinner");this.element.css({position:"",top:"",bottom:""})},afterFetchActions:function(a){this.voicesContainer.isotope("reLayout");this.resetSpinner();if(this.needsScrollTop){this.voiceScroller[0].scrollTop=0}this.updateSliderPosition();this.loadingScript=false},updateSliderPosition:function(){var d=this,b,c;b=$.grep(d.voicesContainer.find("> .voice-box"),function(i){var f=d.voiceScroller.offset().top,g=d._body.height()-f,h=$(i).offset().top;return h<g&&h>f});c=$.map(b,function(g,f){return g.getAttribute("data-created-at").match(/[\d]{4}-[\d]{2}/)});if(c.length){var a=c[c.length-1].match(/[\d]{4}/);this.slider.find(".linkable").removeClass("active").each(function(){var f=this;c.map(function(g){if(g==f.getAttribute("data-date").match(/[\d]{4}-[\d]{2}/)){$(f).addClass("active")}})});if(parseInt(a,10)!=parseInt(this.current_year,10)){this._setYear(a,false);this.updateSliderPosition()}else{this.createCurrentYearLabel(a)}}},_createYearSliders:function(){var a="",d=this,c=$("#timeline-deactivated").html(),b;this.min_year=3000;this.max_year=0;for(b in this.dates){if(this.dates.hasOwnProperty(b)){b=parseInt(b,10);if(b>this.max_year){this.max_year=b}if(b<this.min_year){this.min_year=b}}}for(b in this.dates){if(this.dates.hasOwnProperty(b)&&parseInt(b)!=this.max_year){a=c.replace(/{{year}}/g,b)+a}}if(a.length){this.element.append(a);this.element.delegate(".disactivated-timeliner","click",function(){d._setYear($(this).data("year"));return false})}},createCurrentYearLabel:function(b){var c=$("#current_date");c.length&&c.remove();var a='             <li id="current_date">                 <span class="year-label">                     <span class="inner-dot-icn"></span>                     <span class="year-text">'+b+"</span>                 </span>             </li>";this.slider.parent("li").before(a)},_setYear:function(f,b){var i,a,d,h=this.current_year-f,c=this.slider.parent(),g=this;if(h>0){c.nextAll(".disactivated-timeliner").filter(":lt("+h+")").each(function(){i=$(this).data("year")+1;$(this).data("year",i).find(".year-text").text(i).end().insertBefore(c)})}else{h*=-1;c.prevAll(".disactivated-timeliner").filter(":lt("+h+")").each(function(){i=$(this).data("year")-1;$(this).data("year",i).find(".year-text").text(i).end().insertAfter(c)})}this.createCurrentYearLabel(f);this.current_year=f;this._updateSlider();if(b!==false){this.scrollToDate(this.currentYearDates()[this.currentYearDates().length-1])}},_createSliderThicks:function(){var c,j,p,a,n,h=this,k=this.currentYearDates().length,o='<li class="empty-month"><span class="month-label short">',m='</span><span class="month-label-complete">',b="</span></li>",f=0,l=k>150?function(){return false}:function(){return f==0},g=0,d=[];f=1;while(f<=this.months.length-1){d.push(o+h.months[f]+m+h.monthsFullNames[f]+" "+b);f+=1}f=k-1;for(;f>=0;f--){c=this.currentYearDates()[f];a=(/\d{4}-(\d{2})-(\d{2})/).exec(c);j=parseInt(a[1],10);n=a[2];if(f>0){p=parseInt((/\d{4}-(\d{2})-\d{2}/).exec(this.currentYearDates()[f-1])[1],10)}if(j===p||l()){g+=1;if(g===1){d[j-1]='<li class="linkable" data-date="'+c+'"><span class="month-label short">'+this.months[j]+'</span><span class="month-label-complete">'+this.monthsFullNames[j]+c.substr(0,4)+"</span></li>"}}else{g=0}}this.slider_thicks.html(d.reverse().join("")).find("> li").addClass("value-dot").end().find("ul > li").addClass("values-sep-dot");this.slider_thicks.find(".linkable").bind("click",function(){h.scrollToDate($(this).data("date"));return false})},parseDate:function(a){var c=(/\d{4}-(\d{2})-(\d{2})/).exec(a),b=parseInt(c[1],10);day=c[2];return this.months[b]+" "+day},scrollToDate:function(a,b){this.sliding=true;ele=this.voicesContainer.find("> [data-created-at="+a+"]").eq(0);if(ele.length){this.scrollToElement(ele);$.isFunction(b)&&b()}else{this.loadDate(a,b);this.needsScrollTop=true}this.sliding=false},scrollToElement:function(c){var b=this,a=c.scrollTop;this.voiceScroller[0].scrollTop=a},scrollByY:function(c){var b=this.voiceScroller[0].scrollTop,a=b+c;this.voiceScroller[0].scrollTop=a},_updateSlider:function(){this._createSliderThicks()},currentYearDates:function(){return Array.apply(null,this.dates[this.current_year.toString()]).reverse()},_createSlider:function(){var b=this,a=this.mainHeader.height();this.current_year=this.max_year;this.slider_thicks=$('<ul class="slider-values"/>').appendTo(this.slider);this._updateSlider();this.topScroller.css("top",a).hover(function(){b.autoScrollOn=true;b._autoScroll(-70,false)},function(){b.autoScrollOn=false});this.bottomScroller.css("bottom",0).hover(function(){b.autoScrollOn=true;b._autoScroll(70,false)},function(){b.autoScrollOn=false})},_autoScroll:function(b){var a=this;if(!this.sliding){this.scrollByY(b);if(this.autoScrollOn){setTimeout(function(){a._autoScroll(b)},50)}}},_setHeight:function(){var a=this.mainHeader.height();this.voiceScroller.css("height",window.innerHeight-a)}});Class("ToggleTweets")({prototype:{init:function(b,a){this.options={hidden:false,toggler:'.filters input[name="tweets"]',scroller:".tweets-wrapper-list",header:"header",specialClass:"",voices:".voices-container",sweeper:".voice-wrapper .sweeper",topscroll:".top-scroll",bottomscroll:".bottom-scroll"};$.extend(this.options,a);this.element=typeof b=="string"?$(b):b;this.loader=this.element.find(".loader");this.win=$(window);this.toggler=$(this.options.toggler);this.scroller=$(this.options.scroller);this.header=$(this.options.header);this.voices=$(this.options.voices);this.sweeper=$(this.options.sweeper);this.topscroll=$(this.options.topscroll);this.bottomscroll=$(this.options.bottomscroll);this.filtersContainer=$(".filters");this.tagsContainer=$(".tags-container");this.transitionDuration=parseFloat(this.element.css("transition-duration"),10)*1000;this.options.hidden?this.hide():this.show();if(this.options.specialClass){this.element.addClass(this.options.specialClass)}this.toggler.prop("checked",false);this.bindEvents()},bindEvents:function(){var a=this;this.toggler.bind("change",function(){a.toggler.is(":checked")?a.show():a.hide();return this});this.win.bind("load resize",function(){a.updatePosition()});this.filtersContainer.bind("filter.apply",function(){a.hide()});this.tagsContainer.bind("tags.show",function(){a.hide(true)});$(".sidebar-wrapper").bind("sidebar.toggle",function(){a.updatePosition()})},loadTweets:function(){var g=this,f=$(".tweets-sidebar").data("search"),d=$("ul.tweets-list"),b,a;this.loader.addClass("loader--show");b=function(){g.element.data().loaded=true;g.loader.toggleClass("loader--show")};if(f!=""&&typeof f!=="undefined"){a=function(i){var h=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return i.replace(h,"<a href='$1' target='_blank'>$1</a>")};$.ajax({url:"/twitter_search",data:{search:f},type:"get",dataType:"json",success:function(i){var h=i;if(h.length>0){d.html("");$.each(h,function(k,m){var j,l;j='                                    <li class="tweet">                                        <cite>                                            <span class="author">@{{FROM_USER}}</span>                                            <span class="date">{{TIME}}</span>                                        </cite>                                        <blockquote cite="@{{USER}}">                                            <q lang="en-us">{{TEXT}}</q>                                        </blockquote>                                     </li>                                ';l=a(this.text);j=j.replace(/{{USER}}/g,"");j=j.replace(/{{TEXT}}/g,l);j=j.replace(/{{FROM_USER}}/g,this.user.name);j=j.replace(/{{TIME}}/g,moment(this.created_at).fromNow());d.append(j);l=j=null});b()}h=null}})}else{var c='                    <li class="tweet">                        <p>No tweets found.</p>                    </li>                ';d.append(c);b();c=null}return g},show:function(){var a=this;if(!this.element.data().loaded){this.loadTweets()}this.element.addClass("open");this.shown=true;setTimeout(function(){a.element.trigger("tweets.change")},this.transitionDuration);return a},hide:function(a){var b=this,a=a||false;if(a){if(window.innerWidth<=460){this.element.removeClass("open").fadeOut();this.toggler.attr("checked",false);this.shown=false}else{return false}}this.element.removeClass("open");this.toggler.attr("checked",false);this.shown=false;setTimeout(function(){b.element.trigger("tweets.change")},this.transitionDuration);return b},updatePosition:function(){var b=this,d,a,c;clearTimeout(this.resizeTimer);this.resizeTimer=setTimeout(function(){d=window.innerWidth<=461,a=d?36:b.header.outerHeight(true),b.element.css("top",a);return b},100)}}});(function(){var j,bq=document,aS=window,aM=Math,l=aM.round,bc=aM.floor,aw=aM.ceil,bU=aM.max,aj=aM.min,f=aM.abs,bL=aM.cos,Y=aM.sin,K=aM.PI,au=K*2/360,p=navigator.userAgent,n=/msie/i.test(p)&&!aS.opera,A=bq.documentMode===8,F=/AppleWebKit/.test(p),be=/Firefox/.test(p),aQ="http://www.w3.org/2000/svg",bK=!!bq.createElementNS&&!!bq.createElementNS(aQ,"svg").createSVGRect,aa=be&&parseInt(p.split("Firefox/")[1],10)<4,aW=!bK&&!n&&!!bq.createElement("canvas").getContext,bG,B=bq.documentElement.ontouchstart!==j,c={},a0=0,ad,bn,bE,bV,an,aT,i=function(){},I="div",al="absolute",H="relative",ae="hidden",aX="highcharts-",ai="visible",U="px",x="none",bj="M",bk="L",bO="rgba(192,192,192,"+(bK?0.000001:0.002)+")",ah="",aI="hover",bf="select",bJ="millisecond",a7="second",bw="minute",S="hour",bx="day",bI="week",a6="month",a4="year",aZ="fill",av="linearGradient",by="stops",bN="stroke",aF="stroke-width",X,y,T,aq,ba,W,V,am,bv,az,bA,D,a={};aS.Highcharts={};function bb(M,L){var bW;if(!M){M={}}for(bW in L){M[bW]=L[bW]}return M}function aL(){var M=0,L=arguments,bW=L.length,bX={};for(;M<bW;M++){bX[L[M++]]=L[M]}return bX}function bB(L,M){return parseInt(L,M||10)}function bg(L){return typeof L==="string"}function bR(L){return typeof L==="object"}function aB(L){return Object.prototype.toString.call(L)==="[object Array]"}function ap(L){return typeof L==="number"}function q(L){return aM.log(L)/aM.LN10}function u(L){return aM.pow(10,L)}function N(L,bW){var M=L.length;while(M--){if(L[M]===bW){L.splice(M,1);break}}}function ac(L){return L!==j&&L!==null}function P(bW,bZ,bY){var M,bX="setAttribute",L;if(bg(bZ)){if(ac(bY)){bW[bX](bZ,bY)}else{if(bW&&bW.getAttribute){L=bW.getAttribute(bZ)}}}else{if(ac(bZ)&&bR(bZ)){for(M in bZ){bW[bX](M,bZ[M])}}}return L}function a5(L){return aB(L)?L:[L]}function aH(){var M=arguments,bW,L,bX=M.length;for(bW=0;bW<bX;bW++){L=M[bW];if(typeof L!=="undefined"&&L!==null){return L}}}function bP(L,M){if(n){if(M&&M.opacity!==j){M.filter="alpha(opacity="+(M.opacity*100)+")"}}bb(L.style,M)}function bd(L,bZ,bY,bX,bW){var M=bq.createElement(L);if(bZ){bb(M,bZ)}if(bW){bP(M,{padding:0,border:x,margin:0})}if(bY){bP(M,bY)}if(bX){bX.appendChild(M)}return M}function a8(bW,L){var M=function(){};M.prototype=new bW();bb(M.prototype,L);return M}function g(L){L=(L||0).toString();return L.indexOf(".")>-1?L.split(".")[1].length:0}function k(bX,bW,b3,b2){var L=bn.lang,M=bX,b1=bW===-1?g(bX):(isNaN(bW=f(bW))?2:bW),b0=b3===undefined?L.decimalPoint:b3,b4=b2===undefined?L.thousandsSep:b2,b5=M<0?"-":"",bZ=String(bB(M=f(+M||0).toFixed(b1))),bY=bZ.length>3?bZ.length%3:0;return b5+(bY?bZ.substr(0,bY)+b4:"")+bZ.substr(bY).replace(/(\d{3})(?=\d)/g,"$1"+b4)+(b1?b0+f(M-bZ).toFixed(b1).slice(2):"")}function bt(M,L){return new Array((L||2)+1-String(M).length).join(0)+M}function aP(bW,bX,M){var L=bW[bX];bW[bX]=function(){var bY=Array.prototype.slice.call(arguments);bY.unshift(L);return M.apply(this,bY)}}bE=function(b3,bZ,bX){if(!ac(bZ)||isNaN(bZ)){return"Invalid date"}b3=aH(b3,"%Y-%m-%d %H:%M:%S");var M=new Date(bZ),b5,b2=M[T](),b0=M[aq](),b4=M[ba](),bY=M[W](),b6=M[V](),L=bn.lang,b1=L.weekdays,bW={a:b1[b0].substr(0,3),A:b1[b0],d:bt(b4),e:b4,b:L.shortMonths[bY],B:L.months[bY],m:bt(bY+1),y:b6.toString().substr(2,2),Y:b6,H:bt(b2),I:bt((b2%12)||12),l:(b2%12)||12,M:bt(M[y]()),p:b2<12?"AM":"PM",P:b2<12?"am":"pm",S:bt(M.getSeconds()),L:bt(l(bZ%1000),3)};for(b5 in bW){b3=b3.replace("%"+b5,bW[b5])}return bX?b3.substr(0,1).toUpperCase()+b3.substr(1):b3};function bu(L,bZ,bX,M){var bY,bW;bX=aH(bX,1);bY=L/bX;if(!bZ){bZ=[1,2,2.5,5,10];if(M&&M.allowDecimals===false){if(bX===1){bZ=[1,2,5,10]}else{if(bX<=0.1){bZ=[1/bX]}}}}for(bW=0;bW<bZ.length;bW++){L=bZ[bW];if(bY<=(bZ[bW]+(bZ[bW+1]||bZ[bW]))/2){break}}L*=bX;return L}function ak(L,bW){var b0=bW||[[bJ,[1,2,5,10,20,25,50,100,200,500]],[a7,[1,2,5,10,15,30]],[bw,[1,2,5,10,15,30]],[S,[1,2,3,4,6,8,12]],[bx,[1,2]],[bI,[1,2]],[a6,[1,2,3,4,6]],[a4,null]],b2=b0[b0.length-1],M=aT[b2[0]],bX=b2[1],bZ,bY;for(bY=0;bY<b0.length;bY++){b2=b0[bY];M=aT[b2[0]];bX=b2[1];if(b0[bY+1]){var b1=(M*bX[bX.length-1]+aT[b0[bY+1][0]])/2;if(L<=b1){break}}}if(M===aT[a4]&&L<5*M){bX=[1,2,5]}if(M===aT[a4]&&L<5*M){bX=[1,2,5]}bZ=bu(L/M,bX);return{unitRange:M,count:bZ,unitName:b2[0]}}function ao(b3,bY,b2,b8){var b9=[],bZ,b7={},b6=bn.global.useUTC,b5,bX=new Date(bY),M=b3.unitRange,b1=b3.count;if(M>=aT[a7]){bX.setMilliseconds(0);bX.setSeconds(M>=aT[bw]?0:b1*bc(bX.getSeconds()/b1))}if(M>=aT[bw]){bX[am](M>=aT[S]?0:b1*bc(bX[y]()/b1))}if(M>=aT[S]){bX[bv](M>=aT[bx]?0:b1*bc(bX[T]()/b1))}if(M>=aT[bx]){bX[az](M>=aT[a6]?1:b1*bc(bX[ba]()/b1))}if(M>=aT[a6]){bX[bA](M>=aT[a4]?0:b1*bc(bX[W]()/b1));b5=bX[V]()}if(M>=aT[a4]){b5-=b5%b1;bX[D](b5)}if(M===aT[bI]){bX[az](bX[ba]()-bX[aq]()+aH(b8,1))}bZ=1;b5=bX[V]();var bW=bX.getTime(),b0=bX[W](),L=bX[ba](),b4=b6?0:(24*3600*1000+bX.getTimezoneOffset()*60*1000)%(24*3600*1000);while(bW<b2){b9.push(bW);if(M===aT[a4]){bW=X(b5+bZ*b1,0)}else{if(M===aT[a6]){bW=X(b5,b0+bZ*b1)}else{if(!b6&&(M===aT[bx]||M===aT[bI])){bW=X(b5,b0,L+bZ*b1*(M===aT[bx]?1:7))}else{bW+=M*b1;if(M<=aT[S]&&bW%aT[bx]===b4){b7[bW]=bx}}}}bZ++}b9.push(bW);b9.info=bb(b3,{higherRanks:b7,totalRange:M*b1});return b9}function J(){this.color=0;this.symbol=0}J.prototype={wrapColor:function(L){if(this.color>=L){this.color=0}},wrapSymbol:function(L){if(this.symbol>=L){this.symbol=0}}};function aC(M,L){var bY=M.length,bW,bX;for(bX=0;bX<bY;bX++){M[bX].ss_i=bX}M.sort(function(b0,bZ){bW=L(b0,bZ);return bW===0?b0.ss_i-bZ.ss_i:bW});for(bX=0;bX<bY;bX++){delete M[bX].ss_i}}function br(bW){var M=bW.length,L=bW[0];while(M--){if(bW[M]<L){L=bW[M]}}return L}function aE(bW){var M=bW.length,L=bW[0];while(M--){if(bW[M]>L){L=bW[M]}}return L}function a1(M,L){var bW;for(bW in M){if(M[bW]&&M[bW]!==L&&M[bW].destroy){M[bW].destroy()}delete M[bW]}}function bD(L){if(!ad){ad=bd(I)}if(L){ad.appendChild(L)}ad.innerHTML=""}function bC(M,L){var bW="Highcharts error #"+M+": www.highcharts.com/errors/"+M;if(L){throw bW}else{if(aS.console){console.log(bW)}}}function ab(L){return parseFloat(L.toPrecision(14))}function bQ(M,L){bV=aH(M,L.animation)}aT=aL(bJ,1,a7,1000,bw,60000,S,3600000,bx,24*3600000,bI,7*24*3600000,a6,30*24*3600000,a4,31556952000);an={init:function(bY,b3,b4){b3=b3||"";var M=bY.shift,bW=b3.indexOf("C")>-1,bX=bW?7:3,b1,b5,b0,L=b3.split(" "),bZ=[].concat(b4),b7,b2,b6=function(b8){b0=b8.length;while(b0--){if(b8[b0]===bj){b8.splice(b0+1,0,b8[b0+1],b8[b0+2],b8[b0+1],b8[b0+2])}}};if(bW){b6(L);b6(bZ)}if(bY.isArea){b7=L.splice(L.length-6,6);b2=bZ.splice(bZ.length-6,6)}if(M<=bZ.length/bX){while(M--){bZ=[].concat(bZ).splice(0,bX).concat(bZ)}}bY.shift=0;if(L.length){b1=bZ.length;while(L.length<b1){b5=[].concat(L).splice(L.length-bX,bX);if(bW){b5[bX-6]=b5[bX-2];b5[bX-5]=b5[bX-1]}L=L.concat(b5)}}if(b7){L=L.concat(b7);bZ=bZ.concat(b2)}return[L,bZ]},step:function(b0,M,bZ,L){var bX=[],bY=b0.length,bW;if(bZ===1){bX=L}else{if(bY===M.length&&bZ<1){while(bY--){bW=parseFloat(b0[bY]);bX[bY]=isNaN(bW)?b0[bY]:bZ*(parseFloat(M[bY]-bW))+bW}}else{bX=M}}return bX}};(function(L){aS.HighchartsAdapter=aS.HighchartsAdapter||(L&&{init:function(bZ){var bY=L.fx,bW=bY.step,bX,b0=L.Tween,M=b0&&b0.propHooks;L.extend(L.easing,{easeOutQuad:function(b2,b3,b1,b5,b4){return -b5*(b3/=b4)*(b3-2)+b1}});L.each(["cur","_default","width","height"],function(b1,b2){var b5=bW,b4,b3;if(b2==="cur"){b5=bY.prototype}else{if(b2==="_default"&&b0){b5=M[b2];b2="set"}}b4=b5[b2];if(b4){b5[b2]=function(b6){b6=b1?b6:this;b3=b6.elem;return b3.attr?b3.attr(b6.prop,b2==="cur"?j:b6.now):b4.apply(this,arguments)}}});bX=function(b3){var b2=b3.elem,b1;if(!b3.started){b1=bZ.init(b2,b2.d,b2.toD);b3.start=b1[0];b3.end=b1[1];b3.started=true}b2.attr("d",bZ.step(b3.start,b3.end,b3.pos,b2.toD))};if(b0){M.d={set:bX}}else{bW.d=bX}},getScript:L.getScript,inArray:L.inArray,adapterRun:function(M,bW){return L(M)[bW]()},each:function(bW,bY){var bX=0,M=bW.length;for(;bX<M;bX++){if(bY.call(bW[bX],bW[bX],bX,bW)===false){return bX}}},grep:L.grep,map:function(bW,bZ){var bY=[],bX=0,M=bW.length;for(;bX<M;bX++){bY[bX]=bZ.call(bW[bX],bW[bX],bX,bW)}return bY},merge:function(){var M=arguments;return L.extend(true,null,M[0],M[1],M[2],M[3])},offset:function(M){return L(M).offset()},addEvent:function(bW,bX,M){L(bW).bind(bX,M)},removeEvent:function(bX,M,bW){var bY=bq.removeEventListener?"removeEventListener":"detachEvent";if(bq[bY]&&!bX[bY]){bX[bY]=function(){}}L(bX).unbind(M,bW)},fireEvent:function(bZ,bY,bW,M){var b1=L.Event(bY),b0="detached"+bY,bX;if(!n&&bW){delete bW.layerX;delete bW.layerY}bb(b1,bW);if(bZ[bY]){bZ[b0]=bZ[bY];bZ[bY]=null}L.each(["preventDefault","stopPropagation"],function(b2,b3){var b4=b1[b3];b1[b3]=function(){try{b4.call(b1)}catch(b5){if(b3==="preventDefault"){bX=true}}}});L(bZ).trigger(b1);if(bZ[b0]){bZ[bY]=bZ[b0];bZ[b0]=null}if(M&&!b1.isDefaultPrevented()&&!bX){M(b1)}},washMouseEvent:function(bW){var M=bW.originalEvent||bW;M.pageX=bW.pageX;M.pageY=bW.pageY;return M},animate:function(bX,bY,M){var bW=L(bX);if(bY.d){bX.toD=bY.d;bY.d=1}bW.stop();bW.animate(bY,M)},stop:function(M){L(M).stop()}})}(aS.jQuery));var Z=aS.HighchartsAdapter,bM=Z||{},aD=bM.adapterRun,a3=bM.getScript,w=bM.inArray,C=bM.each,bm=bM.grep,bF=bM.offset,af=bM.map,aG=bM.merge,v=bM.addEvent,aU=bM.removeEvent,bi=bM.fireEvent,O=bM.washMouseEvent,o=bM.animate,aO=bM.stop;if(Z&&Z.init){Z.init(an)}var r={enabled:true,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};bn={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true,canvasToolsURL:"http://code.highcharts.com/2.3.1/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:true,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1000},events:{},lineWidth:2,shadow:true,marker:{enabled:true,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:true},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:aG(r,{enabled:false,y:-6,formatter:function(){return this.y}}),cropThreshold:300,pointRange:0,showInLegend:true,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:true}},labels:{style:{position:al,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:false,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:al,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:H,top:"1em"},style:{position:al,backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:true,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:true,shared:aW,snap:B?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var ag=bn.plotOptions,aK=ag.line;Q();function Q(){var bW=bn.global.useUTC,L=bW?"getUTC":"get",M=bW?"setUTC":"set";X=bW?Date.UTC:function(b0,b1,bY,bX,bZ,b2){return new Date(b0,b1,aH(bY,1),aH(bX,0),aH(bZ,0),aH(b2,0)).getTime()};y=L+"Minutes";T=L+"Hours";aq=L+"Day";ba=L+"Date";W=L+"Month";V=L+"FullYear";am=M+"Minutes";bv=M+"Hours";az=M+"Date";bA=M+"Month";D=M+"FullYear"}function aY(L){bn=aG(bn,L);Q();return bn}function aA(){return bn}var bz=function(M){var bY=[],L;function b0(b1){L=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(b1);if(L){bY=[bB(L[1]),bB(L[2]),bB(L[3]),parseFloat(L[4],10)]}else{L=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b1);if(L){bY=[bB(L[1],16),bB(L[2],16),bB(L[3],16),1]}}}function bX(b2){var b1;if(bY&&!isNaN(bY[0])){if(b2==="rgb"){b1="rgb("+bY[0]+","+bY[1]+","+bY[2]+")"}else{if(b2==="a"){b1=bY[3]}else{b1="rgba("+bY.join(",")+")"}}}else{b1=M}return b1}function bZ(b2){if(ap(b2)&&b2!==0){var b1;for(b1=0;b1<3;b1++){bY[b1]+=bB(b2*255);if(bY[b1]<0){bY[b1]=0}if(bY[b1]>255){bY[b1]=255}}}return this}function bW(b1){bY[3]=b1;return this}b0(M);return{get:bX,brighten:bZ,setOpacity:bW}};function at(){}at.prototype={init:function(L,bW){var M=this;M.element=bW==="span"?bd(bW):bq.createElementNS(aQ,bW);M.renderer=L;M.attrSetters={}},animate:function(bX,M,L){var bW=aH(M,bV,true);aO(this);if(bW){bW=aG(bW);if(L){bW.complete=L}o(this,bX,bW)}else{this.attr(bX);if(L){L()}}},attr:function(bW,cb){var bY=this,b9,b4,b3,b7,b1,bX=bY.element,L=bX.nodeName,b5=bY.renderer,b2,b6,ca=bY.attrSetters,M=bY.shadows,b0,bZ,b8=bY;if(bg(bW)&&ac(cb)){b9=bW;bW={};bW[b9]=cb}if(bg(bW)){b9=bW;if(L==="circle"){b9={x:"cx",y:"cy"}[b9]||b9}else{if(b9==="strokeWidth"){b9="stroke-width"}}b8=P(bX,b9)||bY[b9]||0;if(b9!=="d"&&b9!=="visibility"){b8=parseFloat(b8)}}else{for(b9 in bW){b2=false;b4=bW[b9];b3=ca[b9]&&ca[b9].call(bY,b4,b9);if(b3!==false){if(b3!==j){b4=b3}if(b9==="d"){if(b4&&b4.join){b4=b4.join(" ")}if(/(NaN| {2}|^$)/.test(b4)){b4="M 0 0"}}else{if(b9==="x"&&L==="text"){for(b7=0;b7<bX.childNodes.length;b7++){b1=bX.childNodes[b7];if(P(b1,"x")===P(bX,"x")){P(b1,"x",b4)}}if(bY.rotation){P(bX,"transform","rotate("+bY.rotation+" "+b4+" "+bB(bW.y||P(bX,"y"))+")")}}else{if(b9==="fill"){b4=b5.color(b4,bX,b9)}else{if(L==="circle"&&(b9==="x"||b9==="y")){b9={x:"cx",y:"cy"}[b9]||b9}else{if(L==="rect"&&b9==="r"){P(bX,{rx:b4,ry:b4});b2=true}else{if(b9==="translateX"||b9==="translateY"||b9==="rotation"||b9==="verticalAlign"){bZ=true;b2=true}else{if(b9==="stroke"){b4=b5.color(b4,bX,b9)}else{if(b9==="dashstyle"){b9="stroke-dasharray";b4=b4&&b4.toLowerCase();if(b4==="solid"){b4=x}else{if(b4){b4=b4.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");b7=b4.length;while(b7--){b4[b7]=bB(b4[b7])*bW["stroke-width"]}b4=b4.join(",")}}}else{if(b9==="isTracker"){bY[b9]=b4}else{if(b9==="width"){b4=bB(b4)}else{if(b9==="align"){b9="text-anchor";b4={left:"start",center:"middle",right:"end"}[b4]}else{if(b9==="title"){b6=bX.getElementsByTagName("title")[0];if(!b6){b6=bq.createElementNS(aQ,"title");bX.appendChild(b6)}b6.textContent=b4}}}}}}}}}}}}if(b9==="strokeWidth"){b9="stroke-width"}if(F&&b9==="stroke-width"&&b4===0){b4=0.000001}if(bY.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(b9)){if(!b0){bY.symbolAttr(bW);b0=true}b2=true}if(M&&/^(width|height|visibility|x|y|d|transform)$/.test(b9)){b7=M.length;while(b7--){P(M[b7],b9,b9==="height"?bU(b4-(M[b7].cutHeight||0),0):b4)}}if((b9==="width"||b9==="height")&&L==="rect"&&b4<0){b4=0}bY[b9]=b4;if(bZ){bY.updateTransform()}if(b9==="text"){bY.textStr=b4;if(bY.added){b5.buildText(bY)}}else{if(!b2){P(bX,b9,b4)}}}}}return b8},symbolAttr:function(L){var M=this;C(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(bW){M[bW]=aH(L[bW],M[bW])});M.attr({d:M.renderer.symbols[M.symbolName](M.x,M.y,M.width,M.height,M)})},clip:function(L){return this.attr("clip-path",L?"url("+this.renderer.url+"#"+L.id+")":x)},crisp:function(bZ,b0,bY,bW,b3){var L=this,b2,M={},b1={},bX;bZ=bZ||L.strokeWidth||(L.attr&&L.attr("stroke-width"))||0;bX=l(bZ)%2/2;b1.x=bc(b0||L.x||0)+bX;b1.y=bc(bY||L.y||0)+bX;b1.width=bc((bW||L.width||0)-2*bX);b1.height=bc((b3||L.height||0)-2*bX);b1.strokeWidth=bZ;for(b2 in b1){if(L[b2]!==b1[b2]){L[b2]=M[b2]=b1[b2]}}return M},css:function(bX){var L=this,bW=L.element,bZ=bX&&bX.width&&bW.nodeName==="text",b0,bY="",M=function(b2,b1){return"-"+b1.toLowerCase()};if(bX&&bX.color){bX.fill=bX.color}bX=bb(L.styles,bX);L.styles=bX;if(n&&!bK){if(bZ){delete bX.width}bP(L.element,bX)}else{for(b0 in bX){bY+=b0.replace(/([A-Z])/g,M)+":"+bX[b0]+";"}L.attr({style:bY})}if(bZ&&L.added){L.renderer.buildText(L)}return L},on:function(L,bW){var M=bW;if(B&&L==="click"){L="touchstart";M=function(bX){bX.preventDefault();bW()}}this.element["on"+L]=M;return this},setRadialReference:function(L){this.element.radialReference=L;return this},translate:function(L,M){return this.attr({translateX:L,translateY:M})},invert:function(){var L=this;L.inverted=true;L.updateTransform();return L},htmlCss:function(M){var bX=this,L=bX.element,bW=M&&L.tagName==="SPAN"&&M.width;if(bW){delete M.width;bX.textWidth=bW;bX.updateTransform()}bX.styles=bb(bX.styles,M);bP(bX.element,M);return bX},htmlGetBBox:function(bW){var bX=this,L=bX.element,M=bX.bBox;if(!M||bW){if(L.nodeName==="text"){L.style.position=al}M=bX.bBox={x:L.offsetLeft,y:L.offsetTop,width:L.offsetWidth,height:L.offsetHeight}}return M},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=true;return}var bX=this,b9=bX.renderer,cd=bX.element,cg=bX.translateX||0,cf=bX.translateY||0,b2=bX.x||0,b0=bX.y||0,cb=bX.textAlign||"left",b3={left:0,center:0.5,right:1}[cb],bY=cb&&cb!=="left",L=bX.shadows;if(cg||cf){bP(cd,{marginLeft:cg,marginTop:cf});if(L){C(L,function(ch){bP(ch,{marginLeft:cg+1,marginTop:cf+1})})}}if(bX.inverted){C(cd.childNodes,function(ch){b9.invertChild(ch,cd)})}if(cd.tagName==="SPAN"){var b8,b6,ca=bX.rotation,b5,ce=0,bW=1,b4=0,b1,M=bB(bX.textWidth),cc=bX.xCorr||0,bZ=bX.yCorr||0,b7=[ca,cb,cd.innerHTML,bX.textWidth].join(",");if(b7!==bX.cTT){if(ac(ca)){ce=ca*au;bW=bL(ce);b4=Y(ce);bP(cd,{filter:ca?["progid:DXImageTransform.Microsoft.Matrix(M11=",bW,", M12=",-b4,", M21=",b4,", M22=",bW,", sizingMethod='auto expand')"].join(""):x})}b8=aH(bX.elemWidth,cd.offsetWidth);b6=aH(bX.elemHeight,cd.offsetHeight);if(b8>M&&/[ \-]/.test(cd.innerText)){bP(cd,{width:M+U,display:"block",whiteSpace:"normal"});b8=M}b5=b9.fontMetrics(cd.style.fontSize).b;cc=bW<0&&-b8;bZ=b4<0&&-b6;b1=bW*b4<0;cc+=b4*b5*(b1?1-b3:b3);bZ-=bW*b5*(ca?(b1?b3:1-b3):1);if(bY){cc-=b8*b3*(bW<0?-1:1);if(ca){bZ-=b6*b3*(b4<0?-1:1)}bP(cd,{textAlign:cb})}bX.xCorr=cc;bX.yCorr=bZ}bP(cd,{left:(b2+cc)+U,top:(b0+bZ)+U});bX.cTT=b7}},updateTransform:function(){var bZ=this,bY=bZ.translateX||0,bX=bZ.translateY||0,L=bZ.inverted,bW=bZ.rotation,M=[];if(L){bY+=bZ.attr("width");bX+=bZ.attr("height")}if(bY||bX){M.push("translate("+bY+","+bX+")")}if(L){M.push("rotate(90) scale(-1,1)")}else{if(bW){M.push("rotate("+bW+" "+(bZ.x||0)+" "+(bZ.y||0)+")")}}if(M.length){P(bZ.element,"transform",M.join(" "))}},toFront:function(){var L=this.element;L.parentNode.appendChild(L);return this},align:function(M,bZ,bW){var b2=this;if(!M){M=b2.alignOptions;bZ=b2.alignByTranslate}else{b2.alignOptions=M;b2.alignByTranslate=bZ;if(!bW){b2.renderer.alignedObjects.push(b2)}}bW=aH(bW,b2.renderer);var bY=M.align,bX=M.verticalAlign,b1=(bW.x||0)+(M.x||0),b0=(bW.y||0)+(M.y||0),L={};if(/^(right|center)$/.test(bY)){b1+=(bW.width-(M.width||0))/{right:1,center:2}[bY]}L[bZ?"translateX":"x"]=l(b1);if(/^(bottom|middle)$/.test(bX)){b0+=(bW.height-(M.height||0))/({bottom:1,middle:2}[bX]||1)}L[bZ?"translateY":"y"]=l(b0);b2[b2.placed?"animate":"attr"](L);b2.placed=true;b2.alignAttr=L;return b2},getBBox:function(bY){var L=this,b1,M,b0,b2=L.rotation,bW=L.element,bZ=b2*au;if(bW.namespaceURI===aQ||L.renderer.forExport){try{b1=bW.getBBox?bb({},bW.getBBox()):{width:bW.offsetWidth,height:bW.offsetHeight}}catch(bX){}if(!b1||b1.width<0){b1={width:0,height:0}}M=b1.width;b0=b1.height;if(b2){b1.width=f(b0*Y(bZ))+f(M*bL(bZ));b1.height=f(b0*bL(bZ))+f(M*Y(bZ))}}else{b1=L.htmlGetBBox(bY)}return b1},show:function(){return this.attr({visibility:ai})},hide:function(){return this.attr({visibility:ae})},add:function(b2){var b0=this.renderer,bZ=b2||b0,bY=bZ.element||b0.box,b4=bY.childNodes,bX=this.element,b1=P(bX,"zIndex"),b3,L,bW,M;if(b2){this.parentGroup=b2}this.parentInverted=b2&&b2.inverted;if(this.textStr!==undefined){b0.buildText(this)}if(b1){bZ.handleZ=true;b1=bB(b1)}if(bZ.handleZ){for(bW=0;bW<b4.length;bW++){b3=b4[bW];L=P(b3,"zIndex");if(b3!==bX&&(bB(L)>b1||(!ac(b1)&&ac(L)))){bY.insertBefore(bX,b3);M=true;break}}}if(!M){bY.appendChild(bX)}this.added=true;bi(this,"add");return this},safeRemoveChild:function(M){var L=M.parentNode;if(L){L.removeChild(M)}},destroy:function(){var bZ=this,bW=bZ.element||{},bY=bZ.shadows,bX=bZ.box,M,L;bW.onclick=bW.onmouseout=bW.onmouseover=bW.onmousemove=null;aO(bZ);if(bZ.clipPath){bZ.clipPath=bZ.clipPath.destroy()}if(bZ.stops){for(L=0;L<bZ.stops.length;L++){bZ.stops[L]=bZ.stops[L].destroy()}bZ.stops=null}bZ.safeRemoveChild(bW);if(bY){C(bY,function(b0){bZ.safeRemoveChild(b0)})}if(bX){bX.destroy()}N(bZ.renderer.alignedObjects,bZ);for(M in bZ){delete bZ[M]}return null},empty:function(){var M=this.element,bW=M.childNodes,L=bW.length;while(L--){M.removeChild(bW[L])}},shadow:function(b4,b3,M){var bX=[],bY,b2,bZ=this.element,b0,bW,b1,L;if(b4){bW=aH(b4.width,3);b1=(b4.opacity||0.15)/bW;L=this.parentInverted?"(-1,-1)":"("+(b4.offsetX||1)+", "+(b4.offsetY||1)+")";for(bY=1;bY<=bW;bY++){b2=bZ.cloneNode(0);b0=(bW*2)+1-(2*bY);P(b2,{isShadow:"true",stroke:b4.color||"black","stroke-opacity":b1*bY,"stroke-width":b0,transform:"translate"+L,fill:x});if(M){P(b2,"height",bU(P(b2,"height")-b0,0));b2.cutHeight=b0}if(b3){b3.element.appendChild(b2)}else{bZ.parentNode.insertBefore(b2,bZ)}bX.push(b2)}this.shadows=bX}return this}};var d=function(){this.init.apply(this,arguments)};d.prototype={Element:at,init:function(L,M,b1,b2){var bZ=this,bY=location,bX;bX=bZ.createElement("svg").attr({xmlns:aQ,version:"1.1"});L.appendChild(bX.element);bZ.isSVG=true;bZ.box=bX.element;bZ.boxWrapper=bX;bZ.alignedObjects=[];bZ.url=(be||F)&&bq.getElementsByTagName("base").length?bY.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";bZ.defs=this.createElement("defs").add();bZ.forExport=b2;bZ.gradients={};bZ.setSize(M,b1,false);var bW,b0;if(be&&L.getBoundingClientRect){bZ.subPixelFix=bW=function(){bP(L,{left:0,top:0});b0=L.getBoundingClientRect();bP(L,{left:(aw(b0.left)-b0.left)+U,top:(aw(b0.top)-b0.top)+U})};bW();v(aS,"resize",bW)}},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var L=this,M=L.defs;L.box=null;L.boxWrapper=L.boxWrapper.destroy();a1(L.gradients||{});L.gradients=null;if(M){L.defs=M.destroy()}if(L.subPixelFix){aU(aS,"resize",L.subPixelFix)}L.alignedObjects=null;return null},createElement:function(M){var L=new this.Element();L.init(this,M);return L},draw:function(){},buildText:function(L){var bX=L.element,b8=aH(L.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),b4=bX.childNodes,b6=/style="([^"]+)"/,bW=/href="([^"]+)"/,b5=P(bX,"x"),b1=L.styles,M=b1&&bB(b1.width),b3=b1&&b1.lineHeight,b2,bZ="getComputedStyle",b0=b4.length,b7=[];function bY(b9){b7[b9]=bX.getBBox?bX.getBBox().height:L.renderer.fontMetrics(bX.style.fontSize).h;return l(b7[b9]-(b7[b9-1]||0))}while(b0--){bX.removeChild(b4[b0])}if(M&&!L.added){this.box.appendChild(bX)}if(b8[b8.length-1]===""){b8.pop()}C(b8,function(b9,cd){var cb,ca=0,cc;b9=b9.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");cb=b9.split("|||");C(cb,function(cg){if(cg!==""||cb.length===1){var ce={},ci=bq.createElementNS(aQ,"tspan");if(b6.test(cg)){P(ci,"style",cg.match(b6)[1].replace(/(;| |^)color([ :])/,"$1fill$2"))}if(bW.test(cg)){P(ci,"onclick",'location.href="'+cg.match(bW)[1]+'"');bP(ci,{cursor:"pointer"})}cg=(cg.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");ci.appendChild(bq.createTextNode(cg));if(!ca){ce.x=b5}else{ce.dx=3}if(!ca){if(cd){if(!bK&&L.renderer.forExport){bP(ci,{display:"block"})}cc=aS[bZ]&&bB(aS[bZ](b2,null).getPropertyValue("line-height"));if(!cc||isNaN(cc)){cc=b3||b2.offsetHeight||bY(cd)||18}P(ci,"dy",cc)}b2=ci}P(ci,ce);bX.appendChild(ci);ca++;if(M){var cj=cg.replace(/-/g,"- ").split(" "),ck,ch,cf=[];while(cj.length||cf.length){ch=L.getBBox().width;ck=ch>M;if(!ck||cj.length===1){cj=cf;cf=[];if(cj.length){ci=bq.createElementNS(aQ,"tspan");P(ci,{dy:b3||16,x:b5});bX.appendChild(ci);if(ch>M){M=ch}}}else{ci.removeChild(ci.firstChild);cf.unshift(cj.pop())}if(cj.length){ci.appendChild(bq.createTextNode(cj.join(" ").replace(/- /g,"-")))}}}}})})},button:function(b8,b6,b3,b7,M,bZ,bX){var b5=this.label(b8,b6,b3),b1=0,b9,b2,L,bY,bW,b4="style",b0={x1:0,y1:0,x2:0,y2:1};M=aG(aL(aF,1,bN,"#999",aZ,aL(av,b0,by,[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,b4,aL("color","black")),M);L=M[b4];delete M[b4];bZ=aG(M,aL(bN,"#68A",aZ,aL(av,b0,by,[[0,"#FFF"],[1,"#ACF"]])),bZ);bY=bZ[b4];delete bZ[b4];bX=aG(M,aL(bN,"#68A",aZ,aL(av,b0,by,[[0,"#9BD"],[1,"#CDF"]])),bX);bW=bX[b4];delete bX[b4];v(b5.element,"mouseenter",function(){b5.attr(bZ).css(bY)});v(b5.element,"mouseleave",function(){b9=[M,bZ,bX][b1];b2=[L,bY,bW][b1];b5.attr(b9).css(b2)});b5.setState=function(ca){b1=ca;if(!ca){b5.attr(M).css(L)}else{if(ca===2){b5.attr(bX).css(bW)}}};return b5.on("click",function(){b7.call(b5)}).attr(M).css(bb({cursor:"default"},L))},crispLine:function(M,L){if(M[1]===M[4]){M[1]=M[4]=l(M[1])-(L%2/2)}if(M[2]===M[5]){M[2]=M[5]=l(M[2])+(L%2/2)}return M},path:function(M){var L={fill:x};if(aB(M)){L.d=M}else{if(bR(M)){bb(L,M)}}return this.createElement("path").attr(L)},circle:function(M,bX,bW){var L=bR(M)?M:{x:M,y:bX,r:bW};return this.createElement("circle").attr(L)},arc:function(L,bZ,bX,bW,bY,M){if(bR(L)){bZ=L.y;bX=L.r;bW=L.innerR;bY=L.start;M=L.end;L=L.x}return this.symbol("arc",L||0,bZ||0,bX||0,bX||0,{innerR:bW||0,start:bY||0,end:M||0})},rect:function(M,b0,bW,L,bX,bZ){bX=bR(M)?M.r:bX;var bY=this.createElement("rect").attr({rx:bX,ry:bX,fill:x});return bY.attr(bR(M)?M:bY.crisp(bZ,M,b0,bU(bW,0),bU(L,0)))},setSize:function(bY,L,bW){var bZ=this,M=bZ.alignedObjects,bX=M.length;bZ.width=bY;bZ.height=L;bZ.boxWrapper[aH(bW,true)?"animate":"attr"]({width:bY,height:L});while(bX--){M[bX].align()}},g:function(L){var M=this.createElement("g");return ac(L)?M.attr({"class":aX+L}):M},image:function(bZ,M,b0,bX,L){var bY={preserveAspectRatio:x},bW;if(arguments.length>1){bb(bY,{x:M,y:b0,width:bX,height:L})}bW=this.createElement("image").attr(bY);if(bW.element.setAttributeNS){bW.element.setAttributeNS("http://www.w3.org/1999/xlink","href",bZ)}else{bW.element.setAttribute("hc-svg-href",bZ)}return bW},symbol:function(bX,b3,b1,M,b4,b6){var bZ,bW=this.symbols[bX],b5=bW&&bW(l(b3),l(b1),M,b4,b6),bY=/^url\((.*?)\)$/,b2,b0,L;if(b5){bZ=this.path(b5);bb(bZ,{symbolName:bX,x:b3,y:b1,width:M,height:b4});if(b6){bb(bZ,b6)}}else{if(bY.test(bX)){L=function(b7,b8){b7.attr({width:b8[0],height:b8[1]});if(!b7.alignByTranslate){b7.translate(-l(b8[0]/2),-l(b8[1]/2))}};b2=bX.match(bY)[1];b0=c[b2];bZ=this.image(b2).attr({x:b3,y:b1});if(b0){L(bZ,b0)}else{bZ.attr({width:0,height:0});bd("img",{onload:function(){var b7=this;L(bZ,c[b2]=[b7.width,b7.height])},src:b2})}}}return bZ},symbols:{circle:function(L,bY,M,bX){var bW=0.166*M;return[bj,L+M/2,bY,"C",L+M+bW,bY,L+M+bW,bY+bX,L+M/2,bY+bX,"C",L-bW,bY+bX,L-bW,bY,L+M/2,bY,"Z"]},square:function(L,bX,M,bW){return[bj,L,bX,bk,L+M,bX,L+M,bX+bW,L,bX+bW,"Z"]},triangle:function(L,bX,M,bW){return[bj,L+M/2,bX,bk,L+M,bX+bW,L,bX+bW,"Z"]},"triangle-down":function(L,bX,M,bW){return[bj,L,bX,bk,L+M,bX,L+M/2,bX+bW,"Z"]},diamond:function(L,bX,M,bW){return[bj,L+M/2,bX,bk,L+M,bX+bW/2,L+M/2,bX+bW,L,bX+bW/2,"Z"]},arc:function(b5,b4,b7,b0,b8){var bW=b8.start,b2=b8.r||b7||b0,bX=b8.end-0.000001,b3=b8.innerR,bZ=b8.open,b1=bL(bW),L=Y(bW),M=bL(bX),b6=Y(bX),bY=b8.end-bW<K?0:1;return[bj,b5+b2*b1,b4+b2*L,"A",b2,b2,0,bY,1,b5+b2*M,b4+b2*b6,bZ?bj:bk,b5+b3*M,b4+b3*b6,"A",b3,b3,0,bY,0,b5+b3*b1,b4+b3*L,bZ?"":"Z"]}},clipRect:function(M,b0,bW,L){var bZ,bY=aX+a0++,bX=this.createElement("clipPath").attr({id:bY}).add(this.defs);bZ=this.rect(M,b0,bW,L,0).add(bX);bZ.id=bY;bZ.clipPath=bX;return bZ},color:function(bY,bX,M){var b4=this,b5,bW=/^rgba/,b6;if(bY&&bY.linearGradient){b6="linearGradient"}else{if(bY&&bY.radialGradient){b6="radialGradient"}}if(b6){var b0=bY[b6],b1=b4.gradients,L,b3,b2,bZ=bX.radialReference;if(!b0.id||!b1[b0.id]){if(aB(b0)){bY[b6]=b0={x1:b0[0],y1:b0[1],x2:b0[2],y2:b0[3],gradientUnits:"userSpaceOnUse"}}if(b6==="radialGradient"&&bZ&&!ac(b0.gradientUnits)){bb(b0,{cx:(bZ[0]-bZ[2]/2)+b0.cx*bZ[2],cy:(bZ[1]-bZ[2]/2)+b0.cy*bZ[2],r:b0.r*bZ[2],gradientUnits:"userSpaceOnUse"})}b0.id=aX+a0++;b1[b0.id]=L=b4.createElement(b6).attr(b0).add(b4.defs);L.stops=[];C(bY.stops,function(b7){var b8;if(bW.test(b7[1])){b5=bz(b7[1]);b3=b5.get("rgb");b2=b5.get("a")}else{b3=b7[1];b2=1}b8=b4.createElement("stop").attr({offset:b7[0],"stop-color":b3,"stop-opacity":b2}).add(L);L.stops.push(b8)})}return"url("+b4.url+"#"+b0.id+")"}else{if(bW.test(bY)){b5=bz(bY);P(bX,M+"-opacity",b5.get("a"));return b5.get("rgb")}else{bX.removeAttribute(M+"-opacity");return bY}}},text:function(bY,L,b0,bX){var bW=this,M=bn.chart.style,bZ;if(bX&&!bW.forExport){return bW.html(bY,L,b0)}L=l(aH(L,0));b0=l(aH(b0,0));bZ=bW.createElement("text").attr({x:L,y:b0,text:bY}).css({fontFamily:M.fontFamily,fontSize:M.fontSize});if(!bK&&bW.forExport){bZ.css({position:al})}bZ.x=L;bZ.y=b0;return bZ},html:function(bZ,L,b1){var bW=bn.chart.style,b0=this.createElement("span"),M=b0.attrSetters,bX=b0.element,bY=b0.renderer;M.text=function(b2){bX.innerHTML=b2;return false};M.x=M.y=M.align=function(b3,b2){if(b2==="align"){b2="textAlign"}b0[b2]=b3;b0.htmlUpdateTransform();return false};b0.attr({text:bZ,x:l(L),y:l(b1)}).css({position:al,whiteSpace:"nowrap",fontFamily:bW.fontFamily,fontSize:bW.fontSize});b0.css=b0.htmlCss;if(bY.isSVG){b0.add=function(b5){var b4,b2=bY.box.parentNode,b6,b3=[];if(b5){b4=b5.div;if(!b4){b6=b5;while(b6){b3.push(b6);b6=b6.parentGroup}C(b3.reverse(),function(b8){var b7;b4=b8.div=b8.div||bd(I,{className:P(b8.element,"class")},{position:al,left:(b8.translateX||0)+U,top:(b8.translateY||0)+U},b4||b2);b7=b4.style;bb(b8.attrSetters,{translateX:function(b9){b7.left=b9+U},translateY:function(b9){b7.top=b9+U},visibility:function(ca,b9){b7[b9]=ca}})})}}else{b4=b2}b4.appendChild(bX);b0.added=true;if(b0.alignOnAdd){b0.htmlUpdateTransform()}return b0}}return b0},fontMetrics:function(bW){bW=bB(bW||11);var L=bW<24?bW+4:l(bW*1.2),M=l(L*0.8);return{h:L,b:M}},label:function(cg,b7,b5,L,bY,bX,ci,cc,bW){var ch=this,bZ=ch.g(bW),ca=ch.text("",0,0,ci).attr({zIndex:1}),b8,b2,b1=0,cb=3,cf,cd,cl,ck,M=0,b9={},b4,cm=bZ.attrSetters;function b3(){var co,cn=ca.element.style;b2=(cf===undefined||cd===undefined||bZ.styles.textAlign)&&ca.getBBox(true);bZ.width=(cf||b2.width||0)+2*cb;bZ.height=(cd||b2.height||0)+2*cb;b4=cb+ch.fontMetrics(cn&&cn.fontSize).b;if(!b8){co=cc?-b4:0;bZ.box=b8=L?ch.symbol(L,-b1*cb,co,bZ.width,bZ.height):ch.rect(-b1*cb,co,bZ.width,bZ.height,0,b9[aF]);b8.add(bZ)}b8.attr(aG({width:bZ.width,height:bZ.height},b9));b9=null}function b6(){var cp=bZ.styles,co=cp&&cp.textAlign,cn=cb*(1-b1),cq;cq=cc?0:b4;if(ac(cf)&&(co==="center"||co==="right")){cn+={center:0.5,right:1}[co]*(cf-b2.width)}if(cn!==ca.x||cq!==ca.y){ca.attr({x:cn,y:cq})}ca.x=cn;ca.y=cq}function cj(cn,co){if(b8){b8.attr(cn,co)}else{b9[cn]=co}}function ce(){ca.add(bZ);bZ.attr({text:cg,x:b7,y:b5});if(ac(bY)){bZ.attr({anchorX:bY,anchorY:bX})}}v(bZ,"add",ce);cm.width=function(cn){cf=cn;return false};cm.height=function(cn){cd=cn;return false};cm.padding=function(cn){if(ac(cn)&&cn!==cb){cb=cn;b6()}return false};cm.align=function(cn){b1={left:0,center:0.5,right:1}[cn];return false};cm.text=function(co,cn){ca.attr(cn,co);b3();b6();return false};cm[aF]=function(co,cn){M=co%2/2;cj(cn,co);return false};cm.stroke=cm.fill=cm.r=function(co,cn){cj(cn,co);return false};cm.anchorX=function(co,cn){bY=co;cj(cn,co+M-cl);return false};cm.anchorY=function(co,cn){bX=co;cj(cn,co-ck);return false};cm.x=function(cn){bZ.x=cn;cn-=b1*((cf||b2.width)+cb);cl=l(cn);bZ.attr("translateX",cl);return false};cm.y=function(cn){ck=bZ.y=l(cn);bZ.attr("translateY",cn);return false};var b0=bZ.css;return bb(bZ,{css:function(co){if(co){var cn={};co=aG({},co);C(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(cp){if(co[cp]!==j){cn[cp]=co[cp];delete co[cp]}});ca.css(cn)}return b0.call(bZ,co)},getBBox:function(){return b8.getBBox()},shadow:function(cn){b8.shadow(cn);return bZ},destroy:function(){aU(bZ,"add",ce);aU(bZ.element,"mouseenter");aU(bZ.element,"mouseleave");if(ca){ca=ca.destroy()}at.prototype.destroy.call(bZ)}})}};bG=d;var bS;if(!bK&&!aW){var E={init:function(bW,bY){var bX=this,L=["<",bY,' filled="f" stroked="f"'],M=["position: ",al,";"];if(bY==="shape"||bY===I){M.push("left:0;top:0;width:1px;height:1px;")}if(A){M.push("visibility: ",bY===I?ae:ai)}L.push(' style="',M.join(""),'"/>');if(bY){L=bY===I||bY==="span"||bY==="img"?L.join(""):bW.prepVML(L);bX.element=bd(L)}bX.renderer=bW;bX.attrSetters={}},add:function(bX){var b0=this,bZ=b0.renderer,bW=b0.element,bY=bZ.box,M=bX&&bX.inverted,L=bX?bX.element||bX:bY;if(M){bZ.invertChild(bW,L)}if(A&&L.gVis===ae){bP(bW,{visibility:ae})}L.appendChild(bW);b0.added=true;if(b0.alignOnAdd&&!b0.deferUpdateTransform){b0.updateTransform()}bi(b0,"add");return b0},toggleChildren:function(bW,L){var bX=bW.childNodes,M=bX.length;while(M--){bP(bX[M],{visibility:L});if(bX[M].nodeName==="DIV"){this.toggleChildren(bX[M],L)}}},updateTransform:at.prototype.htmlUpdateTransform,attr:function(bW,cc){var bZ=this,ca,b4,b6,b3,bX=bZ.element||{},b8=bX.style,L=bX.nodeName,b5=bZ.renderer,b1=bZ.symbolName,b0,M=bZ.shadows,b2,cb=bZ.attrSetters,b9=bZ;if(bg(bW)&&ac(cc)){ca=bW;bW={};bW[ca]=cc}if(bg(bW)){ca=bW;if(ca==="strokeWidth"||ca==="stroke-width"){b9=bZ.strokeweight}else{b9=bZ[ca]}}else{for(ca in bW){b4=bW[ca];b2=false;b3=cb[ca]&&cb[ca].call(bZ,b4,ca);if(b3!==false&&b4!==null){if(b3!==j){b4=b3}if(b1&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(ca)){if(!b0){bZ.symbolAttr(bW);b0=true}b2=true}else{if(ca==="d"){b4=b4||[];bZ.d=b4.join(" ");b6=b4.length;var b7=[];while(b6--){if(ap(b4[b6])){b7[b6]=l(b4[b6]*10)-5}else{if(b4[b6]==="Z"){b7[b6]="x"}else{b7[b6]=b4[b6]}}}b4=b7.join(" ")||"x";bX.path=b4;if(M){b6=M.length;while(b6--){M[b6].path=M[b6].cutOff?this.cutOffPath(b4,M[b6].cutOff):b4}}b2=true}else{if(ca==="zIndex"||ca==="visibility"){if(A&&ca==="visibility"&&L==="DIV"){bX.gVis=b4;bZ.toggleChildren(bX,b4);if(b4===ai){b4=null}}if(b4){b8[ca]=b4}b2=true}else{if(ca==="width"||ca==="height"){b4=bU(0,b4);this[ca]=b4;if(bZ.updateClipping){bZ[ca]=b4;bZ.updateClipping()}else{b8[ca]=b4}b2=true}else{if(ca==="x"||ca==="y"){bZ[ca]=b4;b8[{x:"left",y:"top"}[ca]]=b4}else{if(ca==="class"){bX.className=b4}else{if(ca==="stroke"){b4=b5.color(b4,bX,ca);ca="strokecolor"}else{if(ca==="stroke-width"||ca==="strokeWidth"){bX.stroked=b4?true:false;ca="strokeweight";bZ[ca]=b4;if(ap(b4)){b4+=U}}else{if(ca==="dashstyle"){var bY=bX.getElementsByTagName("stroke")[0]||bd(b5.prepVML(["<stroke/>"]),null,null,bX);bY[ca]=b4||"solid";bZ.dashstyle=b4;b2=true}else{if(ca==="fill"){if(L==="SPAN"){b8.color=b4}else{bX.filled=b4!==x?true:false;b4=b5.color(b4,bX,ca,bZ);ca="fillcolor"}}else{if(L==="shape"&&ca==="rotation"){bZ[ca]=b4;bX.style.left=-l(Y(b4*au)+1)+U;bX.style.top=l(bL(b4*au))+U}else{if(ca==="translateX"||ca==="translateY"||ca==="rotation"){bZ[ca]=b4;bZ.updateTransform();b2=true}else{if(ca==="text"){this.bBox=null;bX.innerHTML=b4;b2=true}}}}}}}}}}}}}if(M&&ca==="visibility"){b6=M.length;while(b6--){M[b6].style[ca]=b4}}if(!b2){if(A){bX[ca]=b4}else{P(bX,ca,b4)}}}}}return b9},clip:function(bW){var bY=this,bX,M=bY.element,L=M.parentNode;if(bW){bX=bW.members;bX.push(bY);bY.destroyClip=function(){N(bX,bY)};if(L&&L.className==="highcharts-tracker"&&!A){bP(M,{visibility:ae})}}else{if(bY.destroyClip){bY.destroyClip()}}return bY.css(bW?bW.getCSS(bY):{clip:"inherit"})},css:at.prototype.htmlCss,safeRemoveChild:function(M){var L=M.parentNode;if(L){bD(M)}},destroy:function(){var L=this;if(L.destroyClip){L.destroyClip()}return at.prototype.destroy.apply(L)},empty:function(){var M=this.element,bX=M.childNodes,L=bX.length,bW;while(L--){bW=bX[L];bW.parentNode.removeChild(bW)}},on:function(L,M){this.element["on"+L]=function(){var bW=aS.event;bW.target=bW.srcElement;M(bW)};return this},cutOffPath:function(bW,M){var L;bW=bW.split(/[ ,]/);L=bW.length;if(L===9||L===11){bW[L-4]=bW[L-2]=bB(bW[L-2])-10*M}return bW.join(" ")},shadow:function(b6,b5,M){var bY=[],bZ,b0=this.element,b1=this.renderer,b4,bW=b0.style,b7,b8=b0.path,b2,L,bX,b3;if(b8&&typeof b8.value!=="string"){b8="x"}L=b8;if(b6){bX=aH(b6.width,3);b3=(b6.opacity||0.15)/bX;for(bZ=1;bZ<=3;bZ++){b2=(bX*2)+1-(2*bZ);if(M){L=this.cutOffPath(b8.value,b2+0.5)}b7=['<shape isShadow="true" strokeweight="',b2,'" filled="false" path="',L,'" coordsize="10 10" style="',b0.style.cssText,'" />'];b4=bd(b1.prepVML(b7),null,{left:bB(bW.left)+(b6.offsetX||1),top:bB(bW.top)+(b6.offsetY||1)});if(M){b4.cutOff=b2+1}b7=['<stroke color="',b6.color||"black",'" opacity="',b3*bZ,'"/>'];bd(b1.prepVML(b7),null,null,b4);if(b5){b5.element.appendChild(b4)}else{b0.parentNode.insertBefore(b4,b0)}bY.push(b4)}this.shadows=bY}return this}};E=a8(at,E);var aJ={Element:E,isIE8:p.indexOf("MSIE 8.0")>-1,init:function(bW,bX,M){var bZ=this,L,bY;bZ.alignedObjects=[];L=bZ.createElement(I);bY=L.element;bY.style.position=H;bW.appendChild(L.element);bZ.box=bY;bZ.boxWrapper=L;bZ.setSize(bX,M,false);if(!bq.namespaces.hcv){bq.namespaces.add("hcv","urn:schemas-microsoft-com:vml");$("<style type='text/css'> hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } </style>").appendTo("head")}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(M,bZ,bY,L){var bX=this.createElement(),bW=bR(M);return bb(bX,{members:[],left:bW?M.x:M,top:bW?M.y:bZ,width:bW?M.width:bY,height:bW?M.height:L,getCSS:function(b7){var b1=b7.inverted,b4=this,b6=b4.top,b5=b4.left,b3=b5+b4.width,b0=b6+b4.height,b2={clip:"rect("+l(b1?b5:b6)+"px,"+l(b1?b0:b3)+"px,"+l(b1?b3:b0)+"px,"+l(b1?b6:b5)+"px)"};if(!b1&&A&&b7.element.nodeName!=="IMG"){bb(b2,{width:b3+U,height:b0+U})}return b2},updateClipping:function(){C(bX.members,function(b0){b0.css(bX.getCSS(b0))})}})},color:function(ce,cr,b4,b7){var cl=this,cc,cm=/^rgba/,cn,bZ,ci=x;if(ce&&ce.linearGradient){bZ="gradient"}else{if(ce&&ce.radialGradient){bZ="pattern"}}if(bZ){var b9,bW,b3=ce.linearGradient||ce.radialGradient,b2,ct,b1,cs,ch,cg,cb,ca,cj="",cd=ce.stops,cq,cf,co=[],M=function(){cn=['<fill colors="'+co.join(",")+'" opacity="',cg,'" o:opacity2="',ch,'" type="',bZ,'" ',cj,'focus="100%" method="any" />'];bd(cl.prepVML(cn),null,null,cr)};cq=cd[0];cf=cd[cd.length-1];if(cq[0]>0){cd.unshift([0,cq[1]])}if(cf[0]<1){cd.push([1,cf[1]])}C(cd,function(cv,cu){if(cm.test(cv[1])){cc=bz(cv[1]);b9=cc.get("rgb");bW=cc.get("a")}else{b9=cv[1];bW=1}co.push((cv[0]*100)+"% "+b9);if(!cu){ch=bW;ca=b9}else{cg=bW;cb=b9}});if(b4==="fill"){if(bZ==="gradient"){b2=b3.x1||b3[0]||0;ct=b3.y1||b3[1]||0;b1=b3.x2||b3[2]||0;cs=b3.y2||b3[3]||0;cj='angle="'+(90-aM.atan((cs-ct)/(b1-b2))*180/K)+'"';M()}else{var cp=b3.r,bY=cp*2,bX=cp*2,b8=b3.cx,b6=b3.cy,b0=cr.radialReference,L,ck=function(){if(b0){L=b7.getBBox();b8+=(b0[0]-L.x)/L.width-0.5;b6+=(b0[1]-L.y)/L.height-0.5;bY*=b0[2]/L.width;bX*=b0[2]/L.height}cj='src="'+bn.global.VMLRadialGradientURL+'" size="'+bY+","+bX+'" origin="0.5,0.5" position="'+b8+","+b6+'" color2="'+ca+'" ';M()};if(b7.added){ck()}else{v(b7,"add",ck)}ci=cb}}else{ci=b9}}else{if(cm.test(ce)&&cr.tagName!=="IMG"){cc=bz(ce);cn=["<",b4,' opacity="',cc.get("a"),'"/>'];bd(this.prepVML(cn),null,null,cr);ci=cc.get("rgb")}else{var b5=cr.getElementsByTagName(b4);if(b5.length){b5[0].opacity=1}ci=ce}}return ci},prepVML:function(L){var M="display:inline-block;behavior:url(#default#VML);",bW=this.isIE8;L=L.join("");if(bW){L=L.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');if(L.indexOf('style="')===-1){L=L.replace("/>",' style="'+M+'" />')}else{L=L.replace('style="','style="'+M)}}else{L=L.replace("<","<hcv:")}return L},text:d.prototype.html,path:function(M){var L={coordsize:"10 10"};if(aB(M)){L.d=M}else{if(bR(M)){bb(L,M)}}return this.createElement("shape").attr(L)},circle:function(L,bW,M){return this.symbol("circle").attr({x:L-M,y:bW-M,width:2*M,height:2*M})},g:function(L){var bW,M;if(L){M={className:aX+L,"class":aX+L}}bW=this.createElement(I).attr(M);return bW},image:function(bY,M,bZ,bW,L){var bX=this.createElement("img").attr({src:bY});if(arguments.length>1){bX.css({left:M,top:bZ,width:bW,height:L})}return bX},rect:function(M,b0,bW,L,bX,bZ){if(bR(M)){b0=M.y;bW=M.width;L=M.height;bZ=M.strokeWidth;M=M.x}var bY=this.symbol("rect");bY.r=bX;return bY.attr(bY.crisp(bZ,M,b0,bU(bW,0),bU(L,0)))},invertChild:function(M,L){var bW=L.style;bP(M,{flip:"x",left:bB(bW.width)-1,top:bB(bW.height)-1,rotation:-90})},symbols:{arc:function(b5,b4,b7,bZ,b9){var bW=b9.start,bX=b9.end,b1=b9.r||b7||bZ,b0=bL(bW),L=Y(bW),M=bL(bX),b6=Y(bX),b3=b9.innerR,b8=0.08/b1,bY=(b3&&0.1/b3)||0,b2;if(bX-bW===0){return["x"]}else{if(2*K-bX+bW<b8){M=-b8}else{if(bX-bW<bY){M=bL(bW+bY)}}}b2=["wa",b5-b1,b4-b1,b5+b1,b4+b1,b5+b1*b0,b4+b1*L,b5+b1*M,b4+b1*b6];if(b9.open&&!b3){b2.push("e",bj,b5,b4)}b2.push("at",b5-b3,b4-b3,b5+b3,b4+b3,b5+b3*M,b4+b3*b6,b5+b3*b0,b4+b3*L,"x","e");return b2},circle:function(L,bX,M,bW){return["wa",L,bX,L+M,bX+bW,L+M,bX+bW/2,L+M,bX+bW/2,"e"]},rect:function(bX,bZ,bW,b1,b2){var b0=bX+bW,M=bZ+b1,bY,L;if(!ac(b2)||!b2.r){bY=d.prototype.symbols.square.apply(0,arguments)}else{L=aj(b2.r,bW,b1);bY=[bj,bX+L,bZ,bk,b0-L,bZ,"wa",b0-2*L,bZ,b0,bZ+2*L,b0-L,bZ,b0,bZ+L,bk,b0,M-L,"wa",b0-2*L,M-2*L,b0,M,b0,M-L,b0-L,M,bk,bX+L,M,"wa",bX,M-2*L,bX+2*L,M,bX+L,M,bX,M-L,bk,bX,bZ+L,"wa",bX,bZ,bX+2*L,bZ+2*L,bX,bZ+L,bX+L,bZ,"x","e"]}return bY}}};bS=function(){this.init.apply(this,arguments)};bS.prototype=aG(d.prototype,aJ);bG=bS}var bT,aV;if(aW){bT=function(){};bT.prototype.symbols={};aV=(function(){var M=[];function L(){var bX=M.length,bW;for(bW=0;bW<bX;bW++){M[bW]()}M=[]}return{push:function(bX,bW){if(M.length===0){a3(bW,L)}M.push(bX)}}}())}bG=bS||bT||d;function ax(M,bW,L){this.axis=M;this.pos=bW;this.type=L||"";this.isNew=true;if(!L){this.addLabel()}}ax.prototype={addLabel:function(){var ca=this,M=ca.axis,bW=M.options,b2=M.chart,cb=M.horiz,b4=M.categories,bX=ca.pos,b3=bW.labels,b7,cc=M.tickPositions,b5=(b4&&cb&&b4.length&&!b3.step&&!b3.staggerLines&&!b3.rotation&&b2.plotWidth/cc.length)||(!cb&&b2.plotWidth/2),bZ=bX===cc[0],b1=bX===cc[cc.length-1],b0,b8,b6=b4&&ac(b4[bX])?b4[bX]:bX,bY=ca.label,b9=cc.info,L;if(M.isDatetimeAxis&&b9){L=bW.dateTimeLabelFormats[b9.higherRanks[bX]||b9.unitName]}ca.isFirst=bZ;ca.isLast=b1;b7=M.labelFormatter.call({axis:M,chart:b2,isFirst:bZ,isLast:b1,dateTimeLabelFormat:L,value:M.isLog?ab(u(b6)):b6});b0=b5&&{width:bU(1,l(b5-2*(b3.padding||10)))+U};b0=bb(b0,b3.style);if(!ac(bY)){b8={align:b3.align};if(ap(b3.rotation)){b8.rotation=b3.rotation}ca.label=ac(b7)&&b3.enabled?b2.renderer.text(b7,0,0,b3.useHTML).attr(b8).css(b0).add(M.labelGroup):null}else{if(bY){bY.attr({text:b7}).css(b0)}}},getLabelSize:function(){var L=this.label,M=this.axis;return L?((this.labelBBox=L.getBBox(true)))[M.horiz?"height":"width"]:0},getLabelSides:function(){var bZ=this.labelBBox,bY=this.axis,M=bY.options,L=M.labels,bX=bZ.width,bW=bX*{left:0,center:0.5,right:1}[L.align]-L.x;return[-bW,bX-bW]},handleOverflow:function(b4,ca){var b7=true,bY=this.axis,b5=bY.chart,bZ=this.isFirst,b2=this.isLast,b6=ca.x,b1=bY.reversed,b9=bY.tickPositions;if(bZ||b2){var bX=this.getLabelSides(),b3=bX[0],bW=bX[1],M=b5.plotLeft,b0=M+bY.len,b8=bY.ticks[b9[b4+(bZ?1:-1)]],L=b8&&b8.label.xy&&b8.label.xy.x+b8.getLabelSides()[bZ?0:1];if((bZ&&!b1)||(b2&&b1)){if(b6+b3<M){b6=M-b3;if(b8&&b6+bW>L){b7=false}}}else{if(b6+bW>b0){b6=b0-bW;if(b8&&b6+b3<L){b7=false}}}ca.x=b6}return b7},getPosition:function(b0,bZ,bY,L){var bX=this.axis,bW=bX.chart,M=(L&&bW.oldChartHeight)||bW.chartHeight;return{x:b0?bX.translate(bZ+bY,null,null,L)+bX.transB:bX.left+bX.offset+(bX.opposite?((L&&bW.oldChartWidth)||bW.chartWidth)-bX.right-bX.left:0),y:b0?M-bX.bottom+bX.offset-(bX.opposite?bX.height:0):M-bX.translate(bZ+bY,null,null,L)-bX.transB}},getLabelPosition:function(b3,b1,b2,b4,bY,bZ,b0,L){var M=this.axis,bX=M.transA,bW=M.reversed,b5=M.staggerLines;b3=b3+bY.x-(bZ&&b4?bZ*bX*(bW?-1:1):0);b1=b1+bY.y-(bZ&&!b4?bZ*bX*(bW?1:-1):0);if(!ac(bY.y)){b1+=bB(b2.styles.lineHeight)*0.9-b2.getBBox().height/2}if(b5){b1+=(b0/(L||1)%b5)*16}return{x:b3,y:b1}},getMarkPath:function(M,bZ,bW,L,bY,bX){return bX.crispLine([bj,M,bZ,bk,M+(bY?0:-bW),bZ+(bY?bW:0)],L)},render:function(b3,M){var cl=this,bX=cl.axis,bY=bX.options,ce=bX.chart,ck=ce.renderer,co=bX.horiz,bZ=cl.type,b7=cl.label,b2=cl.pos,ch=bY.labels,b4=cl.gridLine,cg=bZ?bZ+"Grid":"grid",cj=bZ?bZ+"Tick":"tick",cf=bY[cg+"LineWidth"],ci=bY[cg+"LineColor"],b6=bY[cg+"LineDashStyle"],bW=bY[cj+"Length"],b5=bY[cj+"Width"]||0,cb=bY[cj+"Color"],cc=bY[cj+"Position"],cp,b9=cl.mark,L,b1=ch.step,cd,cn=true,cq=(bY.categories&&bY.tickmarkPlacement==="between")?0.5:0,b0=cl.getPosition(co,b2,cq,M),ca=b0.x,b8=b0.y,cm=bX.staggerLines;if(cf){cp=bX.getPlotLinePath(b2+cq,cf,M);if(b4===j){cd={stroke:ci,"stroke-width":cf};if(b6){cd.dashstyle=b6}if(!bZ){cd.zIndex=1}cl.gridLine=b4=cf?ck.path(cp).attr(cd).add(bX.gridGroup):null}if(!M&&b4&&cp){b4[cl.isNew?"attr":"animate"]({d:cp})}}if(b5&&bW){if(cc==="inside"){bW=-bW}if(bX.opposite){bW=-bW}L=cl.getMarkPath(ca,b8,bW,b5,co,ck);if(b9){b9.animate({d:L})}else{cl.mark=ck.path(L).attr({stroke:cb,"stroke-width":b5}).add(bX.axisGroup)}}if(b7&&!isNaN(ca)){b7.xy=b0=cl.getLabelPosition(ca,b8,b7,co,ch,cq,b3,b1);if((cl.isFirst&&!aH(bY.showFirstLabel,1))||(cl.isLast&&!aH(bY.showLastLabel,1))){cn=false}else{if(!cm&&co&&ch.overflow==="justify"&&!cl.handleOverflow(b3,b0)){cn=false}}if(b1&&b3%b1){cn=false}if(cn){b7[cl.isNew?"attr":"animate"](b0);b7.show();cl.isNew=false}else{b7.hide()}}},destroy:function(){a1(this,this.axis)}};function bs(M,L){this.axis=M;if(L){this.options=L;this.id=L.id}return this}bs.prototype={render:function(){var ci=this,bY=ci.axis,cj=bY.horiz,bX=(bY.pointRange||0)/2,bZ=ci.options,L=bZ.label,b1=ci.label,ca=bZ.width,bW=bZ.to,cg=bZ.from,b9=ac(cg)&&ac(bW),cc=bZ.value,b0=bZ.dashStyle,ce=ci.svgElem,b8=[],cd,b5,b2,ch,b4,b3,cf=bZ.color,b7=bZ.zIndex,M=bZ.events,b6,cb=bY.chart.renderer;if(bY.isLog){cg=q(cg);bW=q(bW);cc=q(cc)}if(ca){b8=bY.getPlotLinePath(cc,ca);b6={stroke:cf,"stroke-width":ca};if(b0){b6.dashstyle=b0}}else{if(b9){cg=bU(cg,bY.min-bX);bW=aj(bW,bY.max+bX);b8=bY.getPlotBandPath(cg,bW,bZ);b6={fill:cf};if(bZ.borderWidth){b6.stroke=bZ.borderColor;b6["stroke-width"]=bZ.borderWidth}}else{return}}if(ac(b7)){b6.zIndex=b7}if(ce){if(b8){ce.animate({d:b8},null,ce.onGetPath)}else{ce.hide();ce.onGetPath=function(){ce.show()}}}else{if(b8&&b8.length){ci.svgElem=ce=cb.path(b8).attr(b6).add();if(M){cd=function(ck){ce.on(ck,function(cl){M[ck].apply(ci,[cl])})};for(b5 in M){cd(b5)}}}}if(L&&ac(L.text)&&b8&&b8.length&&bY.width>0&&bY.height>0){L=aG({align:cj&&b9&&"center",x:cj?!b9&&4:10,verticalAlign:!cj&&b9&&"middle",y:cj?b9?16:10:b9?6:-4,rotation:cj&&!b9&&90},L);if(!b1){ci.label=b1=cb.text(L.text,0,0).attr({align:L.textAlign||L.align,rotation:L.rotation,zIndex:b7}).css(L.style).add()}b2=[b8[1],b8[4],aH(b8[6],b8[1])];ch=[b8[2],b8[5],aH(b8[7],b8[2])];b4=br(b2);b3=br(ch);b1.align(L,false,{x:b4,y:b3,width:aE(b2)-b4,height:aE(ch)-b3});b1.show()}else{if(b1){b1.hide()}}return ci},destroy:function(){var L=this,M=L.axis;N(M.plotLinesAndBands,L);a1(L,this.axis)}};function ar(bY,bX,M,L,bZ){var bW=bY.chart.inverted;this.axis=bY;this.isNegative=M;this.options=bX;this.x=L;this.stack=bZ;this.alignOptions={align:bX.align||(bW?(M?"left":"right"):"center"),verticalAlign:bX.verticalAlign||(bW?"middle":(M?"bottom":"top")),y:aH(bX.y,bW?4:(M?14:-6)),x:aH(bX.x,bW?(M?-6:6):0)};this.textAlign=bX.textAlign||(bW?(M?"right":"left"):"center")}ar.prototype={destroy:function(){a1(this,this.axis)},setTotal:function(L){this.total=L;this.cum=L},render:function(L){var M=this.options.formatter.call(this);if(this.label){this.label.attr({text:M,visibility:ae})}else{this.label=this.axis.chart.renderer.text(M,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:ae}).add(L)}},setOffset:function(bZ,b2){var b5=this,L=b5.axis,b0=L.chart,bW=b0.inverted,M=this.isNegative,b3=L.translate(this.total,0,0,0,1),bY=L.translate(0),bX=f(b3-bY),b4=b0.xAxis[0].translate(this.x)+bZ,b1=b0.plotHeight,b6={x:bW?(M?b3:b3-bX):b4,y:bW?b1-b4-b2:(M?(b1-b3-bX):b1-b3),width:bW?bX:b2,height:bW?b2:bX};if(this.label){this.label.align(this.alignOptions,null,b6).attr({visibility:ai})}}};function z(){this.init.apply(this,arguments)}z.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:r,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:false,formatter:function(){return this.total},style:r.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(bZ,bY){var L=bY.isX,bX=this;bX.horiz=bZ.inverted?!L:L;bX.isXAxis=L;bX.xOrY=L?"x":"y";bX.opposite=bY.opposite;bX.side=bX.horiz?(bX.opposite?0:2):(bX.opposite?1:3);bX.setOptions(bY);var b2=this.options,b0=b2.type,M=b0==="datetime";bX.labelFormatter=b2.labels.formatter||bX.defaultLabelFormatter;bX.staggerLines=bX.horiz&&b2.labels.staggerLines;bX.userOptions=bY;bX.minPixelPadding=0;bX.chart=bZ;bX.reversed=b2.reversed;bX.categories=b2.categories;bX.isLog=b0==="logarithmic";bX.isLinked=ac(b2.linkedTo);bX.isDatetimeAxis=M;bX.ticks={};bX.minorTicks={};bX.plotLinesAndBands=[];bX.alternateBands={};bX.len=0;bX.minRange=bX.userMinRange=b2.minRange||b2.maxZoom;bX.range=b2.range;bX.offset=b2.offset||0;bX.stacks={};bX.max=null;bX.min=null;var bW,b1=bX.options.events;bZ.axes.push(bX);bZ[L?"xAxis":"yAxis"].push(bX);bX.series=[];if(bZ.inverted&&L&&bX.reversed===j){bX.reversed=true}bX.removePlotBand=bX.removePlotBandOrLine;bX.removePlotLine=bX.removePlotBandOrLine;bX.addPlotBand=bX.addPlotBandOrLine;bX.addPlotLine=bX.addPlotBandOrLine;for(bW in b1){v(bX,bW,b1[bW])}if(bX.isLog){bX.val2lin=q;bX.lin2val=u}},setOptions:function(L){this.options=aG(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],aG(bn[this.isXAxis?"xAxis":"yAxis"],L))},defaultLabelFormatter:function(){var M=this.axis,b2=this.value,bY=M.categories,b1=this.dateTimeLabelFormat,bW=bn.lang.numericSymbols,bX=bW&&bW.length,bZ,b0,L=M.isLog?b2:M.tickInterval;if(bY){b0=b2}else{if(b1){b0=bE(b1,b2)}else{if(bX&&L>=1000){while(bX--&&b0===j){bZ=Math.pow(1000,bX+1);if(L>=bZ&&bW[bX]!==null){b0=k(b2/bZ,-1)+bW[bX]}}}}}if(b0===j){if(b2>=1000){b0=k(b2,0)}else{b0=k(b2,-1)}}return b0},getSeriesExtremes:function(){var bY=this,bX=bY.chart,bW=bY.stacks,L=[],bZ=[],M;bY.hasVisibleSeries=false;bY.dataMin=bY.dataMax=null;C(bY.series,function(ca){if(ca.visible||!bX.options.chart.ignoreHiddenSeries){var b6=ca.options,b1,cg,cc,b0,cf,b8,b3,cl,b9,b7,b2=b6.threshold,ck,b5=[],ce=0;bY.hasVisibleSeries=true;if(bY.isLog&&b2<=0){b2=b6.threshold=null}if(bY.isXAxis){b3=ca.xData;if(b3.length){bY.dataMin=aj(aH(bY.dataMin,b3[0]),br(b3));bY.dataMax=bU(aH(bY.dataMax,b3[0]),aE(b3))}}else{var cd,cj,cm,cb=ca.cropped,b4=ca.xAxis.getExtremes(),ch,ci=!!ca.modifyValue;b1=b6.stacking;bY.usePercentage=b1==="percent";if(b1){cf=b6.stack;b0=ca.type+aH(cf,"");b8="-"+b0;ca.stackKey=b0;cg=L[b0]||[];L[b0]=cg;cc=bZ[b8]||[];bZ[b8]=cc}if(bY.usePercentage){bY.dataMin=0;bY.dataMax=99}b3=ca.processedXData;cl=ca.processedYData;ck=cl.length;for(M=0;M<ck;M++){b9=b3[M];b7=cl[M];if(b7!==null&&b7!==j){if(b1){cd=b7<b2;cj=cd?cc:cg;cm=cd?b8:b0;b7=cj[b9]=ac(cj[b9])?cj[b9]+b7:b7;if(!bW[cm]){bW[cm]={}}if(!bW[cm][b9]){bW[cm][b9]=new ar(bY,bY.options.stackLabels,cd,b9,cf)}bW[cm][b9].setTotal(b7)}else{if(ci){b7=ca.modifyValue(b7)}}if(cb||((b3[M+1]||b9)>=b4.min&&(b3[M-1]||b9)<=b4.max)){ch=b7.length;if(ch){while(ch--){if(b7[ch]!==null){b5[ce++]=b7[ch]}}}else{b5[ce++]=b7}}}}if(!bY.usePercentage&&b5.length){bY.dataMin=aj(aH(bY.dataMin,b5[0]),br(b5));bY.dataMax=bU(aH(bY.dataMax,b5[0]),aE(b5))}if(ac(b2)){if(bY.dataMin>=b2){bY.dataMin=b2;bY.ignoreMinPadding=true}else{if(bY.dataMax<b2){bY.dataMax=b2;bY.ignoreMaxPadding=true}}}}}})},translate:function(bW,b5,b6,bX,b4,b1){var bY=this,b0=bY.len,M=1,b3=0,bZ=bX?bY.oldTransA:bY.transA,b7=bX?bY.oldMin:bY.min,L,b2=bY.options.ordinal||(bY.isLog&&b4);if(!bZ){bZ=bY.transA}if(b6){M*=-1;b3=b0}if(bY.reversed){M*=-1;b3-=M*b0}if(b5){if(bY.reversed){bW=b0-bW}L=bW/bZ+b7;if(b2){L=bY.lin2val(L)}}else{if(b2){bW=bY.val2lin(bW)}L=M*(bW-b7)*bZ+b3+(M*bY.minPixelPadding)+(b1?bZ*bY.pointRange/2:0)}return L},getPlotLinePath:function(b8,b3,bX){var bY=this,b5=bY.chart,b2=bY.left,L=bY.top,bW,b7,M,b6,b1=bY.translate(b8,null,null,bX),b4=(bX&&b5.oldChartHeight)||b5.chartHeight,bZ=(bX&&b5.oldChartWidth)||b5.chartWidth,b9,b0=bY.transB;bW=M=l(b1+b0);b7=b6=l(b4-b1-b0);if(isNaN(b1)){b9=true}else{if(bY.horiz){b7=L;b6=b4-bY.bottom;if(bW<b2||bW>b2+bY.width){b9=true}}else{bW=b2;M=bZ-bY.right;if(b7<L||b7>L+bY.height){b9=true}}}return b9?null:b5.renderer.crispLine([bj,bW,b7,bk,M,b6],b3||0)},getPlotBandPath:function(bX,bW){var L=this.getPlotLinePath(bW),M=this.getPlotLinePath(bX);if(M&&L){M.push(L[4],L[5],L[1],L[2])}else{M=null}return M},getLinearTickPositions:function(M,bY,L){var b1,b0,bZ=ab(bc(bY/M)*M),bX=ab(aw(L/M)*M),bW=[];b1=bZ;while(b1<=bX){bW.push(b1);b1=ab(b1+M);if(b1===b0){break}b0=b1}return bW},getLogTickPositions:function(cf,b7,ca,M){var bW=this,bX=bW.options,L=bW.len;var b3=[];if(!M){bW._minorAutoInterval=null}if(cf>=0.5){cf=l(cf);b3=bW.getLinearTickPositions(cf,b7,ca)}else{if(cf>=0.08){var ce=bc(b7),cc,cb,b9,cd,bY,b8,b2;if(cf>0.3){cc=[1,2,4]}else{if(cf>0.15){cc=[1,2,4,6,8]}else{cc=[1,2,3,4,5,6,7,8,9]}}for(cb=ce;cb<ca+1&&!b2;cb++){cd=cc.length;for(b9=0;b9<cd&&!b2;b9++){bY=q(u(cb)*cc[b9]);if(bY>b7){b3.push(b8)}if(b8>ca){b2=true}b8=bY}}}else{var b5=u(b7),b6=u(ca),b1=bX[M?"minorTickInterval":"tickInterval"],b0=b1==="auto"?null:b1,b4=bX.tickPixelInterval/(M?5:1),bZ=M?L/bW.tickPositions.length:L;cf=aH(b0,bW._minorAutoInterval,(b6-b5)*b4/(bZ||1));cf=bu(cf,null,aM.pow(10,bc(aM.log(cf)/aM.LN10)));b3=af(bW.getLinearTickPositions(cf,b5,b6),q);if(!M){bW._minorAutoInterval=cf/5}}}if(!M){bW.tickInterval=cf}return b3},getMinorTickPositions:function(){var bX=this,M=bX.tickPositions,bZ=bX.minorTickInterval;var bY=[],b0,bW,L;if(bX.isLog){L=M.length;for(bW=1;bW<L;bW++){bY=bY.concat(bX.getLogTickPositions(bZ,M[bW-1],M[bW],true))}}else{for(b0=bX.min+(M[0]-bX.min)%bZ;b0<=bX.max;b0+=bZ){bY.push(b0)}}return bY},adjustForMinRange:function(){var bX=this,b7=bX.options,bZ=bX.min,b4=bX.max,b6,bW=bX.dataMax-bX.dataMin>=bX.minRange,M,b1,L,bY,b3,b5,b2;if(bX.isXAxis&&bX.minRange===j&&!bX.isLog){if(ac(b7.min)||ac(b7.max)){bX.minRange=null}else{C(bX.series,function(b8){bY=b8.xData;b3=b8.xIncrement?1:bY.length-1;for(b1=b3;b1>0;b1--){L=bY[b1]-bY[b1-1];if(M===j||L<M){M=L}}});bX.minRange=aj(M*5,bX.dataMax-bX.dataMin)}}if(b4-bZ<bX.minRange){var b0=bX.minRange;b6=(b0-b4+bZ)/2;b5=[bZ-b6,aH(b7.min,bZ-b6)];if(bW){b5[2]=bX.dataMin}bZ=aE(b5);b2=[bZ+b0,aH(b7.max,bZ+b0)];if(bW){b2[2]=bX.dataMax}b4=br(b2);if(b4-bZ<b0){b5[0]=b4-b0;b5[1]=aH(b7.min,b4-b0);bZ=aE(b5)}}bX.min=bZ;bX.max=b4},setAxisTranslation:function(){var bZ=this,M=bZ.max-bZ.min,bY=0,b0,bX=0,L=0,bW=bZ.transA;if(bZ.isXAxis){if(bZ.isLinked){bX=bZ.linkedParent.minPointOffset}else{C(bZ.series,function(b2){var b3=b2.pointRange,b4=b2.options.pointPlacement,b1=b2.closestPointRange;bY=bU(bY,b3);bX=bU(bX,b4?0:b3/2);L=bU(L,b4==="on"?0:b3);if(!b2.noSharedTooltip&&ac(b1)){b0=ac(b0)?aj(b0,b1):b1}})}bZ.minPointOffset=bX;bZ.pointRange=bY;bZ.closestPointRange=b0}bZ.oldTransA=bW;bZ.translationSlope=bZ.transA=bW=bZ.len/((M+L)||1);bZ.transB=bZ.horiz?bZ.left:bZ.bottom;bZ.minPixelPadding=bW*bX},setTickPositions:function(cd){var bW=this,b8=bW.chart,bX=bW.options,b6=bW.isLog,b4=bW.isDatetimeAxis,b5=bW.isXAxis,bZ=bW.isLinked,L=bW.options.tickPositioner,b1,ca=bX.maxPadding,M=bX.minPadding,bY,b7,b0=bX.tickInterval,cc=bX.minTickInterval,b3=bX.tickPixelInterval,cf,b9=bW.categories;if(bZ){bW.linkedParent=b8[b5?"xAxis":"yAxis"][bX.linkedTo];b7=bW.linkedParent.getExtremes();bW.min=aH(b7.min,b7.dataMin);bW.max=aH(b7.max,b7.dataMax);if(bX.type!==bW.linkedParent.options.type){bC(11,1)}}else{bW.min=aH(bW.userMin,bX.min,bW.dataMin);bW.max=aH(bW.userMax,bX.max,bW.dataMax)}if(b6){if(!cd&&aj(bW.min,aH(bW.dataMin,bW.min))<=0){bC(10,1)}bW.min=ab(q(bW.min));bW.max=ab(q(bW.max))}if(bW.range){bW.userMin=bW.min=bU(bW.min,bW.max-bW.range);bW.userMax=bW.max;if(cd){bW.range=null}}bW.adjustForMinRange();if(!b9&&!bW.usePercentage&&!bZ&&ac(bW.min)&&ac(bW.max)){bY=(bW.max-bW.min)||1;if(!ac(bX.min)&&!ac(bW.userMin)&&M&&(bW.dataMin<0||!bW.ignoreMinPadding)){bW.min-=bY*M}if(!ac(bX.max)&&!ac(bW.userMax)&&ca&&(bW.dataMax>0||!bW.ignoreMaxPadding)){bW.max+=bY*ca}}if(bW.min===bW.max||bW.min===undefined||bW.max===undefined){bW.tickInterval=1}else{if(bZ&&!b0&&b3===bW.linkedParent.options.tickPixelInterval){bW.tickInterval=bW.linkedParent.tickInterval}else{bW.tickInterval=aH(b0,b9?1:(bW.max-bW.min)*b3/(bW.len||1))}}if(b5&&!cd){C(bW.series,function(cg){cg.processData(bW.min!==bW.oldMin||bW.max!==bW.oldMax)})}bW.setAxisTranslation(cd);if(bW.beforeSetTickPositions){bW.beforeSetTickPositions()}if(bW.postProcessTickInterval){bW.tickInterval=bW.postProcessTickInterval(bW.tickInterval)}if(!b0&&bW.tickInterval<cc){bW.tickInterval=cc}if(!b4&&!b6){b1=aM.pow(10,bc(aM.log(bW.tickInterval)/aM.LN10));if(!b0){bW.tickInterval=bu(bW.tickInterval,null,b1,bX)}}bW.minorTickInterval=bX.minorTickInterval==="auto"&&bW.tickInterval?bW.tickInterval/5:bX.minorTickInterval;bW.tickPositions=cf=bX.tickPositions||(L&&L.apply(bW,[bW.min,bW.max]));if(!cf){if(b4){cf=(bW.getNonLinearTimeTicks||ao)(ak(bW.tickInterval,bX.units),bW.min,bW.max,bX.startOfWeek,bW.ordinalPositions,bW.closestPointRange,true)}else{if(b6){cf=bW.getLogTickPositions(bW.tickInterval,bW.min,bW.max)}else{cf=bW.getLinearTickPositions(bW.tickInterval,bW.min,bW.max)}}bW.tickPositions=cf}if(!bZ){var cb=cf[0],ce=cf[cf.length-1],b2=bW.minPointOffset||0;if(bX.startOnTick){bW.min=cb}else{if(bW.min-b2>cb){cf.shift()}}if(bX.endOnTick){bW.max=ce}else{if(bW.max+b2<ce){cf.pop()}}}},setMaxTicks:function(){var bW=this.chart,bX=bW.maxTicks,M=this.tickPositions,L=this.xOrY;if(!bX){bX={x:0,y:0}}if(!this.isLinked&&!this.isDatetimeAxis&&M.length>bX[L]&&this.options.alignTicks!==false){bX[L]=M.length}bW.maxTicks=bX},adjustTickAmount:function(){var bZ=this,bY=bZ.chart,L=bZ.xOrY,bW=bZ.tickPositions,b1=bY.maxTicks;if(b1&&b1[L]&&!bZ.isDatetimeAxis&&!bZ.categories&&!bZ.isLinked&&bZ.options.alignTicks!==false){var b0=bZ.tickAmount,M=bW.length,bX;bZ.tickAmount=bX=b1[L];if(M<bX){while(bW.length<bX){bW.push(ab(bW[bW.length-1]+bZ.tickInterval))}bZ.transA*=(M-1)/(bX-1);bZ.max=bW[bW.length-1]}if(ac(b0)&&bX!==b0){bZ.isDirty=true}}},setScale:function(){var bX=this,bW=bX.stacks,M,L,bZ,bY;bX.oldMin=bX.min;bX.oldMax=bX.max;bX.oldAxisLength=bX.len;bX.setAxisSize();bY=bX.len!==bX.oldAxisLength;C(bX.series,function(b0){if(b0.isDirtyData||b0.isDirty||b0.xAxis.isDirty){bZ=true}});if(bY||bZ||bX.isLinked||bX.userMin!==bX.oldUserMin||bX.userMax!==bX.oldUserMax){bX.getSeriesExtremes();bX.setTickPositions();bX.oldUserMin=bX.userMin;bX.oldUserMax=bX.userMax;if(!bX.isDirty){bX.isDirty=bY||bX.min!==bX.oldMin||bX.max!==bX.oldMax}}if(!bX.isXAxis){for(M in bW){for(L in bW[M]){bW[M][L].cum=bW[M][L].total}}}bX.setMaxTicks()},setExtremes:function(bZ,bX,b0,bY,L){var bW=this,M=bW.chart;b0=aH(b0,true);L=bb(L,{min:bZ,max:bX});bi(bW,"setExtremes",L,function(){bW.userMin=bZ;bW.userMax=bX;bW.isDirtyExtremes=true;if(b0){M.redraw(bY)}})},setAxisSize:function(){var bX=this,bW=bX.chart,L=bX.options;var bY=L.offsetLeft||0,M=L.offsetRight||0;bX.left=aH(L.left,bW.plotLeft+bY);bX.top=aH(L.top,bW.plotTop);bX.width=aH(L.width,bW.plotWidth-bY+M);bX.height=aH(L.height,bW.plotHeight);bX.bottom=bW.chartHeight-bX.height-bX.top;bX.right=bW.chartWidth-bX.width-bX.left;bX.len=bU(bX.horiz?bX.width:bX.height,0)},getExtremes:function(){var M=this,L=M.isLog;return{min:L?ab(u(M.min)):M.min,max:L?ab(u(M.max)):M.max,dataMin:M.dataMin,dataMax:M.dataMax,userMin:M.userMin,userMax:M.userMax}},getThreshold:function(M){var bX=this,L=bX.isLog;var bY=L?u(bX.min):bX.min,bW=L?u(bX.max):bX.max;if(bY>M||M===null){M=bY}else{if(bW<M){M=bW}}return bX.translate(M,0,1,0,1)},addPlotBandOrLine:function(L){var M=new bs(this,L).render();this.plotLinesAndBands.push(M);return M},getOffset:function(){var bX=this,b2=bX.chart,b6=b2.renderer,bZ=bX.options,cb=bX.tickPositions,cc=bX.ticks,b9=bX.horiz,bW=bX.side,b8,b4,L=0,ca,b0=0,M=bZ.title,b3=bZ.labels,b7=0,bY=b2.axisOffset,b1=[-1,1,1,-1][bW],b5;bX.hasData=b8=(bX.hasVisibleSeries||(ac(bX.min)&&ac(bX.max)&&!!cb));bX.showAxis=b4=b8||aH(bZ.showEmpty,true);if(!bX.axisGroup){bX.gridGroup=b6.g("grid").attr({zIndex:bZ.gridZIndex||1}).add();bX.axisGroup=b6.g("axis").attr({zIndex:bZ.zIndex||2}).add();bX.labelGroup=b6.g("axis-labels").attr({zIndex:b3.zIndex||7}).add()}if(b8||bX.isLinked){C(cb,function(cd){if(!cc[cd]){cc[cd]=new ax(bX,cd)}else{cc[cd].addLabel()}});C(cb,function(cd){if(bW===0||bW===2||{1:"left",3:"right"}[bW]===b3.align){b7=bU(cc[cd].getLabelSize(),b7)}});if(bX.staggerLines){b7+=(bX.staggerLines-1)*16}}else{for(b5 in cc){cc[b5].destroy();delete cc[b5]}}if(M&&M.text){if(!bX.axisTitle){bX.axisTitle=b6.text(M.text,0,0,M.useHTML).attr({zIndex:7,rotation:M.rotation||0,align:M.textAlign||{low:"left",middle:"center",high:"right"}[M.align]}).css(M.style).add(bX.axisGroup);bX.axisTitle.isNew=true}if(b4){L=bX.axisTitle.getBBox()[b9?"height":"width"];b0=aH(M.margin,b9?5:10);ca=M.offset}bX.axisTitle[b4?"show":"hide"]()}bX.offset=b1*aH(bZ.offset,bY[bW]);bX.axisTitleMargin=aH(ca,b7+b0+(bW!==2&&b7&&b1*bZ.labels[b9?"y":"x"]));bY[bW]=bU(bY[bW],bX.axisTitleMargin+L+b1*bX.offset)},getLinePath:function(M){var bX=this.chart,bY=this.opposite,bZ=this.offset,b0=this.horiz,L=this.left+(bY?this.width:0)+bZ,bW=bX.chartHeight-this.bottom-(bY?this.height:0)+bZ;return bX.renderer.crispLine([bj,b0?this.left:L,b0?bW:this.top,bk,b0?bX.chartWidth-this.right:L,b0?bW:bX.chartHeight-this.bottom],M)},getTitlePosition:function(){var b3=this.horiz,bZ=this.left,L=this.top,b1=this.len,b2=this.options.title,bX=b3?bZ:L,b0=this.opposite,bY=this.offset,b4=bB(b2.style.fontSize||12),M={low:bX+(b3?0:b1),middle:bX+b1/2,high:bX+(b3?b1:0)}[b2.align],bW=(b3?L+this.height:bZ)+(b3?1:-1)*(b0?-1:1)*this.axisTitleMargin+(this.side===2?b4:0);return{x:b3?M:bW+(b0?this.width:0)+bY+(b2.x||0),y:b3?bW-(b0?this.height:0)+bY:M+(b2.y||0)}},render:function(){var b0=this,ca=b0.chart,cd=ca.renderer,b2=b0.options,b9=b0.isLog,b6=b0.isLinked,ci=b0.tickPositions,b3=b0.axisTitle,ch=b0.stacks,cj=b0.ticks,bX=b0.minorTicks,b1=b0.alternateBands,cc=b2.stackLabels,bW=b2.alternateGridColor,M=b2.lineWidth,b5,b8=ca.hasRendered,b7=b8&&ac(b0.oldMin)&&!isNaN(b0.oldMin),cg=b0.hasData,cb=b0.showAxis,cf,bZ;if(cg||b6){if(b0.minorTickInterval&&!b0.categories){C(b0.getMinorTickPositions(),function(ck){if(!bX[ck]){bX[ck]=new ax(b0,ck,"minor")}if(b7&&bX[ck].isNew){bX[ck].render(null,true)}bX[ck].isActive=true;bX[ck].render()})}C(ci.slice(1).concat([ci[0]]),function(cl,ck){ck=(ck===ci.length-1)?0:ck+1;if(!b6||(cl>=b0.min&&cl<=b0.max)){if(!cj[cl]){cj[cl]=new ax(b0,cl)}if(b7&&cj[cl].isNew){cj[cl].render(ck,true)}cj[cl].isActive=true;cj[cl].render(ck)}});if(bW){C(ci,function(cl,ck){if(ck%2===0&&cl<b0.max){if(!b1[cl]){b1[cl]=new bs(b0)}cf=cl;bZ=ci[ck+1]!==j?ci[ck+1]:b0.max;b1[cl].options={from:b9?u(cf):cf,to:b9?u(bZ):bZ,color:bW};b1[cl].render();b1[cl].isActive=true}})}if(!b0._addedPlotLB){C((b2.plotLines||[]).concat(b2.plotBands||[]),function(ck){b0.addPlotBandOrLine(ck)});b0._addedPlotLB=true}}C([cj,bX,b1],function(ck){var cl;for(cl in ck){if(!ck[cl].isActive){ck[cl].destroy();delete ck[cl]}else{ck[cl].isActive=false}}});if(M){b5=b0.getLinePath(M);if(!b0.axisLine){b0.axisLine=cd.path(b5).attr({stroke:b2.lineColor,"stroke-width":M,zIndex:7}).add(b0.axisGroup)}else{b0.axisLine.animate({d:b5})}b0.axisLine[cb?"show":"hide"]()}if(b3&&cb){b3[b3.isNew?"attr":"animate"](b0.getTitlePosition());b3.isNew=false}if(cc&&cc.enabled){var bY,b4,ce,L=b0.stackTotalGroup;if(!L){b0.stackTotalGroup=L=cd.g("stack-labels").attr({visibility:ai,zIndex:6}).add()}L.translate(ca.plotLeft,ca.plotTop);for(bY in ch){b4=ch[bY];for(ce in b4){b4[ce].render(L)}}}b0.isDirty=false},removePlotBandOrLine:function(bW){var L=this.plotLinesAndBands,M=L.length;while(M--){if(L[M].id===bW){L[M].destroy()}}},setTitle:function(M,bY){var bW=this.chart,L=this.options,bX=this.axisTitle;L.title=aG(L.title,M);this.axisTitle=bX&&bX.destroy();this.isDirty=true;if(aH(bY,true)){bW.redraw()}},redraw:function(){var M=this,L=M.chart;if(L.tracker.resetTracker){L.tracker.resetTracker(true)}M.render();C(M.plotLinesAndBands,function(bW){bW.render()});C(M.series,function(bW){bW.isDirty=true})},setCategories:function(bW,bX){var M=this,L=M.chart;M.categories=M.userOptions.categories=bW;C(M.series,function(bY){bY.translate();bY.setTooltipPoints(true)});M.isDirty=true;if(aH(bX,true)){L.redraw()}},destroy:function(){var bW=this,M=bW.stacks,L;aU(bW);for(L in M){a1(M[L]);M[L]=null}C([bW.ticks,bW.minorTicks,bW.alternateBands,bW.plotLinesAndBands],function(bX){a1(bX)});C(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(bX){if(bW[bX]){bW[bX]=bW[bX].destroy()}})}};function bH(bX,M){var L=M.borderWidth,bW=M.style,bY=bB(bW.padding);this.chart=bX;this.options=M;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=true;this.label=bX.renderer.label("",0,0,M.shape,null,null,M.useHTML,null,"tooltip").attr({padding:bY,fill:M.backgroundColor,"stroke-width":L,r:M.borderRadius,zIndex:8}).css(bW).css({padding:0}).hide().add();if(!aW){this.label.shadow(M.shadow)}this.shared=M.shared}bH.prototype={destroy:function(){C(this.crosshairs,function(L){if(L){L.destroy()}});if(this.label){this.label=this.label.destroy()}},move:function(M,b0,L,bZ){var bY=this,bX=bY.now,bW=bY.options.animation!==false&&!bY.isHidden;bb(bX,{x:bW?(2*bX.x+M)/3:M,y:bW?(bX.y+b0)/2:b0,anchorX:bW?(2*bX.anchorX+L)/3:L,anchorY:bW?(bX.anchorY+bZ)/2:bZ});bY.label.attr(bX);if(bW&&(f(M-bX.x)>1||f(b0-bX.y)>1)){bY.tooltipTick=function(){bY.move(M,b0,L,bZ)}}else{bY.tooltipTick=null}},hide:function(){if(!this.isHidden){var L=this.chart.hoverPoints;this.label.hide();if(L){C(L,function(M){M.setState()})}this.chart.hoverPoints=null;this.isHidden=true}},hideCrosshairs:function(){C(this.crosshairs,function(L){if(L){L.hide()}})},getAnchor:function(b0,b1){var bY,bZ=this.chart,bW=bZ.inverted,bX=0,M=0,L;b0=a5(b0);bY=b0[0].tooltipPos;if(!bY){C(b0,function(b2){L=b2.series.yAxis;bX+=b2.plotX;M+=(b2.plotLow?(b2.plotLow+b2.plotHigh)/2:b2.plotY)+(!bW&&L?L.top-bZ.plotTop:0)});bX/=b0.length;M/=b0.length;bY=[bW?bZ.plotWidth-M:bX,this.shared&&!bW&&b0.length>1&&b1?b1.chartY-bZ.plotTop:bW?bZ.plotHeight-bX:M]}return af(bY,l)},getPosition:function(bX,b0,b6){var bZ=this.chart,bW=bZ.plotLeft,b2=bZ.plotTop,b1=bZ.plotWidth,b3=bZ.plotHeight,M=aH(this.options.distance,12),L=b6.plotX,b7=b6.plotY,b5=L+bW+(bZ.inverted?M:-bX-M),b4=b7-b0+b2+15,bY;if(b5<7){b5=bW+L+M}if((b5+bX)>(bW+b1)){b5-=(b5+bX)-(bW+b1);b4=b7-b0+b2-M;bY=true}if(b4<b2+5){b4=b2+5;if(bY&&b7>=b4&&b7<=(b4+b0)){b4=b7+b2+M}}if(b4+b0>b2+b3){b4=bU(b2,b2+b3-b0-M)}return{x:b5,y:b4}},refresh:function(ce,ch){var b0=this,cc=b0.chart,b4=b0.label,bZ=b0.options;function b8(){var cm=this,cj=cm.points||a5(cm),ck=cj[0].series,cl;cl=[ck.tooltipHeaderFormatter(cj[0].key)];C(cj,function(cn){ck=cn.series;cl.push((ck.tooltipFormatter&&ck.tooltipFormatter(cn))||cn.point.tooltipFormatter(ck.tooltipOptions.pointFormat))});cl.push(bZ.footerFormat||"");return cl.join("")}var b6,b5,ci,b2,b3={},ca,b1=[],cg=bZ.formatter||b8,b9=cc.hoverPoints,bY,L,bW=bZ.crosshairs,M=b0.shared,b7;b2=b0.getAnchor(ce,ch);b6=b2[0];b5=b2[1];if(M&&!(ce.series&&ce.series.noSharedTooltip)){cc.hoverPoints=ce;if(b9){C(b9,function(cj){cj.setState()})}C(ce,function(cj){cj.setState(aI);b1.push(cj.getLabelConfig())});b3={x:ce[0].category,y:ce[0].y};b3.points=b1;ce=ce[0]}else{b3=ce.getLabelConfig()}ca=cg.call(b3);b7=ce.series;ci=M||!b7.isCartesian||b7.tooltipOutsidePlot||cc.isInsidePlot(b6,b5);if(ca===false||!ci){this.hide()}else{if(b0.isHidden){b4.show()}b4.attr({text:ca});L=bZ.borderColor||ce.color||b7.color||"#606060";b4.attr({stroke:L});bY=(bZ.positioner||b0.getPosition).call(b0,b4.width,b4.height,{plotX:b6,plotY:b5});b0.move(l(bY.x),l(bY.y),b6+cc.plotLeft,b5+cc.plotTop);b0.isHidden=false}if(bW){bW=a5(bW);var cd,cf=bW.length,cb,bX;while(cf--){bX=ce.series[cf?"yAxis":"xAxis"];if(bW[cf]&&bX){cd=bX.getPlotLinePath(cf?aH(ce.stackY,ce.y):ce.x,1);if(b0.crosshairs[cf]){b0.crosshairs[cf].attr({d:cd,visibility:ai})}else{cb={"stroke-width":bW[cf].width||1,stroke:bW[cf].color||"#C0C0C0",zIndex:bW[cf].zIndex||2};if(bW[cf].dashStyle){cb.dashstyle=bW[cf].dashStyle}b0.crosshairs[cf]=cc.renderer.path(cd).attr(cb).add()}}}}bi(cc,"tooltipRefresh",{text:ca,x:b6+cc.plotLeft,y:b5+cc.plotTop,borderColor:L})},tick:function(){if(this.tooltipTick){this.tooltipTick()}}};function G(bW,M){var L=aW?"":M.chart.zoomType;this.zoomX=/x/.test(L);this.zoomY=/y/.test(L);this.options=M;this.chart=bW;this.init(bW,M.tooltip)}G.prototype={normalizeMouseEvent:function(bX){var bW,M,bY,L;bX=bX||aS.event;if(!bX.target){bX.target=bX.srcElement}bX=O(bX);L=bX.touches?bX.touches.item(0):bX;this.chartPosition=bW=bF(this.chart.container);if(L.pageX===j){M=bX.x;bY=bX.y}else{M=L.pageX-bW.left;bY=L.pageY-bW.top}return bb(bX,{chartX:l(M),chartY:l(bY)})},getMouseCoordinates:function(M){var bW={xAxis:[],yAxis:[]},L=this.chart;C(L.axes,function(bX){var bZ=bX.isXAxis,bY=L.inverted?!bZ:bZ;bW[bZ?"xAxis":"yAxis"].push({axis:bX,value:bX.translate((bY?M.chartX-L.plotLeft:bX.top+bX.len-M.chartY)-bX.minPixelPadding,true)})});return bW},getIndex:function(M){var L=this.chart;return L.inverted?L.plotHeight+L.plotTop-M.chartY:M.chartX-L.plotLeft},onmousemove:function(b1){var b0=this,b2=b0.chart,bY=b2.series,b6=b2.tooltip,b4,b5,L=b2.hoverPoint,b3=b2.hoverSeries,bX,bW,M=b2.chartWidth,bZ=b0.getIndex(b1);if(b6&&b0.options.tooltip.shared&&!(b3&&b3.noSharedTooltip)){b5=[];bX=bY.length;for(bW=0;bW<bX;bW++){if(bY[bW].visible&&bY[bW].options.enableMouseTracking!==false&&!bY[bW].noSharedTooltip&&bY[bW].tooltipPoints.length){b4=bY[bW].tooltipPoints[bZ];b4._dist=f(bZ-b4[bY[bW].xAxis.tooltipPosName||"plotX"]);M=aj(M,b4._dist);b5.push(b4)}}bX=b5.length;while(bX--){if(b5[bX]._dist>M){b5.splice(bX,1)}}if(b5.length&&(b5[0].plotX!==b0.hoverX)){b6.refresh(b5,b1);b0.hoverX=b5[0].plotX}}if(b3&&b3.tracker){b4=b3.tooltipPoints[bZ];if(b4&&b4!==L){b4.onMouseOver()}}},resetTracker:function(b0){var bZ=this,bX=bZ.chart,M=bX.hoverSeries,L=bX.hoverPoint,bY=bX.tooltip,bW=bY&&bY.shared?bX.hoverPoints:L;b0=b0&&bY&&bW;if(b0&&a5(bW)[0].plotX===j){b0=false}if(b0){bY.refresh(bW)}else{if(L){L.onMouseOut()}if(M){M.onMouseOut()}if(bY){bY.hide();bY.hideCrosshairs()}bZ.hoverX=null}},setDOMEvents:function(){var b2=true,bY=this,bZ=bY.chart,L=bZ.container,bX,M=(bY.zoomX&&!bZ.inverted)||(bY.zoomY&&bZ.inverted),b0=(bY.zoomY&&!bZ.inverted)||(bY.zoomX&&bZ.inverted);function bW(){if(bY.selectionMarker){var b6={xAxis:[],yAxis:[]},b4=bY.selectionMarker.getBBox(),b7=b4.x-bZ.plotLeft,b5=b4.y-bZ.plotTop,b3;if(bX){C(bZ.axes,function(b9){if(b9.options.zoomEnabled!==false){var cc=b9.isXAxis,cb=bZ.inverted?!cc:cc,b8=b9.translate(cb?b7:bZ.plotHeight-b5-b4.height,true,0,0,1),ca=b9.translate((cb?b7+b4.width:bZ.plotHeight-b5)-2*b9.minPixelPadding,true,0,0,1);if(!isNaN(b8)&&!isNaN(ca)){b6[cc?"xAxis":"yAxis"].push({axis:b9,min:aj(b8,ca),max:bU(b8,ca)});b3=true}}});if(b3){bi(bZ,"selection",b6,function(b8){bZ.zoom(b8)})}}bY.selectionMarker=bY.selectionMarker.destroy()}if(bZ){bP(L,{cursor:"auto"});bZ.cancelClick=bX;bZ.mouseIsDown=bX=false}aU(bq,B?"touchend":"mouseup",bW)}bY.hideTooltipOnMouseMove=function(b3){b3=O(b3);if(bY.chartPosition&&bZ.hoverSeries&&bZ.hoverSeries.isCartesian&&!bZ.isInsidePlot(b3.pageX-bY.chartPosition.left-bZ.plotLeft,b3.pageY-bY.chartPosition.top-bZ.plotTop)){bY.resetTracker()}};bY.hideTooltipOnMouseLeave=function(){bY.resetTracker();bY.chartPosition=null};L.onmousedown=function(b3){b3=bY.normalizeMouseEvent(b3);if(!B&&b3.preventDefault){b3.preventDefault()}bZ.mouseIsDown=true;bZ.cancelClick=false;bZ.mouseDownX=bY.mouseDownX=b3.chartX;bY.mouseDownY=b3.chartY;v(bq,B?"touchend":"mouseup",bW)};var b1=function(b8){if(b8&&b8.touches&&b8.touches.length>1){return}b8=bY.normalizeMouseEvent(b8);if(!B){b8.returnValue=false}var b3=b8.chartX,b9=b8.chartY,b5=!bZ.isInsidePlot(b3-bZ.plotLeft,b9-bZ.plotTop);if(B&&b8.type==="touchstart"){if(P(b8.target,"isTracker")){if(!bZ.runTrackerClick){b8.preventDefault()}}else{if(!bZ.runChartClick&&!b5){b8.preventDefault()}}}if(b5){if(b3<bZ.plotLeft){b3=bZ.plotLeft}else{if(b3>bZ.plotLeft+bZ.plotWidth){b3=bZ.plotLeft+bZ.plotWidth}}if(b9<bZ.plotTop){b9=bZ.plotTop}else{if(b9>bZ.plotTop+bZ.plotHeight){b9=bZ.plotTop+bZ.plotHeight}}}if(bZ.mouseIsDown&&b8.type!=="touchstart"){bX=Math.sqrt(Math.pow(bY.mouseDownX-b3,2)+Math.pow(bY.mouseDownY-b9,2));if(bX>10){var b7=bZ.isInsidePlot(bY.mouseDownX-bZ.plotLeft,bY.mouseDownY-bZ.plotTop);if(bZ.hasCartesianSeries&&(bY.zoomX||bY.zoomY)&&b7){if(!bY.selectionMarker){bY.selectionMarker=bZ.renderer.rect(bZ.plotLeft,bZ.plotTop,M?1:bZ.plotWidth,b0?1:bZ.plotHeight,0).attr({fill:bY.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}}if(bY.selectionMarker&&M){var b6=b3-bY.mouseDownX;bY.selectionMarker.attr({width:f(b6),x:(b6>0?0:b6)+bY.mouseDownX})}if(bY.selectionMarker&&b0){var b4=b9-bY.mouseDownY;bY.selectionMarker.attr({height:f(b4),y:(b4>0?0:b4)+bY.mouseDownY})}if(b7&&!bY.selectionMarker&&bY.options.chart.panning){bZ.pan(b3)}}}if(!b5){bY.onmousemove(b8)}b2=b5;return b5||!bZ.hasCartesianSeries};L.onmousemove=b1;v(L,"mouseleave",bY.hideTooltipOnMouseLeave);v(bq,"mousemove",bY.hideTooltipOnMouseMove);L.ontouchstart=function(b3){if(bY.zoomX||bY.zoomY){L.onmousedown(b3)}b1(b3)};L.ontouchmove=b1;L.ontouchend=function(){if(bX){bY.resetTracker()}};L.onclick=function(b6){var b4=bZ.hoverPoint,b5,b3;b6=bY.normalizeMouseEvent(b6);b6.cancelBubble=true;if(!bZ.cancelClick){if(b4&&(P(b6.target,"isTracker")||P(b6.target.parentNode,"isTracker"))){b5=b4.plotX;b3=b4.plotY;bb(b4,{pageX:bY.chartPosition.left+bZ.plotLeft+(bZ.inverted?bZ.plotWidth-b3:b5),pageY:bY.chartPosition.top+bZ.plotTop+(bZ.inverted?bZ.plotHeight-b5:b3)});bi(b4.series,"click",bb(b6,{point:b4}));b4.firePointEvent("click",b6)}else{bb(b6,bY.getMouseCoordinates(b6));if(bZ.isInsidePlot(b6.chartX-bZ.plotLeft,b6.chartY-bZ.plotTop)){bi(bZ,"click",b6)}}}}},destroy:function(){var bW=this,M=bW.chart,L=M.container;if(M.trackerGroup){M.trackerGroup=M.trackerGroup.destroy()}aU(L,"mouseleave",bW.hideTooltipOnMouseLeave);aU(bq,"mousemove",bW.hideTooltipOnMouseMove);L.onclick=L.onmousedown=L.onmousemove=L.ontouchstart=L.ontouchend=L.ontouchmove=null;clearInterval(this.tooltipInterval)},init:function(M,L){if(!M.trackerGroup){M.trackerGroup=M.renderer.g("tracker").attr({zIndex:9}).add()}if(L.enabled){M.tooltip=new bH(M,L);this.tooltipInterval=setInterval(function(){if(M&&M.tooltip){M.tooltip.tick()}},32)}this.setDOMEvents()}};function bl(L){this.init(L)}bl.prototype={init:function(bW){var M=this,L=M.options=bW.options.legend;if(!L.enabled){return}var bX=L.itemStyle,bY=aH(L.padding,8),bZ=L.itemMarginTop||0;M.baseline=bB(bX.fontSize)+3+bZ;M.itemStyle=bX;M.itemHiddenStyle=aG(bX,L.itemHiddenStyle);M.itemMarginTop=bZ;M.padding=bY;M.initialItemX=bY;M.initialItemY=bY-5;M.maxItemWidth=0;M.chart=bW;M.itemHeight=0;M.lastLineHeight=0;M.render();v(M.chart,"endResize",function(){M.positionCheckboxes()})},colorizeItem:function(b2,M){var bZ=this,b3=bZ.options,bX=b2.legendItem,bY=b2.legendLine,L=b2.legendSymbol,b1=bZ.itemHiddenStyle.color,b0=M?b3.itemStyle.color:b1,bW=M?b2.color:b1;if(bX){bX.css({fill:b0})}if(bY){bY.attr({stroke:bW})}if(L){L.attr({stroke:bW,fill:bW})}},positionItem:function(b1){var bZ=this,b2=bZ.options,b0=b2.symbolPadding,L=!b2.rtl,M=b1._legendItemPos,bY=M[0],bX=M[1],bW=b1.checkbox;if(b1.legendGroup){b1.legendGroup.translate(L?bY:bZ.legendWidth-bY-2*b0-4,bX)}if(bW){bW.x=bY;bW.y=bX}},destroyItem:function(L){var M=L.checkbox;C(["legendItem","legendLine","legendSymbol","legendGroup"],function(bW){if(L[bW]){L[bW].destroy()}});if(M){bD(L.checkbox)}},destroy:function(){var L=this,bW=L.group,M=L.box;if(M){L.box=M.destroy()}if(bW){L.group=bW.destroy()}},positionCheckboxes:function(){var L=this;C(L.allItems,function(M){var bW=M.checkbox,bX=L.group.alignAttr;if(bW){bP(bW,{left:(bX.translateX+M.legendItemWidth+bW.x-20)+U,top:(bX.translateY+bW.y+3)+U})}})},renderItem:function(cd){var M=this,b7=M.chart,b8=b7.renderer,bX=M.options,ce=bX.layout==="horizontal",cf=bX.symbolWidth,L=bX.symbolPadding,b1=M.itemStyle,bW=M.itemHiddenStyle,b6=M.padding,cb=!bX.rtl,b9,b4=bX.width,b0=bX.itemMarginBottom||0,cc=M.itemMarginTop,ca=M.initialItemX,bZ,bY,b5=cd.legendItem,b3=cd.series||cd,b2=b3.options,cg=b2.showCheckbox;if(!b5){cd.legendGroup=b8.g("legend-item").attr({zIndex:1}).add(M.scrollGroup);b3.drawLegendSymbol(M,cd);cd.legendItem=b5=b8.text(bX.labelFormatter.call(cd),cb?cf+L:-L,M.baseline,bX.useHTML).css(aG(cd.visible?b1:bW)).attr({align:cb?"left":"right",zIndex:2}).add(cd.legendGroup);cd.legendGroup.on("mouseover",function(){cd.setState(aI);b5.css(M.options.itemHoverStyle)}).on("mouseout",function(){b5.css(cd.visible?b1:bW);cd.setState()}).on("click",function(ci){var cj="legendItemClick",ch=function(){cd.setVisible()};ci={browserEvent:ci};if(cd.firePointEvent){cd.firePointEvent(cj,ci,ch)}else{bi(cd,cj,ci,ch)}});M.colorizeItem(cd,cd.visible);if(b2&&cg){cd.checkbox=bd("input",{type:"checkbox",checked:cd.selected,defaultChecked:cd.selected},bX.itemCheckboxStyle,b7.container);v(cd.checkbox,"click",function(ch){var ci=ch.target;bi(cd,"checkboxClick",{checked:ci.checked},function(){cd.select()})})}}bZ=b5.getBBox();bY=cd.legendItemWidth=bX.itemWidth||cf+L+bZ.width+b6+(cg?20:0);M.itemHeight=b9=bZ.height;if(ce&&M.itemX-ca+bY>(b4||(b7.chartWidth-2*b6-ca))){M.itemX=ca;M.itemY+=cc+M.lastLineHeight+b0;M.lastLineHeight=0}M.maxItemWidth=bU(M.maxItemWidth,bY);M.lastItemY=cc+M.itemY+b0;M.lastLineHeight=bU(b9,M.lastLineHeight);cd._legendItemPos=[M.itemX,M.itemY];if(ce){M.itemX+=bY}else{M.itemY+=cc+b9+b0;M.lastLineHeight=b9}M.offsetWidth=b4||bU(ce?M.itemX-ca:bY,M.offsetWidth)},render:function(){var b3=this,b0=b3.chart,bZ=b0.renderer,bX=b3.group,b1,bY,b5,b4,bW=b3.box,b6=b3.options,b2=b3.padding,L=b6.borderWidth,M=b6.backgroundColor;b3.itemX=b3.initialItemX;b3.itemY=b3.initialItemY;b3.offsetWidth=0;b3.lastItemY=0;if(!bX){b3.group=bX=bZ.g("legend").attr({zIndex:7}).add();b3.contentGroup=bZ.g().attr({zIndex:1}).add(bX);b3.scrollGroup=bZ.g().add(b3.contentGroup);b3.clipRect=bZ.clipRect(0,0,9999,b0.chartHeight);b3.contentGroup.clip(b3.clipRect)}b1=[];C(b0.series,function(b8){var b7=b8.options;if(!b7.showInLegend){return}b1=b1.concat(b8.legendItems||(b7.legendType==="point"?b8.data:b8))});aC(b1,function(b8,b7){return(b8.options.legendIndex||0)-(b7.options.legendIndex||0)});if(b6.reversed){b1.reverse()}b3.allItems=b1;b3.display=bY=!!b1.length;C(b1,function(b7){b3.renderItem(b7)});b5=b6.width||b3.offsetWidth;b4=b3.lastItemY+b3.lastLineHeight;b4=b3.handleOverflow(b4);if(L||M){b5+=b2;b4+=b2;if(!bW){b3.box=bW=bZ.rect(0,0,b5,b4,b6.borderRadius,L||0).attr({stroke:b6.borderColor,"stroke-width":L||0,fill:M||x}).add(bX).shadow(b6.shadow);bW.isNew=true}else{if(b5>0&&b4>0){bW[bW.isNew?"attr":"animate"](bW.crisp(null,null,null,b5,b4));bW.isNew=false}}bW[bY?"show":"hide"]()}b3.legendWidth=b5;b3.legendHeight=b4;C(b1,function(b7){b3.positionItem(b7)});if(bY){bX.align(bb({width:b5,height:b4},b6),true,b0.spacingBox)}if(!b0.isResizing){this.positionCheckboxes()}},handleOverflow:function(b7){var b6=this,b4=this.chart,b3=b4.renderer,M,b9=this.options,bW=b9.y,b1=b9.verticalAlign==="top",b5=b4.spacingBox.height+(b1?-bW:bW)-this.padding,b8=b9.maxHeight,bY,b0=this.clipRect,b2=b9.navigation,bX=aH(b2.animation,true),bZ=b2.arrowSize||12,L=this.nav;if(b9.layout==="horizontal"){b5/=2}if(b8){b5=aj(b5,b8)}if(b7>b5){this.clipHeight=bY=b5-20;this.pageCount=M=aw(b7/bY);this.currentPage=aH(this.currentPage,1);this.fullHeight=b7;b0.attr({height:bY});if(!L){this.nav=L=b3.g().attr({zIndex:1}).add(this.group);this.up=b3.symbol("triangle",0,0,bZ,bZ).on("click",function(){b6.scroll(-1,bX)}).add(L);this.pager=b3.text("",15,10).css(b2.style).add(L);this.down=b3.symbol("triangle-down",0,0,bZ,bZ).on("click",function(){b6.scroll(1,bX)}).add(L)}b6.scroll(0);b7=b5}else{if(L){b0.attr({height:b4.chartHeight});L.hide();this.scrollGroup.attr({translateY:1})}}return b7},scroll:function(bY,bW){var M=this.pageCount,bZ=this.currentPage+bY,bX=this.clipHeight,b1=this.options.navigation,b2=b1.activeColor,b0=b1.inactiveColor,L=this.pager,b3=this.padding;if(bZ>M){bZ=M}if(bZ>0){if(bW!==j){bQ(bW,this.chart)}this.nav.attr({translateX:b3,translateY:bX+7,visibility:ai});this.up.attr({fill:bZ===1?b0:b2}).css({cursor:bZ===1?"default":"pointer"});L.attr({text:bZ+"/"+this.pageCount});this.down.attr({x:18+this.pager.getBBox().width,fill:bZ===M?b0:b2}).css({cursor:bZ===M?"default":"pointer"});this.scrollGroup.animate({translateY:-aj(bX*(bZ-1),this.fullHeight-bX+b3)+1});L.attr({text:bZ+"/"+M});this.currentPage=bZ}}};function a9(b0,b1){var bW,M=b0.series;b0.series=null;bW=aG(bn,b0);bW.series=b0.series=M;var bZ=bW.chart,L=bZ.margin,bX=bR(L)?L:[L,L,L,L];this.optionsMarginTop=aH(bZ.marginTop,bX[0]);this.optionsMarginRight=aH(bZ.marginRight,bX[1]);this.optionsMarginBottom=aH(bZ.marginBottom,bX[2]);this.optionsMarginLeft=aH(bZ.marginLeft,bX[3]);var bY=bZ.events;this.runChartClick=bY&&!!bY.click;this.callback=b1;this.isResizing=0;this.options=bW;this.axes=[];this.series=[];this.hasCartesianSeries=bZ.showAxes;this.init(bY)}a9.prototype={initSeries:function(L){var bX=this,bY=bX.options.chart,bW=L.type||bY.type||bY.defaultSeriesType,M=new a[bW]();M.init(this,L);return M},addSeries:function(L,bY,bX){var M,bW=this;if(L){bQ(bX,bW);bY=aH(bY,true);bi(bW,"addSeries",{options:L},function(){M=bW.initSeries(L);bW.isDirtyLegend=true;if(bY){bW.redraw()}})}return M},isInsidePlot:function(bX,bW,M){var L=M?bW:bX,bY=M?bX:bW;return L>=0&&L<=this.plotWidth&&bY>=0&&bY<=this.plotHeight},adjustTickAmounts:function(){if(this.options.chart.alignTicks!==false){C(this.axes,function(L){L.adjustTickAmount()})}this.maxTicks=null},redraw:function(bW){var b4=this,b3=b4.axes,bZ=b4.series,b6=b4.tracker,b7=b4.legend,L=b4.isDirtyLegend,b1,bY=b4.isDirtyBox,M=bZ.length,bX=M,b0,b2=b4.renderer,b5=b2.isHidden();bQ(bW,b4);if(b5){b4.cloneRenderTo()}while(bX--){b0=bZ[bX];if(b0.isDirty&&b0.options.stacking){b1=true;break}}if(b1){bX=M;while(bX--){b0=bZ[bX];if(b0.options.stacking){b0.isDirty=true}}}C(bZ,function(b8){if(b8.isDirty){if(b8.options.legendType==="point"){L=true}}});if(L&&b7.options.enabled){b7.render();b4.isDirtyLegend=false}if(b4.hasCartesianSeries){if(!b4.isResizing){b4.maxTicks=null;C(b3,function(b8){b8.setScale()})}b4.adjustTickAmounts();b4.getMargins();C(b3,function(b8){if(b8.isDirtyExtremes){b8.isDirtyExtremes=false;bi(b8,"afterSetExtremes",b8.getExtremes())}if(b8.isDirty||bY||b1){b8.redraw();bY=true}})}if(bY){b4.drawChartBox()}C(bZ,function(b8){if(b8.isDirty&&b8.visible&&(!b8.isCartesian||b8.xAxis)){b8.redraw()}});if(b6&&b6.resetTracker){b6.resetTracker(true)}b2.draw();bi(b4,"redraw");if(b5){b4.cloneRenderTo(true)}},showLoading:function(bY){var bW=this,L=bW.options,bX=bW.loadingDiv;var M=L.loading;if(!bX){bW.loadingDiv=bX=bd(I,{className:aX+"loading"},bb(M.style,{left:bW.plotLeft+U,top:bW.plotTop+U,width:bW.plotWidth+U,height:bW.plotHeight+U,zIndex:10,display:x}),bW.container);bW.loadingSpan=bd("span",null,M.labelStyle,bX)}bW.loadingSpan.innerHTML=bY||L.lang.loading;if(!bW.loadingShown){bP(bX,{opacity:0,display:""});o(bX,{opacity:M.style.opacity},{duration:M.showDuration||0});bW.loadingShown=true}},hideLoading:function(){var L=this.options,M=this.loadingDiv;if(M){o(M,{opacity:0},{duration:L.loading.hideDuration||100,complete:function(){bP(M,{display:x})}})}this.loadingShown=false},get:function(b0){var bY=this,bZ=bY.axes,bW=bY.series;var M,L,bX;for(M=0;M<bZ.length;M++){if(bZ[M].options.id===b0){return bZ[M]}}for(M=0;M<bW.length;M++){if(bW[M].options.id===b0){return bW[M]}}for(M=0;M<bW.length;M++){bX=bW[M].points||[];for(L=0;L<bX.length;L++){if(bX[L].id===b0){return bX[L]}}}return null},getAxes:function(){var bY=this,bW=this.options;var L=bW.xAxis||{},bZ=bW.yAxis||{},M,bX;L=a5(L);C(L,function(b1,b0){b1.index=b0;b1.isX=true});bZ=a5(bZ);C(bZ,function(b1,b0){b1.index=b0});M=L.concat(bZ);C(M,function(b0){bX=new z(bY,b0)});bY.adjustTickAmounts()},getSelectedPoints:function(){var L=[];C(this.series,function(M){L=L.concat(bm(M.points,function(bW){return bW.selected}))});return L},getSelectedSeries:function(){return bm(this.series,function(L){return L.selected})},showResetZoom:function(){var bW=this,bZ=bn.lang,M=bW.options.chart.resetZoomButton,bY=M.theme,L=bY.states,bX=M.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=bW.renderer.button(bZ.resetZoom,null,null,function(){bW.zoomOut()},bY,L&&L.hover).attr({align:M.position.align,title:bZ.resetZoomTitle}).add().align(M.position,false,bW[bX]);this.resetZoomButton.alignTo=bX},zoomOut:function(){var L=this,M=L.resetZoomButton;bi(L,"selection",{resetSelection:true},function(){L.zoom()});if(M){L.resetZoomButton=M.destroy()}},zoom:function(bW){var M=this,bX=M.options.chart;var L;if(M.resetZoomEnabled!==false&&!M.resetZoomButton){M.showResetZoom()}if(!bW||bW.resetSelection){C(M.axes,function(bY){if(bY.options.zoomEnabled!==false){bY.setExtremes(null,null,false,j,{trigger:"zoomout"});L=true}})}else{C(bW.xAxis.concat(bW.yAxis),function(bY){var bZ=bY.axis;if(M.tracker[bZ.isXAxis?"zoomX":"zoomY"]){bZ.setExtremes(bY.min,bY.max,false,j,{trigger:"zoom"});L=true}})}if(L){M.redraw(aH(bX.animation,M.pointCount<100))}},pan:function(b0){var bZ=this;var bW=bZ.xAxis[0],L=bZ.mouseDownX,bX=bW.pointRange/2,b2=bW.getExtremes(),bY=bW.translate(L-b0,true)+bX,b1=bW.translate(L+bZ.plotWidth-b0,true)-bX,M=bZ.hoverPoints;if(M){C(M,function(b3){b3.setState()})}if(bW.series.length&&bY>aj(b2.dataMin,b2.min)&&b1<bU(b2.dataMax,b2.max)){bW.setExtremes(bY,b1,true,false,{trigger:"pan"})}bZ.mouseDownX=b0;bP(bZ.container,{cursor:"move"})},setTitle:function(bY,L){var bX=this,M=bX.options,bW,bZ;bX.chartTitleOptions=bW=aG(M.title,bY);bX.chartSubtitleOptions=bZ=aG(M.subtitle,L);C([["title",bY,bW],["subtitle",L,bZ]],function(b0){var b1=b0[0],b4=bX[b1],b3=b0[1],b2=b0[2];if(b4&&b3){bX[b1]=b4=b4.destroy()}if(b2&&b2.text&&!b4){bX[b1]=bX.renderer.text(b2.text,0,0,b2.useHTML).attr({align:b2.align,"class":aX+b1,zIndex:b2.zIndex||4}).css(b2.style).add().align(b2,false,bX.spacingBox)}})},getChartSize:function(){var L=this,bW=L.options.chart,M=L.renderToClone||L.renderTo;L.containerWidth=aD(M,"width");L.containerHeight=aD(M,"height");L.chartWidth=bW.width||L.containerWidth||600;L.chartHeight=bW.height||(L.containerHeight>19?L.containerHeight:400)},cloneRenderTo:function(M){var bW=this.renderToClone,L=this.container;if(M){if(bW){this.renderTo.appendChild(L);bD(bW);delete this.renderToClone}}else{if(L){this.renderTo.removeChild(L)}this.renderToClone=bW=this.renderTo.cloneNode(0);bP(bW,{position:al,top:"-9999px",display:"block"});bq.body.appendChild(bW);if(L){bW.appendChild(L)}}},getContainer:function(){var bY=this,M,b0=bY.options.chart,bX,bW,bZ,L;bY.renderTo=bZ=b0.renderTo;L=aX+a0++;if(bg(bZ)){bY.renderTo=bZ=bq.getElementById(bZ)}if(!bZ){bC(13,true)}bZ.innerHTML="";if(!bZ.offsetWidth){bY.cloneRenderTo()}bY.getChartSize();bX=bY.chartWidth;bW=bY.chartHeight;bY.container=M=bd(I,{className:aX+"container"+(b0.className?" "+b0.className:""),id:L},bb({position:H,overflow:ae,width:bX+U,height:bW+U,textAlign:"left",lineHeight:"normal",zIndex:0},b0.style),bY.renderToClone||bZ);bY.renderer=b0.forExport?new d(M,bX,bW,true):new bG(M,bX,bW);if(aW){bY.renderer.create(bY,M,bX,bW)}},getMargins:function(){var b9=this,b2=b9.options.chart,ce=b2.spacingTop,M=b2.spacingRight,b6=b2.spacingBottom,bZ=b2.spacingLeft,b0,bY=b9.legend,b4=b9.optionsMarginTop,b5=b9.optionsMarginLeft,cd=b9.optionsMarginRight,ca=b9.optionsMarginBottom,bX=b9.chartTitleOptions,cc=b9.chartSubtitleOptions,b3=b9.options.legend,b1=aH(b3.margin,10),b8=b3.x,b7=b3.y,cb=b3.align,L=b3.verticalAlign,bW;b9.resetMargins();b0=b9.axisOffset;if((b9.title||b9.subtitle)&&!ac(b9.optionsMarginTop)){bW=bU((b9.title&&!bX.floating&&!bX.verticalAlign&&bX.y)||0,(b9.subtitle&&!cc.floating&&!cc.verticalAlign&&cc.y)||0);if(bW){b9.plotTop=bU(b9.plotTop,bW+aH(bX.margin,15)+ce)}}if(bY.display&&!b3.floating){if(cb==="right"){if(!ac(cd)){b9.marginRight=bU(b9.marginRight,bY.legendWidth-b8+b1+M)}}else{if(cb==="left"){if(!ac(b5)){b9.plotLeft=bU(b9.plotLeft,bY.legendWidth+b8+b1+bZ)}}else{if(L==="top"){if(!ac(b4)){b9.plotTop=bU(b9.plotTop,bY.legendHeight+b7+b1+ce)}}else{if(L==="bottom"){if(!ac(ca)){b9.marginBottom=bU(b9.marginBottom,bY.legendHeight-b7+b1+b6)}}}}}}if(b9.extraBottomMargin){b9.marginBottom+=b9.extraBottomMargin}if(b9.extraTopMargin){b9.plotTop+=b9.extraTopMargin}if(b9.hasCartesianSeries){C(b9.axes,function(cf){cf.getOffset()})}if(!ac(b5)){b9.plotLeft+=b0[3]}if(!ac(b4)){b9.plotTop+=b0[0]}if(!ac(ca)){b9.marginBottom+=b0[2]}if(!ac(cd)){b9.marginRight+=b0[1]}b9.setChartSize()},initReflow:function(){var M=this,bY=M.options.chart,bX=M.renderTo;var bW;function L(b2){var b0=bY.width||aD(bX,"width"),bZ=bY.height||aD(bX,"height"),b1=b2?b2.target:aS;if(b0&&bZ&&(b1===aS||b1===bq)){if(b0!==M.containerWidth||bZ!==M.containerHeight){clearTimeout(bW);bW=setTimeout(function(){M.resize(b0,bZ,false)},100)}M.containerWidth=b0;M.containerHeight=bZ}}v(aS,"resize",L);v(M,"destroy",function(){aU(aS,"resize",L)})},resize:function(L,b4,bY){var b2=this,b1,bX,bZ,bW=b2.resetZoomButton,M=b2.title,b3=b2.subtitle,b0;b2.isResizing+=1;b0=function(){if(b2){bi(b2,"endResize",null,function(){b2.isResizing-=1})}};bQ(bY,b2);b2.oldChartHeight=b2.chartHeight;b2.oldChartWidth=b2.chartWidth;if(ac(L)){b2.chartWidth=b1=l(L)}if(ac(b4)){b2.chartHeight=bX=l(b4)}bP(b2.container,{width:b1+U,height:bX+U});b2.renderer.setSize(b1,bX,bY);b2.plotWidth=b1-b2.plotLeft-b2.marginRight;b2.plotHeight=bX-b2.plotTop-b2.marginBottom;b2.maxTicks=null;C(b2.axes,function(b5){b5.isDirty=true;b5.setScale()});C(b2.series,function(b5){b5.isDirty=true});b2.isDirtyLegend=true;b2.isDirtyBox=true;b2.getMargins();bZ=b2.spacingBox;if(M){M.align(null,null,bZ)}if(b3){b3.align(null,null,bZ)}if(bW){bW.align(null,null,b2[bW.alignTo])}b2.redraw(bY);b2.oldChartHeight=null;bi(b2,"resize");if(bV===false){b0()}else{setTimeout(b0,(bV&&bV.duration)||500)}},setChartSize:function(){var b4=this,bY=b4.inverted,b0=b4.chartWidth,bX=b4.chartHeight,b2=b4.options.chart,b3=b2.spacingTop,bZ=b2.spacingRight,L=b2.spacingBottom,b1=b2.spacingLeft,bW,b7,b6,b5,M;b4.plotLeft=bW=l(b4.plotLeft);b4.plotTop=b7=l(b4.plotTop);b4.plotWidth=b6=l(b0-bW-b4.marginRight);b4.plotHeight=b5=l(bX-b7-b4.marginBottom);b4.plotSizeX=bY?b5:b6;b4.plotSizeY=bY?b6:b5;b4.plotBorderWidth=M=b2.plotBorderWidth||0;b4.spacingBox={x:b1,y:b3,width:b0-b1-bZ,height:bX-b3-L};b4.plotBox={x:bW,y:b7,width:b6,height:b5};b4.clipBox={x:M/2,y:M/2,width:b4.plotSizeX-M,height:b4.plotSizeY-M};C(b4.axes,function(b8){b8.setAxisSize();b8.setAxisTranslation()})},resetMargins:function(){var bW=this,bZ=bW.options.chart,bY=bZ.spacingTop,M=bZ.spacingRight,L=bZ.spacingBottom,bX=bZ.spacingLeft;bW.plotTop=aH(bW.optionsMarginTop,bY);bW.marginRight=aH(bW.optionsMarginRight,M);bW.marginBottom=aH(bW.optionsMarginBottom,L);bW.plotLeft=aH(bW.optionsMarginLeft,bX);bW.axisOffset=[0,0,0,0]},drawChartBox:function(){var b4=this,bW=b4.options.chart,b9=b4.renderer,cd=b4.chartWidth,bX=b4.chartHeight,b8=b4.chartBackground,bZ=b4.plotBackground,ce=b4.plotBorder,b6=b4.plotBGImage,ca=bW.borderWidth||0,cg=bW.backgroundColor,b0=bW.plotBackgroundColor,M=bW.plotBackgroundImage,cf=bW.plotBorderWidth||0,L,b1,b5=b4.plotLeft,b7=b4.plotTop,bY=b4.plotWidth,cc=b4.plotHeight,b2=b4.plotBox,cb=b4.clipRect,b3=b4.clipBox;L=ca+(bW.shadow?8:0);if(ca||cg){if(!b8){b1={fill:cg||x};if(ca){b1.stroke=bW.borderColor;b1["stroke-width"]=ca}b4.chartBackground=b9.rect(L/2,L/2,cd-L,bX-L,bW.borderRadius,ca).attr(b1).add().shadow(bW.shadow)}else{b8.animate(b8.crisp(null,null,null,cd-L,bX-L))}}if(b0){if(!bZ){b4.plotBackground=b9.rect(b5,b7,bY,cc,0).attr({fill:b0}).add().shadow(bW.plotShadow)}else{bZ.animate(b2)}}if(M){if(!b6){b4.plotBGImage=b9.image(M,b5,b7,bY,cc).add()}else{b6.animate(b2)}}if(!cb){b4.clipRect=b9.clipRect(b3)}else{cb.animate({width:b3.width,height:b3.height})}if(cf){if(!ce){b4.plotBorder=b9.rect(b5,b7,bY,cc,0,cf).attr({stroke:bW.plotBorderColor,"stroke-width":cf,zIndex:1}).add()}else{ce.animate(ce.crisp(null,b5,b7,bY,cc))}}b4.isDirtyBox=false},propFromSeries:function(){var bX=this,bZ=bX.options.chart,L,M=bX.options.series,bW,bY;C(["inverted","angular","polar"],function(b0){L=a[bZ.type||bZ.defaultSeriesType];bY=(bX[b0]||bZ[b0]||(L&&L.prototype[b0]));bW=M&&M.length;while(!bY&&bW--){L=a[M[bW].type];if(L&&L.prototype[b0]){bY=true}}bX[b0]=bY})},render:function(){var bW=this,bY=bW.axes,bX=bW.renderer,L=bW.options;var b0=L.labels,M=L.credits,bZ;bW.setTitle();bW.legend=new bl(bW);C(bY,function(b1){b1.setScale()});bW.getMargins();bW.maxTicks=null;C(bY,function(b1){b1.setTickPositions(true);b1.setMaxTicks()});bW.adjustTickAmounts();bW.getMargins();bW.drawChartBox();if(bW.hasCartesianSeries){C(bY,function(b1){b1.render()})}if(!bW.seriesGroup){bW.seriesGroup=bX.g("series-group").attr({zIndex:3}).add()}C(bW.series,function(b1){b1.translate();b1.setTooltipPoints();b1.render()});if(b0.items){C(b0.items,function(){var b2=bb(b0.style,this.style),b1=bB(b2.left)+bW.plotLeft,b3=bB(b2.top)+bW.plotTop+12;delete b2.left;delete b2.top;bX.text(this.html,b1,b3).attr({zIndex:2}).css(b2).add()})}if(M.enabled&&!bW.credits){bZ=M.href;bW.credits=bX.text(M.text,0,0).on("click",function(){if(bZ){location.href=bZ}}).attr({align:M.position.align,zIndex:8}).css(M.style).add().align(M.position)}bW.hasRendered=true},destroy:function(){var bY=this,bZ=bY.axes,bX=bY.series,M=bY.container;var bW,L=M&&M.parentNode;if(bY===null){return}bi(bY,"destroy");aU(bY);bW=bZ.length;while(bW--){bZ[bW]=bZ[bW].destroy()}bW=bX.length;while(bW--){bX[bW]=bX[bW].destroy()}C(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","tracker","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(b0){var b1=bY[b0];if(b1){bY[b0]=b1.destroy()}});if(M){M.innerHTML="";aU(M);if(L){bD(M)}M=null}for(bW in bY){delete bY[bW]}bY.options=null;bY=null},firstRender:function(){var M=this,L=M.options,bY=M.callback;var bW="onreadystatechange",bX="complete";if((!bK&&(aS==aS.top&&bq.readyState!==bX))||(aW&&!aS.canvg)){if(aW){aV.push(function(){M.firstRender()},L.global.canvasToolsURL)}else{bq.attachEvent(bW,function(){bq.detachEvent(bW,M.firstRender);if(bq.readyState===bX){M.firstRender()}})}return}M.getContainer();bi(M,"init");if(Highcharts.RangeSelector&&L.rangeSelector.enabled){M.rangeSelector=new Highcharts.RangeSelector(M)}M.resetMargins();M.setChartSize();M.propFromSeries();M.getAxes();C(L.series||[],function(bZ){M.initSeries(bZ)});if(Highcharts.Scroller&&(L.navigator.enabled||L.scrollbar.enabled)){M.scroller=new Highcharts.Scroller(M)}M.tracker=new G(M,L);M.render();M.renderer.draw();if(bY){bY.apply(M,[M])}C(M.callbacks,function(bZ){bZ.apply(M,[M])});M.cloneRenderTo(true);bi(M,"load")},init:function(bW){var M=this,bX=M.options.chart,L;if(bX.reflow!==false){v(M,"load",M.initReflow)}if(bW){for(L in bW){v(M,L,bW[L])}}M.xAxis=[];M.yAxis=[];M.animation=aW?false:aH(bX.animation,true);M.setSize=M.resize;M.pointCount=0;M.counters=new J();M.firstRender()}};a9.prototype.callbacks=[];var bo=function(){};bo.prototype={init:function(bX,bW,M){var L=this,bY=bX.chart.counters,bZ;L.series=bX;L.applyOptions(bW,M);L.pointAttr={};if(bX.options.colorByPoint){bZ=bX.chart.options.colors;if(!L.options){L.options={}}L.color=L.options.color=L.color||bZ[bY.color++];bY.wrapColor(bZ.length)}bX.chart.pointCount++;return L},applyOptions:function(bW,M){var L=this,bX=L.series,bY=typeof bW;L.config=bW;if(bY==="number"||bW===null){L.y=bW}else{if(typeof bW[0]==="number"){L.x=bW[0];L.y=bW[1]}else{if(bY==="object"&&typeof bW.length!=="number"){bb(L,bW);L.options=bW;if(bW.dataLabels){bX._hasPointLabels=true}if(bW.marker){bX._hasPointMarkers=true}}else{if(typeof bW[0]==="string"){L.name=bW[0];L.y=bW[1]}}}}if(L.x===j){L.x=M===j?bX.autoIncrement():M}},destroy:function(){var L=this,M=L.series,bX=M.chart,bW=bX.hoverPoints,bY;bX.pointCount--;if(bW){L.setState();N(bW,L);if(!bW.length){bX.hoverPoints=null}}if(L===bX.hoverPoint){L.onMouseOut()}if(L.graphic||L.dataLabel){aU(L);L.destroyElements()}if(L.legendItem){bX.legend.destroyItem(L)}for(bY in L){L[bY]=null}},destroyElements:function(){var L=this,bW=["graphic","tracker","dataLabel","group","connector","shadowGroup"],bX,M=6;while(M--){bX=bW[M];if(L[bX]){L[bX]=L[bX].destroy()}}},getLabelConfig:function(){var L=this;return{x:L.category,y:L.y,key:L.name||L.category,series:L.series,point:L,percentage:L.percentage,total:L.total||L.stackTotal}},select:function(bY,M){var L=this,bW=L.series,bX=bW.chart;bY=aH(bY,!L.selected);L.firePointEvent(bY?"select":"unselect",{accumulate:M},function(){L.selected=bY;L.setState(bY&&bf);if(!M){C(bX.getSelectedPoints(),function(bZ){if(bZ.selected&&bZ!==L){bZ.selected=false;bZ.setState(ah);bZ.firePointEvent("unselect")}})}})},onMouseOver:function(){var L=this,bW=L.series,bX=bW.chart,bY=bX.tooltip,M=bX.hoverPoint;if(M&&M!==L){M.onMouseOut()}L.firePointEvent("mouseOver");if(bY&&(!bY.shared||bW.noSharedTooltip)){bY.refresh(L)}L.setState(aI);bX.hoverPoint=L},onMouseOut:function(){var M=this.series.chart,L=M.hoverPoints;if(!L||w(this,L)===-1){this.firePointEvent("mouseOut");this.setState();M.hoverPoint=null}},tooltipFormatter:function(b4){var b5=this,b1=b5.series,b7=b1.tooltipOptions,b2=b4.match(/\{(series|point)\.[a-zA-Z]+\}/g),M=/[{\.}]/,b0,b6,bX,bW,bY,L,bZ,b3={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};b7.valuePrefix=b7.valuePrefix||b7.yPrefix;b7.valueDecimals=b7.valueDecimals||b7.yDecimals;b7.valueSuffix=b7.valueSuffix||b7.ySuffix;for(bZ in b2){b6=b2[bZ];if(bg(b6)&&b6!==b4){bY=(" "+b6).split(M);b0={point:b5,series:b1}[bY[1]];L=bY[2];if(b0===b5&&b3.hasOwnProperty(L)){bW=b3[L]?L:"value";bX=(b7[bW+"Prefix"]||"")+k(b5[L],aH(b7[bW+"Decimals"],-1))+(b7[bW+"Suffix"]||"")}else{bX=b0[L]}b4=b4.replace(b6,bX)}}return b4},update:function(b3,b2,bW){var b1=this,bY=b1.series,L=b1.graphic,bZ,bX=bY.data,M=bX.length,b0=bY.chart;b2=aH(b2,true);b1.firePointEvent("update",{options:b3},function(){b1.applyOptions(b3);if(bR(b3)){bY.getAttribs();if(L){L.attr(b1.pointAttr[bY.state])}}for(bZ=0;bZ<M;bZ++){if(bX[bZ]===b1){bY.xData[bZ]=b1.x;bY.yData[bZ]=b1.y;bY.options.data[bZ]=b3;break}}bY.isDirty=true;bY.isDirtyData=true;if(b2){b0.redraw(bW)}})},remove:function(b1,bZ){var L=this,bW=L.series,bX=bW.chart,M,bY=bW.data,b0=bY.length;bQ(bZ,bX);b1=aH(b1,true);L.firePointEvent("remove",null,function(){for(M=0;M<b0;M++){if(bY[M]===L){bY.splice(M,1);bW.options.data.splice(M,1);bW.xData.splice(M,1);bW.yData.splice(M,1);break}}L.destroy();bW.isDirty=true;bW.isDirtyData=true;if(b1){bX.redraw()}})},firePointEvent:function(bZ,bX,M){var L=this,bY=this.series,bW=bY.options;if(bW.point.events[bZ]||(L.options&&L.options.events&&L.options.events[bZ])){this.importEvents()}if(bZ==="click"&&bW.allowPointSelect){M=function(b0){L.select(null,b0.ctrlKey||b0.metaKey||b0.shiftKey)}}bi(this,bZ,bX,M)},importEvents:function(){if(!this.hasImportedEvents){var L=this,M=aG(L.series.options.point,L.options),bX=M.events,bW;L.events=bX;for(bW in bX){v(L,bW,bX[bW])}this.hasImportedEvents=true}},setState:function(bW){var b5=this,M=b5.plotX,b7=b5.plotY,b0=b5.series,b6=b0.options.states,bX=ag[b0.type].marker&&b0.options.marker,bZ=bX&&!bX.enabled,bY=bX&&bX.states[bW],b2=bY&&bY.enabled===false,b4=b0.stateMarkerGraphic,b3=b0.chart,b1,L=b5.pointAttr;bW=bW||ah;if(bW===b5.state||(b5.selected&&bW!==bf)||(b6[bW]&&b6[bW].enabled===false)||(bW&&(b2||(bZ&&!bY.enabled)))){return}if(b5.graphic){b1=bX&&b5.graphic.symbolName&&L[bW].r;b5.graphic.attr(aG(L[bW],b1?{x:M-b1,y:b7-b1,width:2*b1,height:2*b1}:{}))}else{if(bW&&bY){b1=bY.radius;if(!b4){b0.stateMarkerGraphic=b4=b3.renderer.symbol(b0.symbol,M-b1,b7-b1,2*b1,2*b1).attr(L[bW]).add(b0.markerGroup)}else{b4.attr({x:M-b1,y:b7-b1})}}if(b4){b4[bW&&b3.isInsidePlot(M,b7)?"show":"hide"]()}}b5.state=bW}};var a2=function(){};a2.prototype={isCartesian:true,type:"line",pointClass:bo,sorted:true,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(bY,L){var bX=this,bW,M;bX.chart=bY;bX.options=L=bX.setOptions(L);bX.bindAxes();bb(bX,{name:L.name,state:ah,pointAttr:{},visible:L.visible!==false,selected:L.selected===true});if(aW){L.animation=false}M=L.events;for(bW in M){v(bX,bW,M[bW])}if((M&&M.click)||(L.point&&L.point.events&&L.point.events.click)||L.allowPointSelect){bY.runTrackerClick=true}bX.getColor();bX.getSymbol();bX.setData(L.data,false);if(bX.isCartesian){bY.hasCartesianSeries=true}bY.series.push(bX);bY.series.sort(function(b0,bZ){return(b0.options.index||0)-(bZ.options.index||0)});C(bY.series,function(b0,bZ){b0.index=bZ;b0.name=b0.name||"Series "+(bZ+1)})},bindAxes:function(){var M=this,L=M.options,bW=M.chart,bX;if(M.isCartesian){C(["xAxis","yAxis"],function(bY){C(bW[bY],function(bZ){bX=bZ.options;if((L[bY]===bX.index)||(L[bY]===j&&bX.index===0)){bZ.series.push(M);M[bY]=bZ;bZ.isDirty=true}})})}},autoIncrement:function(){var M=this,L=M.options,bW=M.xIncrement;bW=aH(bW,L.pointStart,0);M.pointInterval=aH(M.pointInterval,L.pointInterval,1);M.xIncrement=bW+M.pointInterval;return bW},getSegments:function(){var bX=this,L=-1,M=[],bW,bZ=bX.points,bY=bZ.length;if(bY){if(bX.options.connectNulls){bW=bY;while(bW--){if(bZ[bW].y===null){bZ.splice(bW,1)}}if(bZ.length){M=[bZ]}}else{C(bZ,function(b0,b1){if(b0.y===null){if(b1>L+1){M.push(bZ.slice(L+1,b1))}L=b1}else{if(b1===bY-1){M.push(bZ.slice(L+1,b1+1))}}})}}bX.segments=M},setOptions:function(bX){var bW=this.chart,b0=bW.options,L=b0.plotOptions,bZ=L[this.type],bY=bX.data,M;bX.data=null;M=aG(bZ,L.series,bX);M.data=bX.data=bY;this.tooltipOptions=aG(b0.tooltip,M.tooltip);if(bZ.marker===null){delete M.marker}return M},getColor:function(){var L=this.options,bW=this.chart.options.colors,M=this.chart.counters;this.color=L.color||(!L.colorByPoint&&bW[M.color++])||"gray";M.wrapColor(bW.length)},getSymbol:function(){var M=this,bY=M.options.marker,bX=M.chart,L=bX.options.symbols,bW=bX.counters;M.symbol=bY.symbol||L[bW.symbol++];if(/^url/.test(M.symbol)){bY.radius=0}bW.wrapSymbol(L.length)},drawLegendSymbol:function(b2){var b4=this.options,L=b4.marker,bY,b3=b2.options,M,bX=b3.symbolWidth,b1=this.chart.renderer,bW=this.legendGroup,b0=b2.baseline,bZ;if(b4.lineWidth){bZ={"stroke-width":b4.lineWidth};if(b4.dashStyle){bZ.dashstyle=b4.dashStyle}this.legendLine=b1.path([bj,0,b0-4,bk,bX,b0-4]).attr(bZ).add(bW)}if(L&&L.enabled){bY=L.radius;this.legendSymbol=M=b1.symbol(this.symbol,(bX/2)-bY,b0-4-bY,2*bY,2*bY).attr(this.pointAttr[ah]).add(bW)}},addPoint:function(b8,b6,M,bZ){var b1=this,b0=b1.data,b5=b1.graph,L=b1.area,b3=b1.chart,bY=b1.xData,bX=b1.yData,bW=(b5&&b5.shift)||0,b7=b1.options.data,b4,b2=b1.pointClass.prototype;bQ(bZ,b3);if(b5&&M){b5.shift=bW+1}if(L){if(M){L.shift=bW+1}L.isArea=true}b6=aH(b6,true);b4={series:b1};b2.applyOptions.apply(b4,[b8]);bY.push(b4.x);bX.push(b2.toYData?b2.toYData.call(b4):b4.y);b7.push(b8);if(M){if(b0[0]&&b0[0].remove){b0[0].remove(false)}else{b0.shift();bY.shift();bX.shift();b7.shift()}}b1.getAttribs();b1.isDirty=true;b1.isDirtyData=true;if(b6){b3.redraw()}},setData:function(cd,b8){var b3=this,cc=b3.points,bW=b3.options,bZ=b3.initialColor,b5=b3.chart,b4=null,b1=b3.xAxis,b9,M=b3.pointClass.prototype;b3.xIncrement=null;b3.pointRange=b1&&b1.categories?1:bW.pointRange;if(ac(bZ)){b5.counters.color=bZ}var bY=[],cb=[],b0=cd?cd.length:[],L=bW.turboThreshold||1000,b7,b6=b3.pointArrayMap,bX=b6&&b6.length;if(b0>L){b9=0;while(b4===null&&b9<b0){b4=cd[b9];b9++}if(ap(b4)){var b2=aH(bW.pointStart,0),ca=aH(bW.pointInterval,1);for(b9=0;b9<b0;b9++){bY[b9]=b2;cb[b9]=cd[b9];b2+=ca}b3.xIncrement=b2}else{if(aB(b4)){if(bX){for(b9=0;b9<b0;b9++){b7=cd[b9];bY[b9]=b7[0];cb[b9]=b7.slice(1,bX+1)}}else{for(b9=0;b9<b0;b9++){b7=cd[b9];bY[b9]=b7[0];cb[b9]=b7[1]}}}}}else{for(b9=0;b9<b0;b9++){b7={series:b3};M.applyOptions.apply(b7,[cd[b9]]);bY[b9]=b7.x;cb[b9]=M.toYData?M.toYData.call(b7):b7.y}}if(bg(cb[0])){bC(14,true)}b3.data=[];b3.options.data=cd;b3.xData=bY;b3.yData=cb;b9=(cc&&cc.length)||0;while(b9--){if(cc[b9]&&cc[b9].destroy){cc[b9].destroy()}}if(b1){b1.minRange=b1.userMinRange}b3.isDirty=b3.isDirtyData=b5.isDirtyBox=true;if(aH(b8,true)){b5.redraw(false)}},remove:function(bX,bW){var L=this,M=L.chart;bX=aH(bX,true);if(!L.isRemoving){L.isRemoving=true;bi(L,"remove",null,function(){L.destroy();M.isDirtyLegend=M.isDirtyBox=true;if(bX){M.redraw(bW)}})}L.isRemoving=false},processData:function(bX){var b3=this,b0=b3.xData,cb=b3.yData,b1=b0.length,b6=0,ca=b1,b4,bZ,bW,b2=b3.xAxis,b9,bY=b3.options,b5=bY.cropThreshold,L=b3.isCartesian;if(L&&!b3.isDirty&&!b2.isDirty&&!b3.yAxis.isDirty&&!bX){return false}if(L&&b3.sorted&&(!b5||b1>b5||b3.forceCrop)){var M=b2.getExtremes(),b7=M.min,b8=M.max;if(b0[b1-1]<b7||b0[0]>b8){b0=[];cb=[]}else{if(b0[0]<b7||b0[b1-1]>b8){for(b9=0;b9<b1;b9++){if(b0[b9]>=b7){b6=bU(0,b9-1);break}}for(;b9<b1;b9++){if(b0[b9]>b8){ca=b9+1;break}}b0=b0.slice(b6,ca);cb=cb.slice(b6,ca);b4=true}}}for(b9=b0.length-1;b9>0;b9--){bZ=b0[b9]-b0[b9-1];if(bZ>0&&(bW===j||bZ<bW)){bW=bZ}}b3.cropped=b4;b3.cropStart=b6;b3.processedXData=b0;b3.processedYData=cb;if(bY.pointRange===null){b3.pointRange=bW||1}b3.closestPointRange=bW},generatePoints:function(){var bY=this,b9=bY.options,b8=b9.data,bX=bY.data,L,b5=bY.processedXData,b1=bY.processedYData,b0=bY.pointClass,M=b5.length,b4=bY.cropStart||0,b7,b3=bY.hasGroupedData,b2,b6=[],bW;if(!bX&&!b3){var bZ=[];bZ.length=b8.length;bX=bY.data=bZ}for(bW=0;bW<M;bW++){b7=b4+bW;if(!b3){if(bX[b7]){b2=bX[b7]}else{if(b8[b7]!==j){bX[b7]=b2=(new b0()).init(bY,b8[b7],b5[bW])}}b6[bW]=b2}else{b6[bW]=(new b0()).init(bY,[b5[bW]].concat(a5(b1[bW])))}}if(bX&&(M!==(L=bX.length)||b3)){for(bW=0;bW<L;bW++){if(bW===b4&&!b3){bW+=M}if(bX[bW]){bX[bW].destroyElements();bX[bW].plotX=j}}}bY.data=bX;bY.points=b6},translate:function(){if(!this.processedXData){this.processData()}this.generatePoints();var b3=this,b4=b3.chart,bZ=b3.options,bY=bZ.stacking,b2=b3.xAxis,b5=b2.categories,M=b3.yAxis,b8=b3.points,b1=b8.length,cc=!!b3.modifyValue,cd,bW=M.series,b9=bW.length,ce=bZ.pointPlacement==="between";while(b9--){if(bW[b9].visible){if(bW[b9]===b3){cd=true}break}}for(b9=0;b9<b1;b9++){var b6=b8[b9],b7=b6.x,ca=b6.y,L=b6.low,b0=M.stacks[(ca<bZ.threshold?"-":"")+b3.stackKey],cb,bX;b6.plotX=b2.translate(b7,0,0,0,1,ce);if(bY&&b3.visible&&b0&&b0[b7]){cb=b0[b7];bX=cb.total;cb.cum=L=cb.cum-ca;ca=L+ca;if(cd){L=aH(bZ.threshold,M.min)}if(bY==="percent"){L=bX?L*100/bX:0;ca=bX?ca*100/bX:0}b6.percentage=bX?b6.y*100/bX:0;b6.total=b6.stackTotal=bX;b6.stackY=ca}b6.yBottom=ac(L)?M.translate(L,0,1,0,1):null;if(cc){ca=b3.modifyValue(ca,b6)}b6.plotY=(typeof ca==="number")?l(M.translate(ca,0,1,0,1)*10)/10:j;b6.clientX=b4.inverted?b4.plotHeight-b6.plotX:b6.plotX;b6.category=b5&&b5[b6.x]!==j?b5[b6.x]:b6.x}b3.getSegments()},setTooltipPoints:function(bY){var b0=this,b5=[],b3,b2,bX,bW=b0.xAxis,b1=bW?(bW.tooltipLen||bW.len):b0.chart.plotSizeX,L=(bW&&bW.tooltipPosName)||"plotX",b4,bZ,M=[];if(b0.options.enableMouseTracking===false){return}if(bY){b0.tooltipPoints=null}C(b0.segments||b0.points,function(b6){b5=b5.concat(b6)});if(bW&&bW.reversed){b5=b5.reverse()}b3=b5.length;for(bZ=0;bZ<b3;bZ++){b4=b5[bZ];b2=b5[bZ-1]?bX+1:0;bX=b5[bZ+1]?bU(0,bc((b4[L]+(b5[bZ+1]?b5[bZ+1][L]:b1))/2)):b1;while(b2>=0&&b2<=bX){M[b2++]=b4}}b0.tooltipPoints=M},tooltipHeaderFormatter:function(bW){var M=this,L=M.tooltipOptions,bZ=L.xDateFormat,bY=M.xAxis,bX=bY&&bY.options.type==="datetime",b0;if(bX&&!bZ){for(b0 in aT){if(aT[b0]>=bY.closestPointRange){bZ=L.dateTimeLabelFormats[b0];break}}}return L.headerFormat.replace("{point.key}",bX?bE(bZ,bW):bW).replace("{series.name}",M.name).replace("{series.color}",M.color)},onMouseOver:function(){var M=this,bW=M.chart,L=bW.hoverSeries;if(L&&L!==M){L.onMouseOut()}if(M.options.events.mouseOver){bi(M,"mouseOver")}M.setState(aI);bW.hoverSeries=M},onMouseOut:function(){var bW=this,M=bW.options,bX=bW.chart,bY=bX.tooltip,L=bX.hoverPoint;if(L){L.onMouseOut()}if(bW&&M.events.mouseOut){bi(bW,"mouseOut")}if(bY&&!M.stickyTracking&&!bY.shared){bY.hide()}bW.setState();bX.hoverSeries=null},animate:function(b3){var b0=this,b2=b0.chart,b1=b2.renderer,bZ,bY,bX=b0.options.animation,L=b2.clipBox,bW=b2.inverted,M;if(bX&&!bR(bX)){bX=ag[b0.type].animation}M="_sharedClip"+bX.duration+bX.easing;if(b3){bZ=b2[M];bY=b2[M+"m"];if(!bZ){b2[M]=bZ=b1.clipRect(bb(L,{width:0}));b2[M+"m"]=bY=b1.clipRect(-99,bW?-b2.plotLeft:-b2.plotTop,99,bW?b2.chartWidth:b2.chartHeight)}b0.group.clip(bZ);b0.markerGroup.clip(bY);b0.sharedClipKey=M}else{bZ=b2[M];if(bZ){bZ.animate({width:b2.plotSizeX},bX);b2[M+"m"].animate({width:b2.plotSizeX+99},bX)}b0.animate=null;b0.animationTimeout=setTimeout(function(){b0.afterAnimate()},bX.duration)}},afterAnimate:function(){var M=this.chart,bX=this.sharedClipKey,bW=this.group,L=this.trackerGroup;if(bW&&this.options.clip!==false){bW.clip(M.clipRect);this.markerGroup.clip()}if(L){L.clip(M.clipRect)}setTimeout(function(){if(bX&&M[bX]){M[bX]=M[bX].destroy();M[bX+"m"]=M[bX+"m"].destroy()}},100)},drawPoints:function(){var b0=this,b2,b9=b0.points,b4=b0.chart,bX,L,ca,b6,bW,b7,b8,b3,M=b0.options,cb=M.marker,b5,bZ,bY,b1=b0.markerGroup;if(cb.enabled||b0._hasPointMarkers){ca=b9.length;while(ca--){b6=b9[ca];bX=b6.plotX;L=b6.plotY;b3=b6.graphic;b5=b6.marker||{};bZ=(cb.enabled&&b5.enabled===j)||b5.enabled;bY=b4.isInsidePlot(bX,L,b4.inverted);if(bZ&&L!==j&&!isNaN(L)){b2=b6.pointAttr[b6.selected?bf:ah];bW=b2.r;b7=aH(b5.symbol,b0.symbol);b8=b7.indexOf("url")===0;if(b3){b3.attr({visibility:bY?(bK?"inherit":ai):ae}).animate(bb({x:bX-bW,y:L-bW},b3.symbolName?{width:2*bW,height:2*bW}:{}))}else{if(bY&&(bW>0||b8)){b6.graphic=b3=b4.renderer.symbol(b7,bX-bW,L-bW,2*bW,2*bW).attr(b2).add(b1)}}}}}},convertAttribs:function(bW,M,b1,b0){var bY=this.pointAttrToOptions,L,bX,bZ={};bW=bW||{};M=M||{};b1=b1||{};b0=b0||{};for(L in bY){bX=bY[L];bZ[L]=aH(bW[bX],M[L],b1[L],b0[L])}return bZ},getAttribs:function(){var b1=this,bW=ag[b1.type].marker?b1.options.marker:b1.options,b8=bW.states,M=b8[aI],b2,bX=b1.color,b3={stroke:bX,fill:bX},b7=b1.points||[],b0,b5,bZ=[],L,bY=b1.pointAttrToOptions,b4,b6;if(b1.options.marker){M.radius=M.radius||bW.radius+2;M.lineWidth=M.lineWidth||bW.lineWidth+1}else{M.color=M.color||bz(M.color||bX).brighten(M.brightness).get()}bZ[ah]=b1.convertAttribs(bW,b3);C([aI,bf],function(b9){bZ[b9]=b1.convertAttribs(b8[b9],bZ[ah])});b1.pointAttr=bZ;b0=b7.length;while(b0--){b5=b7[b0];bW=(b5.options&&b5.options.marker)||b5.options;if(bW&&bW.enabled===false){bW.radius=0}b4=false;if(b5.options){for(b6 in bY){if(ac(bW[bY[b6]])){b4=true}}}if(b4){L=[];b8=bW.states||{};b2=b8[aI]=b8[aI]||{};if(!b1.options.marker){b2.color=bz(b2.color||b5.options.color).brighten(b2.brightness||M.brightness).get()}L[ah]=b1.convertAttribs(bW,bZ[ah]);L[aI]=b1.convertAttribs(b8[aI],bZ[aI],L[ah]);L[bf]=b1.convertAttribs(b8[bf],bZ[bf],L[ah])}else{L=bZ}b5.pointAttr=L}},destroy:function(){var bX=this,bZ=bX.chart,b2=/AppleWebKit\/533/.test(p),b0,bY,bW=bX.data||[],b1,L,M;bi(bX,"destroy");aU(bX);C(["xAxis","yAxis"],function(b3){M=bX[b3];if(M){N(M.series,bX);M.isDirty=true}});if(bX.legendItem){bX.chart.legend.destroyItem(bX)}bY=bW.length;while(bY--){b1=bW[bY];if(b1&&b1.destroy){b1.destroy()}}bX.points=null;clearTimeout(bX.animationTimeout);C(["area","graph","dataLabelsGroup","group","markerGroup","tracker","trackerGroup"],function(b3){if(bX[b3]){b0=b2&&b3==="group"?"hide":"destroy";bX[b3][b0]()}});if(bZ.hoverSeries===bX){bZ.hoverSeries=null}N(bZ.series,bX);for(L in bX){delete bX[L]}},drawDataLabels:function(){var b5=this,b1=b5.options,bZ=b1.dataLabels;if(bZ.enabled||b5._hasPointLabels){var b4,b3,cg=b5.points,cb,ch,cc,b0,ca=b5.chart,cd=ca.renderer,b8=ca.inverted,L=b5.type,bX=b1.stacking,b7=L==="column"||L==="bar",bY=bZ.verticalAlign===null,ce=bZ.y===null,bW=cd.fontMetrics(bZ.style.fontSize),b6=bW.h,cf=bW.b,M,b2;if(b7){var b9={top:cf,middle:cf-b6/2,bottom:-b6+cf};if(bX){if(bY){bZ=aG(bZ,{verticalAlign:"middle"})}if(ce){bZ=aG(bZ,{y:b9[bZ.verticalAlign]})}}else{if(bY){bZ=aG(bZ,{verticalAlign:"top"})}else{if(ce){bZ=aG(bZ,{y:b9[bZ.verticalAlign]})}}}}b0=b5.plotGroup("dataLabelsGroup","data-labels",b5.visible?ai:ae,6);ch=bZ;C(cg,function(cq){M=cq.dataLabel;bZ=ch;cb=cq.options;if(cb&&cb.dataLabels){bZ=aG(bZ,cb.dataLabels)}b2=bZ.enabled;if(b2){var cj=(cq.barX&&cq.barX+cq.barW/2)||aH(cq.plotX,-999),cs=aH(cq.plotY,-999),cp=bZ.y===null?(cq.y>=b1.threshold?-b6+cf:cf):bZ.y;b4=(b8?ca.plotWidth-cs:cj)+bZ.x;b3=l((b8?ca.plotHeight-cj:cs)+cp)}if(M&&b5.isCartesian&&(!ca.isInsidePlot(b4,b3)||!b2)){cq.dataLabel=M.destroy()}else{if(b2){var cm=bZ.align,cn,cl;cc=bZ.formatter.call(cq.getLabelConfig(),bZ);if(L==="column"){b4+={left:-1,right:1}[cm]*cq.barW/2||0}if(!bX&&b8&&cq.y<0){cm="right";b4-=10}bZ.style.color=aH(bZ.color,bZ.style.color,b5.color,"black");if(M){M.attr({text:cc}).animate({x:b4,y:b3})}else{if(ac(cc)){cn={align:cm,fill:bZ.backgroundColor,stroke:bZ.borderColor,"stroke-width":bZ.borderWidth,r:bZ.borderRadius||0,rotation:bZ.rotation,padding:bZ.padding,zIndex:1};for(cl in cn){if(cn[cl]===j){delete cn[cl]}}M=cq.dataLabel=cd[bZ.rotation?"text":"label"](cc,b4,b3,null,null,null,bZ.useHTML,true).attr(cn).css(bZ.style).add(b0).shadow(bZ.shadow)}}if(b7&&b1.stacking&&M){var ci=cq.barX,cr=cq.barY,ck=cq.barW,co=cq.barH;M.align(bZ,null,{x:b8?ca.plotWidth-cr-co:ci,y:b8?ca.plotHeight-ci-ck:cr,width:b8?co:ck,height:b8?ck:co})}}}})}},getSegmentPath:function(bW){var M=this,L=[];C(bW,function(bX,bY){if(M.getPointSpline){L.push.apply(L,M.getPointSpline(bW,bX,bY))}else{L.push(bY?bk:bj);if(bY&&M.options.step){var bZ=bW[bY-1];L.push(bX.plotX,bZ.plotY)}L.push(bX.plotX,bX.plotY)}});return L},getGraphPath:function(){var bW=this,bX=[],L,M=[];C(bW.segments,function(bY){L=bW.getSegmentPath(bY);if(bY.length>1){bX=bX.concat(L)}else{M.push(bY[0])}});bW.singlePoints=M;bW.graphPath=bX;return bX},drawGraph:function(){var bW=this.options,bX=this.graph,bZ=this.group,M=bW.lineColor||this.color,L=bW.lineWidth,bY=bW.dashStyle,b1,b0=this.getGraphPath();if(bX){aO(bX);bX.animate({d:b0})}else{if(L){b1={stroke:M,"stroke-width":L,zIndex:1};if(bY){b1.dashstyle=bY}this.graph=this.chart.renderer.path(b0).attr(b1).add(bZ).shadow(bW.shadow)}}},invertGroups:function(){var L=this,M=L.chart;function bW(){var bX={width:L.yAxis.len,height:L.xAxis.len};C(["group","trackerGroup","markerGroup"],function(bY){if(L[bY]){L[bY].attr(bX).invert()}})}v(M,"resize",bW);v(L,"destroy",function(){aU(M,"resize",bW)});bW();L.invertGroups=bW},plotGroup:function(M,bW,bX,b0,b1){var b2=this[M],bZ=this.chart,bY=this.xAxis,L=this.yAxis;if(!b2){this[M]=b2=bZ.renderer.g(bW).attr({visibility:bX,zIndex:b0||0.1}).add(b1)}b2.translate(bY?bY.left:bZ.plotLeft,L?L.top:bZ.plotTop);return b2},render:function(){var bW=this,bY=bW.chart,b1,b3=bW.options,M=b3.animation,b2=M&&!!bW.animate,L=bW.visible?ai:ae,bZ=b3.zIndex,bX=bW.hasRendered,b0=bY.seriesGroup;b1=bW.plotGroup("group","series",L,bZ,b0);bW.markerGroup=bW.plotGroup("markerGroup","markers",L,bZ,b0);bW.drawDataLabels();if(b2){bW.animate(true)}bW.getAttribs();b1.inverted=bY.inverted;if(bW.drawGraph){bW.drawGraph()}bW.drawPoints();if(bW.options.enableMouseTracking!==false){bW.drawTracker()}if(bY.inverted){bW.invertGroups()}if(b3.clip!==false&&!bW.sharedClipKey&&!bX){b1.clip(bY.clipRect)}if(b2){bW.animate()}else{if(!bX){bW.afterAnimate()}}bW.isDirty=bW.isDirtyData=false;bW.hasRendered=true},redraw:function(){var M=this,bW=M.chart,L=M.isDirtyData,bX=M.group;if(bX){if(bW.inverted){bX.attr({width:bW.plotWidth,height:bW.plotHeight})}bX.animate({translateX:M.xAxis.left,translateY:M.yAxis.top})}M.translate();M.setTooltipPoints(true);M.render();if(L){bi(M,"updatedData")}},setState:function(bY){var bW=this,M=bW.options,bX=bW.graph,bZ=M.states,L=M.lineWidth;bY=bY||ah;if(bW.state!==bY){bW.state=bY;if(bZ[bY]&&bZ[bY].enabled===false){return}if(bY){L=bZ[bY].lineWidth||L+1}if(bX&&!bX.dashstyle){bX.attr({"stroke-width":L},bY?0:500)}}},setVisible:function(M,b6){var bX=this,b1=bX.chart,b0=bX.legendItem,b2=bX.group,b8=bX.tracker,bZ=bX.dataLabelsGroup,b5=bX.markerGroup,L,bW,b4=bX.points,b3,b7=b1.options.chart.ignoreHiddenSeries,bY=bX.visible;bX.visible=M=M===j?!bY:M;L=M?"show":"hide";if(b2){b2[L]()}if(b5){b5[L]()}if(b8){b8[L]()}else{if(b4){bW=b4.length;while(bW--){b3=b4[bW];if(b3.tracker){b3.tracker[L]()}}}}if(bZ){bZ[L]()}if(b0){b1.legend.colorizeItem(bX,M)}bX.isDirty=true;if(bX.options.stacking){C(b1.series,function(b9){if(b9.options.stacking&&b9.visible){b9.isDirty=true}})}if(b7){b1.isDirtyBox=true}if(b6!==false){b1.redraw()}bi(bX,L)},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(M){var L=this;L.selected=M=(M===j)?!L.selected:M;if(L.checkbox){L.checkbox.checked=M}bi(L,M?"select":"unselect")},drawTracker:function(){var bZ=this,b8=bZ.options,b7=b8.trackByArea,L=[].concat(b7?bZ.areaPath:bZ.graphPath),b3=L.length,b2=bZ.chart,b1=b2.renderer,M=b2.options.tooltip.snap,b5=bZ.tracker,b6=b8.cursor,b0=b6&&{cursor:b6},bY=bZ.singlePoints,b4=this.isCartesian&&this.plotGroup("trackerGroup",null,ai,b8.zIndex||1,b2.trackerGroup),bW,bX;if(b3&&!b7){bX=b3+1;while(bX--){if(L[bX]===bj){L.splice(bX+1,0,L[bX+1]-M,L[bX+2],bk)}if((bX&&L[bX]===bj)||bX===b3){L.splice(bX,0,bk,L[bX-2]+M,L[bX-1])}}}for(bX=0;bX<bY.length;bX++){bW=bY[bX];L.push(bj,bW.plotX-M,bW.plotY,bk,bW.plotX+M,bW.plotY)}if(b5){b5.attr({d:L})}else{bZ.tracker=b1.path(L).attr({isTracker:true,"stroke-linejoin":"bevel",visibility:bZ.visible?ai:ae,stroke:bO,fill:b7?bO:x,"stroke-width":b8.lineWidth+(b7?0:2*M)}).on(B?"touchstart":"mouseover",function(){if(b2.hoverSeries!==bZ){bZ.onMouseOver()}}).on("mouseout",function(){if(!b8.stickyTracking){bZ.onMouseOut()}}).css(b0).add(b4)}}};var R=a8(a2);a.line=R;ag.area=aG(aK,{threshold:0});var ay=a8(a2,{type:"area",getSegmentPath:function(bY){var L=a2.prototype.getSegmentPath.call(this,bY),bZ=[].concat(L),bX,bW=this.options,M=L.length;if(M===3){bZ.push(bk,L[1],L[2])}if(bW.stacking&&!this.closedStacks){for(bX=bY.length-1;bX>=0;bX--){if(bX<bY.length-1&&bW.step){bZ.push(bY[bX+1].plotX,bY[bX].yBottom)}bZ.push(bY[bX].plotX,bY[bX].yBottom)}}else{this.closeSegment(bZ,bY)}this.areaPath=this.areaPath.concat(bZ);return L},closeSegment:function(M,L){var bW=this.yAxis.getThreshold(this.options.threshold);M.push(bk,L[L.length-1].plotX,bW,bk,L[0].plotX,bW)},drawGraph:function(){this.areaPath=[];a2.prototype.drawGraph.apply(this);var M=this.areaPath,L=this.options,bW=this.area;if(bW){bW.animate({d:M})}else{this.area=this.chart.renderer.path(M).attr({fill:aH(L.fillColor,bz(this.color).setOpacity(L.fillOpacity||0.75).get()),zIndex:0}).add(this.group)}},drawLegendSymbol:function(L,M){M.legendSymbol=this.chart.renderer.rect(0,L.baseline-11,L.options.symbolWidth,12,2).attr({zIndex:3}).add(M.legendGroup)}});a.area=ay;ag.spline=aG(aK);var b=a8(a2,{type:"spline",getPointSpline:function(M,b7,b8){var b5=1.5,L=b5+1,bY=b7.plotX,bW=b7.plotY,bX=M[b8-1],b9=M[b8+1],b2,b1,b4,b3,cc;if(bX&&b9){var b0=bX.plotX,bZ=bX.plotY,cb=b9.plotX,ca=b9.plotY,b6;b2=(b5*bY+b0)/L;b1=(b5*bW+bZ)/L;b4=(b5*bY+cb)/L;b3=(b5*bW+ca)/L;b6=((b3-b1)*(b4-bY))/(b4-b2)+bW-b3;b1+=b6;b3+=b6;if(b1>bZ&&b1>bW){b1=bU(bZ,bW);b3=2*bW-b1}else{if(b1<bZ&&b1<bW){b1=aj(bZ,bW);b3=2*bW-b1}}if(b3>ca&&b3>bW){b3=bU(ca,bW);b1=2*bW-b3}else{if(b3<ca&&b3<bW){b3=aj(ca,bW);b1=2*bW-b3}}b7.rightContX=b4;b7.rightContY=b3}if(!b8){cc=[bj,bY,bW]}else{cc=["C",bX.rightContX||bX.plotX,bX.rightContY||bX.plotY,b2||bY,b1||bW,bY,bW];bX.rightContX=bX.rightContY=null}return cc}});a.spline=b;ag.areaspline=aG(ag.area);var aR=ay.prototype,s=a8(b,{type:"areaspline",closedStacks:true,getSegmentPath:aR.getSegmentPath,closeSegment:aR.closeSegment,drawGraph:aR.drawGraph});a.areaspline=s;ag.column=aG(aK,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}},dataLabels:{y:null,verticalAlign:null},threshold:0});var h=a8(a2,{type:"column",tooltipOutsidePlot:true,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){a2.prototype.init.apply(this,arguments);var L=this,M=L.chart;if(M.hasRendered){C(M.series,function(bW){if(bW.type===L.type){bW.isDirty=true}})}},translate:function(){var b5=this,b8=b5.chart,bY=b5.options,bW=bY.stacking,ci=bY.borderWidth,cf=0,b4=b5.xAxis,L=b4.reversed,ch={},M,cg;a2.prototype.translate.apply(b5);if(bY.grouping===false){cf=1}else{C(b8.series,function(ck){var cj=ck.options;if(ck.type===b5.type&&ck.visible&&b5.options.group===cj.group){if(cj.stacking){M=ck.stackKey;if(ch[M]===j){ch[M]=cf++}cg=ch[M]}else{if(cj.grouping!==false){cg=cf++}}ck.columnIndex=cg}})}var cd=b5.points,bZ=f(b4.transA)*(b4.ordinalSlope||bY.pointRange||b4.closestPointRange||1),cc=bZ*bY.groupPadding,b6=bZ-2*cc,cb=b6/cf,ca=bY.pointWidth,b3=ac(ca)?(cb-ca)/2:cb*bY.pointPadding,b1=aH(ca,cb-2*b3),b0=aw(bU(b1,1+2*ci)),b9=(L?cf-b5.columnIndex:b5.columnIndex)||0,ce=b3+(cc+b9*cb-(bZ/2))*(L?-1:1),bX=bY.threshold,b7=b5.yAxis.getThreshold(bX),b2=aH(bY.minPointLength,5);C(cd,function(cl){var cn=cl.plotY,ck=aH(cl.yBottom,b7),cq=cl.plotX+ce,cp=aw(aj(cn,ck)),cm=aw(bU(cn,ck)-cp),cj=b5.yAxis.stacks[(cl.y<0?"-":"")+b5.stackKey],co;if(bW&&b5.visible&&cj&&cj[cl.x]){cj[cl.x].setOffset(ce,b0)}if(f(cm)<b2){if(b2){cm=b2;cp=f(cp-b7)>b2?ck-b2:b7-(cn<=b7?b2:0)}}bb(cl,{barX:cq,barY:cp,barW:b0,barH:cm,pointWidth:b1});cl.shapeType="rect";cl.shapeArgs=co=b8.renderer.Element.prototype.crisp.call(0,ci,cq,cp,b0,cm);if(ci%2){co.y-=1;co.height+=1}cl.trackerArgs=f(cm)<3&&aG(cl.shapeArgs,{height:6,y:cp-3})})},getSymbol:i,drawLegendSymbol:ay.prototype.drawLegendSymbol,drawGraph:i,drawPoints:function(){var bW=this,L=bW.options,bX=bW.chart.renderer,bY,M;C(bW.points,function(bZ){var b0=bZ.plotY;if(b0!==j&&!isNaN(b0)&&bZ.y!==null){bY=bZ.graphic;M=bZ.shapeArgs;if(bY){aO(bY);bY.animate(aG(M))}else{bZ.graphic=bY=bX[bZ.shapeType](M).attr(bZ.pointAttr[bZ.selected?bf:ah]).add(bW.group).shadow(L.shadow,null,L.stacking&&!L.borderRadius)}}})},drawTracker:function(){var bW=this,b0=bW.chart,bZ=b0.renderer,M,b2,bY=+new Date(),b6=bW.options,b3=b6.cursor,bX=b3&&{cursor:b3},b1=bW.isCartesian&&bW.plotGroup("trackerGroup",null,ai,b6.zIndex||1,b0.trackerGroup),b4,b5,L;C(bW.points,function(b7){b2=b7.tracker;M=b7.trackerArgs||b7.shapeArgs;b5=b7.plotY;L=!bW.isCartesian||(b5!==j&&!isNaN(b5));delete M.strokeWidth;if(b7.y!==null&&L){if(b2){b2.attr(M)}else{b7.tracker=bZ[b7.shapeType](M).attr({isTracker:bY,fill:bO,visibility:bW.visible?ai:ae}).on(B?"touchstart":"mouseover",function(b8){b4=b8.relatedTarget||b8.fromElement;if(b0.hoverSeries!==bW&&P(b4,"isTracker")!==bY){bW.onMouseOver()}b7.onMouseOver()}).on("mouseout",function(b8){if(!b6.stickyTracking){b4=b8.relatedTarget||b8.toElement;if(P(b4,"isTracker")!==bY){bW.onMouseOut()}}}).css(bX).add(b7.group||b1)}}})},animate:function(bX){var M=this,bW=M.points,L=M.options;if(!bX){C(bW,function(bZ){var b2=bZ.graphic,b1=bZ.shapeArgs,b0=M.yAxis,bY=L.threshold;if(b2){b2.attr({height:0,y:ac(bY)?b0.getThreshold(bY):b0.translate(b0.getExtremes().min,0,1,0,1)});b2.animate({height:b1.height,y:b1.y},L.animation)}});M.animate=null}},remove:function(){var L=this,M=L.chart;if(M.hasRendered){C(M.series,function(bW){if(bW.type===L.type){bW.isDirty=true}})}a2.prototype.remove.apply(L,arguments)}});a.column=h;ag.bar=aG(ag.column,{dataLabels:{align:"left",x:5,y:null,verticalAlign:"middle"}});var bh=a8(h,{type:"bar",inverted:true});a.bar=bh;ag.scatter=aG(aK,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var bp=a8(a2,{type:"scatter",sorted:false,translate:function(){var L=this;a2.prototype.translate.apply(L);C(L.points,function(M){M.shapeType="circle";M.shapeArgs={x:M.plotX,y:M.plotY,r:L.chart.options.tooltip.snap}})},drawTracker:function(){var bW=this,bY=bW.options.cursor,M=bY&&{cursor:bY},bX=bW.points,L=bX.length,bZ;while(L--){bZ=bX[L].graphic;if(bZ){bZ.element._i=L}}if(!bW._hasTracking){bW.markerGroup.attr({isTracker:true}).on(B?"touchstart":"mouseover",function(b0){bW.onMouseOver();if(b0.target._i!==j){bX[b0.target._i].onMouseOver()}}).on("mouseout",function(){if(!bW.options.stickyTracking){bW.onMouseOut()}}).css(M)}else{bW._hasTracking=true}}});a.scatter=bp;ag.pie=aG(aK,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:false,slicedOffset:10,states:{hover:{brightness:0.1,shadow:false}}});var aN=a8(bo,{init:function(){bo.prototype.init.apply(this,arguments);var L=this,M;bb(L,{visible:L.visible!==false,name:aH(L.name,"Slice")});M=function(){L.slice()};v(L,"select",M);v(L,"unselect",M);return L},setVisible:function(b0){var L=this,bY=L.series.chart,bZ=L.tracker,bX=L.dataLabel,M=L.connector,bW=L.shadowGroup,b1;L.visible=b0=b0===j?!L.visible:b0;b1=b0?"show":"hide";L.group[b1]();if(bZ){bZ[b1]()}if(bX){bX[b1]()}if(M){M[b1]()}if(bW){bW[b1]()}if(L.legendItem){bY.legend.colorizeItem(L,b0)}},slice:function(bW,b1,bZ){var L=this,bX=L.series,bY=bX.chart,M=L.slicedTranslation,b0;bQ(bZ,bY);b1=aH(b1,true);bW=L.sliced=ac(bW)?bW:!L.sliced;b0={translateX:(bW?M[0]:bY.plotLeft),translateY:(bW?M[1]:bY.plotTop)};L.group.animate(b0);if(L.shadowGroup){L.shadowGroup.animate(b0)}}});var m={type:"pie",isCartesian:false,pointClass:aN,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var L=this,M=L.points;C(M,function(bX){var bZ=bX.graphic,bY=bX.shapeArgs,bW=-K/2;if(bZ){bZ.attr({r:0,start:bW,end:bW});bZ.animate({r:bY.r,start:bY.start,end:bY.end},L.options.animation)}});L.animate=null},setData:function(L,M){a2.prototype.setData.call(this,L,false);this.processData();this.generatePoints();if(aH(M,true)){this.chart.redraw()}},getCenter:function(){var M=this.options,bY=this.chart,bX=bY.plotWidth,bW=bY.plotHeight,L=M.center.concat([M.size,M.innerSize||0]),bZ=aj(bX,bW),b0;return af(L,function(b2,b1){b0=/%$/.test(b2);return b0?[bX,bW,bZ,bZ][b1]*bB(b2)/100:b2})},translate:function(){this.generatePoints();var cb=0,b4=this,b7=-0.25,b9=1000,L=b4.options,bW=L.slicedOffset,b3=bW+L.borderWidth,b2,b6=b4.chart,bX,M,ca,b8=b4.points,b5=2*K,bZ,b1,b0,bY=L.dataLabels.distance;b4.center=b2=b4.getCenter();b4.getX=function(cd,cc){ca=aM.asin((cd-b2[1])/(b2[2]/2+bY));return b2[0]+(cc?-1:1)*(bL(ca)*(b2[2]/2+bY))};C(b8,function(cc){cb+=cc.y});C(b8,function(cc){bZ=cb?cc.y/cb:0;bX=l(b7*b5*b9)/b9;b7+=bZ;M=l(b7*b5*b9)/b9;cc.shapeType="arc";cc.shapeArgs={x:b2[0],y:b2[1],r:b2[2]/2,innerR:b2[3]/2,start:bX,end:M};ca=(M+bX)/2;cc.slicedTranslation=af([bL(ca)*bW+b6.plotLeft,Y(ca)*bW+b6.plotTop],l);b1=bL(ca)*b2[2]/2;b0=Y(ca)*b2[2]/2;cc.tooltipPos=[b2[0]+b1*0.7,b2[1]+b0*0.7];cc.labelPos=[b2[0]+b1+bL(ca)*bY,b2[1]+b0+Y(ca)*bY,b2[0]+b1+bL(ca)*b3,b2[1]+b0+Y(ca)*b3,b2[0]+b1,b2[1]+b0,bY<0?"center":ca<b5/4?"left":"right",ca];cc.percentage=bZ*100;cc.total=cb});this.setTooltipPoints()},render:function(){var L=this;L.getAttribs();this.drawPoints();if(L.options.enableMouseTracking!==false){L.drawTracker()}this.drawDataLabels();if(L.options.animation&&L.animate){L.animate()}L.isDirty=false},drawPoints:function(){var bY=this,b0=bY.chart,bZ=b0.renderer,bW,L,b2,b1=bY.options.shadow,M,bX;C(bY.points,function(b3){L=b3.graphic;bX=b3.shapeArgs;b2=b3.group;M=b3.shadowGroup;if(b1&&!M){M=b3.shadowGroup=bZ.g("shadow").attr({zIndex:4}).add()}if(!b2){b2=b3.group=bZ.g("point").attr({zIndex:5}).add()}bW=b3.sliced?b3.slicedTranslation:[b0.plotLeft,b0.plotTop];b2.translate(bW[0],bW[1]);if(M){M.translate(bW[0],bW[1])}if(L){L.animate(bX)}else{b3.graphic=L=bZ.arc(bX).setRadialReference(bY.center).attr(bb(b3.pointAttr[ah],{"stroke-linejoin":"round"})).add(b3.group).shadow(b1,M)}if(b3.visible===false){b3.setVisible(false)}})},drawDataLabels:function(){var b0=this,cs=b0.data,ci,ct=b0.chart,cf=b0.options.dataLabels,bX=aH(cf.connectorPadding,10),cd=aH(cf.connectorWidth,1),L,cp,ce=aH(cf.softConnector,true),b6=cf.distance,bZ=b0.center,cn=bZ[2]/2,M=bZ[1],b4=b6>0,bY,b5,cm,ch=[[],[]],cl,ck,b7,b2,cr,cq=2,co;if(!cf.enabled&&!b0._hasPointLabels){return}a2.prototype.drawDataLabels.apply(b0);C(cs,function(cw){if(cw.dataLabel){ch[cw.labelPos[7]<K/2?0:1].push(cw)}});ch[1].reverse();cr=function(cx,cw){return cw.y-cx.y};cm=ch[0][0]&&ch[0][0].dataLabel&&(ch[0][0].dataLabel.getBBox().height||21);while(cq--){var cu=[],b1,cb=[],cj=ch[cq],cg,b9=cj.length,cv;if(b6>0){for(cg=M-cn-b6;cg<=M+cn+b6;cg+=cm){cu.push(cg)}b1=cu.length;if(b9>b1){b2=[].concat(cj);b2.sort(cr);co=b9;while(co--){b2[co].rank=co}co=b9;while(co--){if(cj[co].rank>=b1){cj.splice(co,1)}}b9=cj.length}for(co=0;co<b9;co++){ci=cj[co];b5=ci.labelPos;var b8=9999,cc,ca;for(ca=0;ca<b1;ca++){cc=f(cu[ca]-b5[1]);if(cc<b8){b8=cc;cv=ca}}if(cv<co&&cu[co]!==null){cv=co}else{if(b1<b9-co+cv&&cu[co]!==null){cv=b1-b9+co;while(cu[cv]===null){cv++}}else{while(cu[cv]===null){cv++}}}cb.push({i:cv,y:cu[cv]});cu[cv]=null}cb.sort(cr)}for(co=0;co<b9;co++){var b3,bW;ci=cj[co];b5=ci.labelPos;bY=ci.dataLabel;b7=ci.visible===false?ae:ai;bW=b5[1];if(b6>0){b3=cb.pop();cv=b3.i;ck=b3.y;if((bW>ck&&cu[cv+1]!==null)||(bW<ck&&cu[cv-1]!==null)){ck=bW}}else{ck=bW}cl=cf.justify?bZ[0]+(cq?-1:1)*(cn+b6):b0.getX(cv===0||cv===cu.length-1?bW:ck,cq);bY.attr({visibility:b7,align:b5[6]})[bY.moved?"animate":"attr"]({x:cl+cf.x+({left:bX,right:-bX}[b5[6]]||0),y:ck+cf.y});bY.moved=true;if(b4&&cd){L=ci.connector;cp=ce?[bj,cl+(b5[6]==="left"?5:-5),ck,"C",cl,ck,2*b5[2]-b5[4],2*b5[3]-b5[5],b5[2],b5[3],bk,b5[4],b5[5]]:[bj,cl+(b5[6]==="left"?5:-5),ck,bk,b5[2],b5[3],bk,b5[4],b5[5]];if(L){L.animate({d:cp});L.attr("visibility",b7)}else{ci.connector=L=b0.chart.renderer.path(cp).attr({"stroke-width":cd,stroke:cf.connectorColor||ci.color||"#606060",visibility:b7,zIndex:3}).translate(ct.plotLeft,ct.plotTop).add()}}}}},drawTracker:h.prototype.drawTracker,drawLegendSymbol:ay.prototype.drawLegendSymbol,getSymbol:function(){}};m=a8(a2,m);a.pie=m;bb(Highcharts,{Axis:z,CanVGRenderer:bT,Chart:a9,Color:bz,Legend:bl,MouseTracker:G,Point:bo,Tick:ax,Tooltip:bH,Renderer:bG,Series:a2,SVGRenderer:d,VMLRenderer:bS,dateFormat:bE,pathAnim:an,getOptions:aA,hasBidiBug:aa,numberFormat:k,seriesTypes:a,setOptions:aY,addEvent:v,removeEvent:aU,createElement:bd,discardElement:bD,css:bP,each:C,extend:bb,map:af,merge:aG,pick:aH,splat:a5,extendClass:a8,pInt:bB,wrap:aP,svg:bK,canvas:aW,vml:!bK&&!aW,product:"Highcharts",version:"2.3.1"})}());Class("InfoSidebar")({prototype:{init:function(b,f){var g,d,a,c;this.element=typeof b==="string"?$(b):b;this.element.data("neon",this);this.tabController=this.element.find(".info-tab-controller");this.voiceHeadline=$(".main-header");this.voicesScroller=$(".voices-scroller");this.announcementBar=$(".flash-message");this.preloadMask=this.element.find(".preload-mask");this.scrollMask=this.element.find(".scroll-mask");this.userWindow=$(window);this.currentImages=0;this.currentCharts=0;if(f!==null){this.infoboxesData=f;c=this.infoboxesData;for(d=0,a=c.length;d<a;d++){g=c[d];this.addInfobox(g)}}this.totalImages=this.scrollMask.find(".infobox").find(".graphic img").length;this.totalCharts=this.scrollMask.find(".infobox").find(".graphic.high-chart").length;this.expandedWidth=this.element.width();this.shown=true;this.needsRecalc=window.innerWidth<=768?true:false;this.animationTime=300;this.collapsedWidth=0;this.expandCollapseAnimationTime=300;this.scrollMask.jScrollPane({autoReinitialise:false});this.scrollMask.height(this.setSize());this.preloadMask.show();this.responsiveHide();this.bindEvents()},addInfobox:function(b){var a=new InfoBox(b,".infobox-sidebar-template",true).render();return this.scrollMask.append(a.addClass("collapsed"))},reportLoad:function(a){switch(a){case"image":this.currentImages++;break;case"chart":this.currentCharts++;break}if(this.currentImages===this.totalImages&&this.currentCharts===this.totalCharts){return this.infoboxMeasures()}},bindEvents:function(){var a=this;this.scrollMask.find(".infobox").find(".graphic img").each(function(b,c){c=$(c);c.load(function(){a.reportLoad("image")}).error(function(){a.reportLoad("image")}).attr("src",c.attr("src"))});this.tabController.click(function(){return a.toggle()}).bind("infoSidebar.hide",function(){if(a.shown){return a.hide()}});this.userWindow.smartresize(function(){a.scrollMask.height(a.setSize());return a.scrollMask.data("jsp").reinitialise()}).resize(function(){a.responsiveHide()});this.scrollMask.delegate(".infobox.active .infobox-extract, .infobox.active .infobox-extract .highcharts-container, .infobox.collapsed","click",function(c){if(c.target.tagName!=="a"&&c.target.tagName!=="A"){var b=$(c.target).closest(".infobox");return a.resetAndExpand(b)}else{return}})},responsiveHide:function(){var a=window.innerWidth;if(a<=1024&&this.shown){this.needsRecalc=true;this.hide()}},setSize:function(){return this.element.height()},toggle:function(){return this.shown?this.hide():this.show()},hide:function(){var c=this,b=this.voicesScroller.width(),a=b+this.expandedWidth;this.element.addClass("closed");this.voicesScroller.animate({left:0},this.animationTime,function(){c.userWindow.trigger("smartresize")});this.announcementBar.removeClass("with-infosidebar");this.tabController.addClass("close-control");this.shown=false},show:function(){var c=this,b=this.voicesScroller.width(),a=b-this.expandedWidth;if(this.needsRecalc){this.infoboxMeasures();this.needsRecalc=false}this.tabController.removeClass("close-control");this.element.removeClass("closed");this.voicesScroller.animate({left:this.expandedWidth},this.animationTime,function(){c.userWindow.trigger("smartresize")});this.announcementBar.addClass("with-infosidebar");this.shown=true},infoboxMeasures:function(){var b=this.scrollMask.find(".infobox.collapsed"),f=b.find(".infobox-extract"),c=b.find(".infobox-complete"),d=c.children(),a=this.getUrlVars();f.each(function(){var g=parseInt($(this).outerHeight(true),10)+10;return $(this).parent(".infobox").attr("data-collapsed-height",g)});b.removeClass("collapsed").addClass("expanded");c.each(function(){var g=parseInt($(this).outerHeight(true),10);return $(this).parent(".infobox").attr("data-expanded-height",g)});b.removeClass("expanded").addClass("collapsed");if(a.infoboxId!==null){return this.resetAndExpand($('.infobox[id="'+a.infoboxId+'"]'))}else{return this.resetAndExpand()}},toggleInfobox:function(b){var a=$('.infobox[position="'+b+'"]');this.expandInfobox(a)},resetAndExpand:function(a){var c,b=this;c=_.debounce(function(){if(a!==null){b.scrollMask.find(".infobox").removeClass("active");a.find(".infobox-extract").animate({opacity:0},b.expandCollapseAnimationTime,function(){a.animate({height:a.attr("data-expanded-height")},b.expandCollapseAnimationTime,function(){a.removeClass("collapsed").addClass("expanded");b.scrollMask.data("jsp").reinitialise();a.find(".infobox-complete").animate({opacity:1},b.expandCollapseAnimationTime,function(){b.scrollMask.find(".infobox").addClass("active");b.scrollView(a);return b.preloadMask.hide()})})})}else{b.scrollMask.data("jsp").reinitialise();return b.preloadMask.hide()}},100);this.scrollMask.find(".infobox").each(function(d,f){f=$(f);f.find(".infobox-complete").animate({opacity:0},b.expandCollapseAnimationTime,function(){f.animate({height:f.attr("data-collapsed-height")},b.expandCollapseAnimationTime,function(){f.removeClass("expanded").addClass("collapsed");f.find(".infobox-extract").animate({opacity:1},b.expandCollapseAnimationTime,function(){b.scrollMask.find(".infobox").addClass("active");b.preloadMask.hide();return c()})})})})},scrollView:function(a){var b=this;if(a.attr("position")!="0"){b.scrollMask.data("jsp").scrollToElement(a)}},getUrlVars:function(){var d=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),c;for(var b=0;b<a.length;b++){c=a[b].split("=");d.push(c[0]);d[c[0]]=c[1]}return d}}});!function(g,a,h){var f,b=g.getElementsByTagName(a)[0],c=/^http:/.test(g.location)?"http":"https";if(!g.getElementById(h)){f=g.createElement(a);f.id=h;f.src=c+"://platform.twitter.com/widgets.js";b.parentNode.insertBefore(f,b)}}(document,"script","twitter-wjs");Class("FacebookNavButton")({prototype:{init:function(a){this.buttonReceiver=document.getElementById("facebook-nav-button");this.fbIframe=document.createElement("iframe");this.fbPath=a.fbPath;this.buttonSource1="http://www.facebook.com/plugins/like.php?href=";this.buttonSource2="&locale=en_US&width=85&height=21&colorscheme=light&layout=button_count&action=like&show_faces=false&send=false&appId=101972966529938";this.compoundSource=this.buttonSource1+this.fbPath+this.buttonSource2;this.fbIframe.src=this.compoundSource;this.fbIframe.setAttribute("scrolling","no");this.fbIframe.setAttribute("frameborder","0");this.fbIframe.setAttribute("allowTransparency","true");this.fbIframe.style.border="none";this.fbIframe.style.overflow="hidden";this.fbIframe.style.width="85px";this.fbIframe.style.height="21px";this.buttonReceiver.appendChild(this.fbIframe)}}});$(function(){var j=false,u=new Votes(".vote-post"),H=new Overlay(".voice-box"),x=new VideoOverlay(".view-video li"),d=new Filters(".filters",".voice-box"),s=$(".tab-controller"),n=$(window),C=$(".voice-wrapper"),G=$(".voice-wrapper .sweeper"),r=$(".voices-container"),g=$(".voices-scroller"),a=$(".tweets-sidebar"),o=$(".timeliner-group"),l=$(".info-sidebar"),c=210,h=null,A=new ToggleTweets(".tweets-sidebar",{hidden:true,specialClass:"media_feed"}),w=true,y=false,v,F,p,z;a.insertBefore(".main-container--inner");if(!isDevice){if(l.length){new InfoSidebar(".info-sidebar",infoboxData)}new Post(".post",{tooltipImage:new Tooltip(".tool-image"),tooltipVideo:new Tooltip(".tool-video"),tooltipLink:new Tooltip(".tool-link"),carousel:new Carousel(),postFilter:d,votes:u,overlays:H});new Tooltip(".public");new Tooltip(".mod");new Tooltip(".widget");new BlogWidget()}if(infoboxTags.length>0){new InfoTagsTooltip(".tags-container")}else{$(".tags-container").hide()}if(window.innerWidth<=768||typeof infoboxData!=="undefined"&&infoboxData.length){w=false}v=new SidebarToggler({showSidebar:w,showToggler:true,showTooltip:!w});new Excerpt(".voice-subtitle");new Message(".flash-message");new ActionTooltip(".flag-div");new FacebookNavButton({fbPath:_fbPath});if($.deparam.querystring().post){var q=$(".source-url.post-"+$.deparam.querystring().post);if(q.length){H.buildOverlay(q)}}if(!$.isEmptyObject(window.timeline_dates)){Timeline.build($(".timeliner-group"),{dates:window.timeline_dates,overlays:H,votes:u})}DynamicMeasures.setTopFaces();var i=function(){var K=l.hasClass("closed")||$(this).width()<=1024?0:l.outerWidth(true),N=window.innerWidth<=768?0:40,M=window.innerWidth<=768?0:(a.hasClass("open")?a.width():0),J=G.width()-N-K-M,I=Math.floor((J)/c),L;if(I!==h){h=I;L=h*c;r.css("width",L)}B()};var D=function(){var I=$(".updating-wrapper"),K=$(".voice-box"),J=0;I.parent().css({position:"relative"});if(I.data("background-loading-image")){$("<img/>").bind("load error",function(){K.find("img").imagesLoaded(function(L){J++;if(J==K.length){k();j=true}});setTimeout(function(){if(!j){k()}},5000)}).attr("src",I.data("background-loading-image"))}else{k()}if(K.length===0){$(".updating-wrapper").hide()}};var k=function(){r.find('[src*="thumb_link-default.png"]').hide();r.isotope({animationEngine:$.browser.mozilla||$.browser.msie?"jquery":"best-available",resizable:false,itemSelector:".voice-box",masonry:{columnWidth:205},callback:function(){$(".updating-wrapper").hide();$("body").css("overflow","hidden");C.removeClass("initial-state");DynamicMeasures.update();setTimeout(function(){n.smartresize()},500)}});y=true};var f=function(){var J=$(".info-tab-controller"),I=$(".tab-controller");J.bind("click",function(){I.trigger("sidebar:hide")});I.bind("click",function(){J.trigger("infoSidebar.hide")});n.bind("ready resize smartresize",function(){i();m();E()}).smartresize();a.bind("tweets.change",function(){i()});$(".voice-subtitle").bind("excerpt.toggle",function(){DynamicMeasures.setTopFaces();A.updatePosition()})};var b=function(){if(posts_votes!==null){$.each(posts_votes,function(J,L){var K=$(".voice-box[data-post-id='"+L.id+"']");K.find("a.source-url").attr("data-voted",true);K.find(".voice-unmoderated li.flag-div .vote-post").toggleClass("flag flag-pressed");K.find(".voice-unmoderated li.flag-div .flag-tooltip span").html("Vote already cast");if(L.positive){K.find(".voice-unmoderated li.up").addClass("up_hover");K.find(".voice-unmoderated li.down").remove()}else{var I=K.find(".voice-action li.flag-div .vote-post").attr("href").split("?");K.find(".voice-action li.flag-div .vote-post").attr("href",[I[0],"rating=1"].join("?"));K.find(".voice-action li.flag-div .vote-post").toggleClass("flag flag-pressed");K.find(".voice-unmoderated li.down").addClass("down_hover");K.find(".voice-unmoderated li.up").remove();K.find(".voice-action li.flag-div .flag-tooltip span").addClass("flagged").html("Unflag Content")}})}};var E=function(){var J=$(document.createElement("img")),L=$(".updating-wrapper"),M=L.height(),N=L.css("background-image"),I=/^url\((['"]?)(.*)\1\)$/.exec(N),O=I?I[2]:"",K;if(L.css("display")==="block"){J.css({opacity:"0",position:"absolute",width:"100%"}).appendTo(L).attr("src",O);if(J.height()>0){K=J.height()<M?"auto 100%":"100% auto";L.css("backgroundSize",K)}else{if(p!=undefined){clearTimeout(p)}p=setTimeout(function(){E()},100)}J.remove()}};var m=function(){var L,I,K,M,J,N,O;if(O){clearTimeout(O)}O=setTimeout(function(){L=$(".nav-bar"),I=$(".main-container"),K=I.find(".voice-title"),M=I.find(".filters-and-mode"),tagsContainer=M.find(".tags-container"),tagsModal=$(".info-tags__tooltip"),J=I.find(".post-and-actions"),N=L.parent();if(window.innerWidth<=480&&!L.hasClass("detached")){L.addClass("detached").insertBefore(I);M.addClass("detached");I.append(M,tagsModal)}else{if(window.innerWidth>480&&L.hasClass("detached")){L.insertBefore(K).removeClass("detached");tagsContainer.append(tagsModal);M.insertAfter(J)}}if(window.innerWidth<=1024){g.append(o)}else{g.after(o)}clearTimeout(O)},100)};var B=function(){var J=window.innerWidth,I=J<=768?0:s.offset().left+s.width(),L=J<=768?0:(a.hasClass("open")?a.width():0),M=l.hasClass("closed")||J<=1024?0:l.width(),K=J-I-M-L-2;g.width(K);if(y){setTimeout(function(){r.isotope("reLayout")},500)}};D();b();E();B();m();f();DynamicMeasures.update();DynamicMeasures.setTopFaces()});Class("VoicesContainer").inherits(Widget)({ELEMENT_CLASS:"",HTML:'        <div class="voices-scroller scroll-primary">            <div class="voices-container initial-state">            </div>        </div>    ',prototype:{withInfoSidebar:false,withAnouncement:false,init:function(a){Widget.prototype.init.call(this,a)}}});Class("VoiceElement").inherits(Widget)({ELEMENT_CLASS:"",HTML:'        <div class="voice-box">            <a href="" class="close-voice-box" data-confirm="Are you sure?" data-method="delete" rel="nofollow" />            <div class="voice-cont">                <a class="source-url" href="">                    <img class="thumb-preview" />                </a>                <h3></h3>                <span></span>                <p class="description"></p>            </div>            <div class="voice-action">                <span class="post-icon-type"></span>                <ul class="actions">                    <li><a class="facebook" target="_blank" /></li>                    <li><a class="twitter" target="_blank" /></li>                    <li class="flag-div">                        <a href="" class="flag vote-post" data-method="post" rel="nofollow" />                        <div class="tooltip flag-tip" data-post-id="">                            <div class="tooltip-positioner">                                <p class="tooltip-arrow"><span></span></p>                                <div class="media-type-info">                                    <strong class="media-type-title"></strong>                                    <p class="flag-tooltip">                                        <span>Flag Inappropiate Content</span>                                    </p>                                </div>                            </div>                        </div>                    </li>                </ul>                <div style="clear:both"></div>            </div>    ',prototype:{id:0,postURL:null,apporved:false,description:null,imageWidth:0,imageHeight:0,thumbURL:null,negativeVotes:0,positiveVotes:0,overallScore:0,sourceService:null,sourceType:null,sourceURL:null,title:null,voiceID:0,createdAt:null,timeAgo:null,service:null,init:function(a){Widget.prototype.init.call(this,a);var b=this;this.element.addClass(this.sourceType);if(!this.approved){this.element.addClass("unmoderated")}this.element.attr({"data-post-id":this.id,"data-created-at":this.createdAt});this.element.find("a.close-voice-box").attr("href",this.postURL);this.element.find("a.source-url").attr({"data-type":b.sourceType,"data-title":b.title,"data-permalink":b.url,"data-ago":b.timeAgo,"data-id":b.id,"data-voted":false,"data-service":b.service,href:b.postURL});this.element.find(".thumb-preview").attr({src:b.thumbURL,width:b.imageWidth,height:b.imageHeight})}}});